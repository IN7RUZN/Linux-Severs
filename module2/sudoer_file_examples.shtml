<html>

<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-4031247137266443",
          enable_page_level_ads: true
     });
</script>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Sudoer File Examples</title>
<link rel="stylesheet" type="text/css" href="../../CSS/main.css"></head>

<body>

<basefont face="Times" size="3">
<table border="0" width="100%" id="table1" cellspacing="1" cellpadding="4"  >
<tr>
<td rowspan="2" width="40%">

<p align="center"><img border="0" src="/Images/splogo.gif" width="45"  ><font face="Bernard MT Condensed" color="#FF0000" size="7">
<font color="#FF0000"><a href="/index.shtml">Softpanorama</a></font></font></p>
</td>
<td align="center">

<b><a href="/index.shtml"><font size="2">Home</font></a></b></td>
<td align="center">

<b><a href="/switchboard.shtml"><font size="2">Switchboard</font></a></b></td>
<td align="center">

<b><a href="/Admin/index.shtml"><font size="2">Unix Administration</font></a></b></td>
<td align="center">

<b><a href="/Commercial_linuxes/RHEL/index.shtml"><font size="2">Red Hat</font></a></b></td>
<td align="center">

<b><a href="/Net/index.shtml"><font size="2">TCP/IP Networks</font></a></b></td>
<td align="center">

<b><a href="/Skeptics/Political_skeptic/Neoliberalism/index.shtml"><font size="2">Neoliberalism</font></a></b></td>
<td align="center">

<b><a href="/Social/Toxic_managers/index.shtml"><font size="2">Toxic Managers</font></a></b></td>
</tr>
<tr>
<td colspan="7" align="center">

<font size="2" face="Arial"><b>May the source be with you, but remember the KISS principle ;-) <i><br>
</i>Skepticism and critical thinking is not panacea, but can help to understand the world better<i> </i></b></font></td>
</tr>
</table>
<hr width="100%" noshade size="5" color="#FF0000">
<center>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- top_large_banner -->
<ins class="adsbygoogle"
     style="display:inline-block;width:970px;height:90px"
     data-ad-client="ca-pub-4031247137266443"
     data-ad-slot="9138796897"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</center>


<h1>Sudoer File Examples</h1>

<p><b><a href="../../index.shtml"><font size="2">Softpanorama main</font></a><font size="2">&nbsp; 
&gt;&nbsp; <a href="../index.shtml">Access Control in Operating Systems</a> &gt; </font><a href="../sudo.shtml"><font size="2">sudo</font></a></b></p>
<table border="1" width="100%" bgcolor="#FFFFCC">
	<tr>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">

		<p align="center"><a href="#News">News</a></p>
		</td>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">

		<p align="center"><b><a href="../sudo.shtml">sudo</a></b></p>
		</td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<small><a href="#Recommended_Links">Recommended Links</a></small></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="../su_command.shtml">The su Command</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<a href="#Reference"><font size="1"><b>&nbsp;</b></font></a><b><a href="../Articles/intro_to_sudo.shtml">Introduction 
		to Sudo</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="sudoer_file_examples.shtml">Sudoer file Examples</a></b></td>
	</tr>
	<tr>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">
		<b><a href="../../Commercial_unixes/AIX/OSS/sudo_on_aix.shtml">Sudo on AIX</a></b></td>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">
		<a href="../../Commercial_unixes/HPUX/OSS/sudo_for_hpux.shtml"><b>S</b></a><b><a href="../../Commercial_unixes/HPUX/OSS/sudo_for_hpux.shtml">udo 
		for HPUX</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a target="_blank" href="../../Solaris/Security/rbac.shtml">Solaris RBAC</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a target="_blank" href="../Groups/index.shtml">Group administration</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="../Permissions/suid_attribute.shtml">SUID/SGID attributes</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="../Groups/wheel_group.shtml">Wheel Group</a></b></td>
	</tr>
	<tr>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center" height="25">
		<b><a href="../umask.shtml">The umask</a></b></td>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center" height="25">
		&nbsp;</td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF" height="25">
		&nbsp;</td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF" height="25">
		&nbsp;</td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF" height="25">
		&nbsp;</td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF" height="25">
		&nbsp;</td>
	</tr>
	<tr>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">
		<b><a href="../Accounts/root_account.shtml">Root Account</a></b></td>
		<td width="16%" bordercolorlight="#000000" bordercolordark="#FFFFFF" align="center">
		<b><a href="../Accounts/Root/root_security.shtml">Root Security</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="../../Admin/admin_horror_stories.shtml">Admin Horror Stories</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="sudo_history.shtml">History</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a target="_blank" href="../../Bulletin/Humor/index.shtml">Humor</a></b></td>
		<td width="17%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">
		<b><a href="#Etc">Etc </a></b></td>
	</tr>
</table>

<table border="0" width="178" height="620" align="right" cellspacing="4" bgcolor="#FFFFFF">
   <tr>
      <td>

      <table border="1" width="174" height="616" align="center" bgcolor="#FF0000">
         <tr>
            <td>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Upper skyscaper -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-4031247137266443"
     data-ad-slot="0371843916"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
            </td>
         </tr>
      </table></td>
   </tr>
</table>
<ul>

	<li><b><a href="#Introduction">Introduction</a></b></li>

    <li><b><a href="#Aliases">Using Aliases</a></b></li>

    <li><b><a href="#non_root_execution">Non-Root Execution</a></b></li>

	
    <li><b><a href="#Tip:_Study_the_default_sudoers_file">Tip: Study the default sudoers file</a></b></li>

    <li><b><a href="#Secure_editing_via_sudoedit_pseudo_command">Secure editing via sudoedit pseudo command</a></b></li>

	
</ul>
<hr noshade color="#FF0000" width="33%" size="7">

<h3><a name="Introduction">Introduction</a></h3>

	<p>The main problem with creation of sudo files is too much zeal. You need to keep it simple because interaction between complex 
    sudo setup and Unix permission model usually means that Unix permission model is broken.&nbsp; Sudo does not particularly try to 
    prevent against misconfiguration. Its documentation is difficult to understand; if in doubt, ask around and don't try to do 
    things that are too complicated. <em>The workings assumptions should be that nothing works &quot;oout of the&nbsp; box&quot; the first 
    time you add/modfy suduers file, and each modification or addition requires testing. </em></p>

<p>Default <tt>/etc/sudoers</tt> file supplied with sudo on<i> ad hoc</i> level introduces 
    three additional classes of users into Unix:</p>
<ul>

   <li><b>multiple system administrator (via wheel group)</b></li>

   <li><b>operators</b> (can shutdown and boot server, use <tt>service</tt> command for managing daemons, mount volumes, etc)</li>

   <li><b>users</b> (more restricted category that operators. Which add to normal user capabilities the ability to execute specific 
   commands and view selected system files as well as view the list of process of all users via ps;</li>
</ul>

	<p>The central directive of sudo is so called &quot;user specification&quot;.&nbsp; It is usually written with the help of aliases.&nbsp; It 
    have right and left part separate by equal sign.</p>

<p>the right part consists of two entries:</p>
<ul>

   <li><em>user_list</em> users that can execute particular command&nbsp; and on the right part (users can be defined via individual name, group to 
   which they belong of alias)</li>

   <li>host list servers to which this line is applicable. Each server name is interpreted &quot;literally&quot; by comparing it with value 
   returned by the <tt>hostname</tt> command. So <tt>localhost</tt> is not equal to just current host: you need to specify exact 
   name of the server returned by hostname command or ALL&nbsp; (ALL means that the check is skipped).&nbsp; </li>
</ul>

<p>The left part is more complex and consists of </p>
<ol>

   <li>A <code>Runas_Spec</code> determines the user and/or the group that a command may be run as. If no <code>Runas_Spec 
   provided</code>, the command will run as root, or the user listed in -u parameter of sudo invocation. you iether specify user 
   user <tt>(operator) </tt>or user and group <tt>(operator:users)</tt> or just group <tt>(:users)</tt>. If group is not specified the group used as primary 
   group in /etc/passwd for the particular user will be used. you can also use aliases of corresponding type (<tt>Runas_Alias) </tt>
   and comma separated lists.</li>

   <li><em>Command_list</em> (the list of commands, separate by commas)&nbsp; that can be executed using those user/group specification for 
   the users and servers define in the left part<ul>

      <li>Command can has one or several &quot;tags&quot; such as <tt>NOPASSWD:</tt> <tt>NOEXEC:</tt>&nbsp; the specify additional detail of command 
      execution</li>
   </ul>
   </li>
</ol>

<p>Formally you can define &quot;user specification&quot; as </p>

<pre>command_definition :=   [&lt;run_as_list&gt;] [&lt;tag list&gt;] &lt;command list&gt;</pre>

<pre>&lt;user list&gt; &lt;host list&gt; = command_definition [, command_definition ]...</pre>

<p>Both <tt>run_as_list </tt>and <tt>tag_list</tt> are options. The right side can be a list of definitions&nbsp;&nbsp; separated by 
commas. </p>

<p>The<em> command list</em> can consist of commands and directories. A directory, for example /usr/bin/ should end with slas and 
means that all command in the given directory can be executed (see the example below). </p>

<p>For example</p>

<pre>%users	locahost = (root)   NOPASSWD: tail  /var/log/messages
%operators ALL   = (root)   NOPASSWD:NOEXEC: /usr/bin/vim</pre>or, using list
<pre>
%users	localhost = (operator) /bin/ls, (root) /bin/kill, /sbin/shutdown</pre>
in this case all users which belong to the group users are allowed to run the command <tt>/bin/ls</tt> as operator, but command <tt>/bin/kill</tt> and 
<tt>/sbin/shutdown</tt> as root. 


                           <p>Now let's provide an example with the directory specification: </p>


                           <pre>%operators	localhost = (apache) /usr/sbin/</pre>
                        That means that users who belong to the <tt>operators</tt> group may run any command in <tt>/usr/sbin/</tt> 
                        as user apache. 
        
<h3><b><a name="Aliases">Using Aliases</a></b></h3>

<p>There are four kinds of aliases: </p>
<ol>

   <li><tt>User_Alias</tt> -- as the name implies it defines group of users, which can cosist of individual names, groups and other 
   user aliases, defined previously)</li>

   <li><tt>Runas_Alias</tt> -- this&nbsp; is often misunderstood type of aliases. It specifies the particular user (<tt>root</tt>,
   <tt>apache</tt>, etc) and/or groups under which 
   particular command listed in the right part can be executed. </li>

   <li><tt>Host_Alias</tt> (we will ignore them as they are required only in complex installations; and usually this is done by people 
   who do not need this page). Generally you use iether <tt>ALL</tt> or <em>exact host name</em> (as returned by the <tt>hostname</tt> 
   command) 
   if you sudoers file are individual to the particular host&nbsp;and you distribute a single file to the the group of proper host with pdsh or similar 
   parallel shell. Using <tt>localhost</tt> does not work for speciafication of &quot;just this host&quot;, use ALL instead.&nbsp; <tt><em>
   <span style="font-weight: 400">his type of aliases should normally end with suffix </span></em>_HOSTS,<em><span style="font-weight: 400"> 
   for example</span> </em>WEB_HOSTS</tt></li>

   <li>&nbsp;<tt>Cmnd_Alias -- T</tt>his is the list of command that you want to allow to execute with several twists such as 
   wildcards, specification of directories, etc. <tt><em><span style="font-weight: 400">This type of aliases should normally end 
   with suffix </span></em>_CMD,<em><span style="font-weight: 400"> for example</span> </em> PROCESSES_CMD</tt></li>
</ol>

	<p>The format to declare aliases is quite simple. &nbsp;Each alias definition is of the form: </p>

<pre>Alias_Type NAME = item1, item2, ... </pre>

	<p>The right part&nbsp; is a comma separated list. Blanks can be used after each comma. If you want to exclude entry instead of including it it needs to be 
    listed with the prefix '!' </p>

	<pre>Runas_Alias OPERATORS = sge, vasp, accelrys
Runas_Alias ADMINS = %wheel, root
User_Alias RESEARCHERS = user1, user2, ...
User_Alias NOROOT = ALL, !root, !%wheel  # here we specify &quot;any user other then root, or those who belong to the group wheel&quot;
                    Primary admin (who typically is a member  of the group &quot;wheel&quot;) needs to be blocked too as typically he has access to root via sudo </pre>

<h4 title="Ss">NOTE: Limitations of the ‘!’ operator</h4>
<blockquote>
   <em>You should never use &quot;negate&quot; commands in</em> <tt>Cmnd_Alias </tt> <em> from </em> <b title="Sy">ALL</b> <em>using the</em> ‘<code>!</code>’ 
   <em>operator</em>. A user can trivially circumvent this by copying the desired command to a different name and then executing that command. For 
   example, this <tt>Cmnd_Alias</tt> is deeply wrong: 

   <pre><tt>Cmnd_Alias </tt>NORMAL_CMD = ALL, !SU, !SHELLS</pre>
   Doesn't really prevent users, who are allowed to run command listed under this alias running the commands listed in SU or SHELLS 
   since any of them can simply copy those commands to a different name, or use a shell escape from an editor or other program. 

   <p>In general, if a&nbsp; <tt>Cmnd_Alias </tt>has <b title="Sy">ALL</b> element in it there is <em>nothing to prevent users who are 
   assigned this alias from creating their own program that gives them a root shell </em>(or making their own copy of a shell) regardless 
   of any ‘<code>!</code>’ elements in the user specification.</p>
</blockquote><h3><b><a name="non_root_execution">Non-Root Execution</a></b></h3>

	<p>It is also possible to have a user run an application as a different, non-root 
	user. This can be very interesting if you run applications as a different user 
	(for instance <tt>apache</tt> for the web server) and want to allow certain users to 
	perform administrative steps as that user (like killing zombie processes).
	</p>

	<p>Inside <tt>/etc/sudoers</tt> you list the user(s) in between ( and ) before the command 
	listing: </p>

	<pre>users  hosts = (run-as) commands</pre>

	<p>For instance, to allow users defined as <tt>WEBMASTERS</tt> to run the kill tool as the apache user:
	</p>

	<pre>
Cmnd_Alias KILL = /bin/kill, /usr/bin/pkill

WEBMASTERS&nbsp;  locahost = (apache) KILL</pre>

	<p>With this set, the user can run <tt>sudo -u</tt> to select the user he wants to run 
	the application as: </p>

	<pre>$ sudo -u apache pkill apache</pre>

	<p>You can set an alias for the user to run an application as using the<tt> Runas_Alias</tt> 
	directive. Its use is identical to the other <tt>_Alias</tt> directives we have seen 
	before. </p>

<p>This way you can also exclude <tt>root</tt> from the list of the users</p>

<pre>Runas_Alias NOROOT = ALL, !root
WEBMASTERS&nbsp;&nbsp; locahost = (NOROOT) KILL</pre>

<h3><a name="Tip:_Study_the_default_sudoers_file">Tip: Study the default sudoers file</a></h3>

<p>Sudo provides a well documented sudoers file which represents a pretty 
educational example: </p>

<pre>
# Sample /etc/sudoers file.
#
# This file MUST be edited with the 'visudo' command as root.
#
# See the sudoers man page for the details on how to write a sudoers file.
#

##
# User alias specification
##
User_Alias	FULLTIMERS = millert, mikef, dowdy
User_Alias	PARTTIMERS = bostley, jwfox, crawl
User_Alias	WEBMASTERS = will, wendy, wim

##
# Runas alias specification
##
Runas_Alias	OP = root, operator
Runas_Alias	DB = oracle, sybase

##
# Host alias specification
##
Host_Alias	SPARC = bigtime, eclipse, moet, anchor:\
		SGI = grolsch, dandelion, black:\
		ALPHA = widget, thalamus, foobar:\
		HPPA = boa, nag, python
Host_Alias	CUNETS = 128.138.0.0/255.255.0.0
Host_Alias	CSNETS = 128.138.243.0, 128.138.204.0/24, 128.138.242.0
Host_Alias	SERVERS = master, mail, www, ns
Host_Alias	CDROM = orion, perseus, hercules

##
# Cmnd alias specification
##
Cmnd_Alias	DUMPS = /usr/sbin/dump, /usr/sbin/rdump, /usr/sbin/restore, \
			/usr/sbin/rrestore, /usr/bin/mt
Cmnd_Alias	KILL = /usr/bin/kill
Cmnd_Alias	PRINTING = /usr/sbin/lpc, /usr/bin/lprm
Cmnd_Alias	SHUTDOWN = /usr/sbin/shutdown
Cmnd_Alias	HALT = /usr/sbin/halt
Cmnd_Alias	REBOOT = /usr/sbin/reboot
Cmnd_Alias	SHELLS = /sbin/sh, /usr/bin/sh, /usr/bin/csh, /usr/bin/ksh, \
			 /usr/local/bin/tcsh, /usr/bin/rsh, \
			 /usr/local/bin/zsh
Cmnd_Alias	SU = /usr/bin/su
Cmnd_Alias	VIPW = /usr/sbin/vipw, /usr/bin/passwd, /usr/bin/chsh, \
		       /usr/bin/chfn

##
# Override built-in defaults
##
Defaults               syslog=auth
Defaults>root          !set_logname
Defaults:FULLTIMERS    !lecture
Defaults:millert       !authenticate
Defaults@SERVERS       log_year, logfile=/var/log/sudo.log

##
# User specification
##

# root and users in group wheel can run anything on any machine as any user
root		ALL = (ALL) ALL
%wheel		ALL = (ALL) ALL

# full time sysadmins can run anything on any machine without a password
FULLTIMERS	ALL = NOPASSWD: ALL

# part time sysadmins may run anything but need a password
PARTTIMERS	ALL = ALL

# jack may run anything on machines in CSNETS
jack		CSNETS = ALL

# lisa may run any command on any host in CUNETS (a class B network)
lisa		CUNETS = ALL

# operator may run maintenance commands and anything in /usr/oper/bin/
operator	ALL = DUMPS, KILL, SHUTDOWN, HALT, REBOOT, PRINTING,\
		sudoedit /etc/printcap, /usr/oper/bin/

# joe may su only to operator
joe		ALL = /usr/bin/su operator

# pete may change passwords for anyone but root on the hp snakes
pete		HPPA = /usr/bin/passwd [A-z]*, !/usr/bin/passwd root

# bob may run anything on the sparc and sgi machines as any user
# listed in the Runas_Alias "OP" (ie: root and operator)
bob		SPARC = (OP) ALL : SGI = (OP) ALL

# jim may run anything on machines in the biglab netgroup
jim		+biglab = ALL

# users in the secretaries netgroup need to help manage the printers
# as well as add and remove users
+secretaries	ALL = PRINTING, /usr/bin/adduser, /usr/bin/rmuser

# fred can run commands as oracle or sybase without a password
fred		ALL = (DB) NOPASSWD: ALL

# on the alphas, john may su to anyone but root and flags are not allowed
john		ALPHA = /usr/bin/su [!-]*, !/usr/bin/su *root*

# jen can run anything on all machines except the ones
# in the "SERVERS" Host_Alias
jen		ALL, !SERVERS = ALL

# jill can run any commands in the directory /usr/bin/, except for
# those in the SU and SHELLS aliases.
jill		SERVERS = /usr/bin/, !SU, !SHELLS

# steve can run any command in the directory /usr/local/op_commands/
# as user operator.
steve		CSNETS = (operator) /usr/local/op_commands/

# matt needs to be able to kill things on his workstation when
# they get hung.
matt		valkyrie = KILL

# users in the WEBMASTERS User_Alias (will, wendy, and wim)
# may run any command as user www (which owns the web pages)
# or simply su to www.
WEBMASTERS	www = (www) ALL, (root) /usr/bin/su www

# anyone can mount/unmount a cd-rom on the machines in the CDROM alias
ALL		CDROM = NOPASSWD: /sbin/umount /CDROM,\
		/sbin/mount -o nosuid\,nodev /dev/cd0a /CDROM</pre>

<h3 title="Ss" id="Secure_editing"><a name="Secure_editing_via_sudoedit_pseudo_command">Secure editing via sudoedit pseudo command</a></h3>
From man page: 

<blockquote>

   <p>The <b title="Nm">sudoers</b> plugin includes <b title="Nm">sudoedit</b> support which allows users to securely edit files with the 
editor of their choice. As <b title="Nm">sudoedit</b> is a built-in command, it must be specified in the <i title="Em">sudoers</i> 
file without a leading path. However, it may take command line arguments just as a normal command does. Wildcards used in
   <i title="Em">sudoedit</i> command line arguments are expected to be path names, so a forward slash (‘<code>/</code>’) will not be 
matched by a wildcard. 

</p>
Unlike other <b title="Nm">sudo</b> commands, the editor is run with the permissions of the invoking user and with the environment 
unmodified. More information may be found in the description of the <b title="Fl">-e</b> option in
   <a target="_blank" href="https://www.sudo.ws/man/1.8.18/sudo.man.html">sudo(8)</a>. 

   <p>For example, to allow user operator to edit the “message of the day” file: 

</p>

   <pre>operator	sudoedit /etc/motd</pre>The operator user then runs <b title="Nm">sudoedit</b> as follows: 

   <pre>$ sudoedit /etc/motd</pre>The editor will run as the operator user, not root, on a temporary copy of <i title="Pa">/etc/motd</i>. After the file has been 
edited, <i title="Pa">/etc/motd</i> will be updated with the contents of the temporary copy. 

   <p>Users should <i title="Em">never</i> be granted <b title="Nm">sudoedit</b> permission to edit a file that resides in a directory the 
user has write access to, either directly or via a wildcard. If the user has write access to the directory it is possible to replace 
the legitimate file with a link to another file, allowing the editing of arbitrary files. To prevent this, starting with version 
1.8.16, symbolic links will not be followed in writable directories and <b title="Nm">sudoedit</b> will refuse to edit a file 
located in a writable directory unless the <i title="Em">sudoedit_checkdir</i> option has been disabled or the invoking user is 
root. Additionally, in version 1.8.15 and higher, <b title="Nm">sudoedit</b> will refuse to open a symbolic link unless either the
   <i title="Em">sudoedit_follow</i> option is enabled or the <i title="Em">sudoedit</i> command is prefixed with the <code>FOLLOW</code> 
tag in the <i title="Em">sudoers</i> file. 

</p>
</blockquote>
<hr>
<table border="1" width="100%">
<tr>
<td width="100%" align="center"  colspan="5">
	<center><b>Top updates</b></center>
<iframe src="/topupdates.shtml" width="100%" height="630"><p>Your browser does not support iframes.</p>
</iframe>
<hr></td>
<tr>
<td width="10%" align="center" bgcolor="#FFFF00">
<b><a href="http://www.softpanorama.info/bulletin.shtml"><font size="2">Bulletin</font></a></b></td>
<td width="10%" align="center" bgcolor="#FFFF00">
<b>
<a href="/index.shtml#Latest">Latest</a></b></td>
<td width="10%" align="center" bgcolor="#FFFF00">
<b>
<a href="http://www.google.com/search?q=site:www.softpanorama.org&hl=en&lr=&tbo=1&prmd=ivns&source=lnt&tbs=qdr:y&sa=X&ei=aML0TaHgO4fUgAedxtjzCw&ved=0CAsQpwUoBQ&biw=1256&bih=801&cad=cbv#q=site:www.softpanorama.org&hl=en&lr=&tbo=1&prmd=ivns&source=lnt&tbs=qdr:w&sa=X&ei=csL0TYHsI4LagAeKu7DPCw&ved=0CAwQpwUoAw&fp=fb58e14853731932&biw=1256&bih=801">
Past week</a>
</b>
</td>
<td width="10%" align="center" bgcolor="#FFFF00">
<b>
<a href="http://www.google.com/search?q=site:www.softpanorama.org&hl=en&lr=&tbo=1&prmd=ivns&source=lnt&tbs=qdr:m&sa=X&ei=IMD0TdjLHMXUgQe9t6zfCw&ved=0CA0QpwUoBA">
Past month</a>
</b>
</td>
<td width="60%">
<center><b>Google Search</b></center>
<center><form action="http://www.google.com/cse" id="cse-search-box" target="_blank">
<input type="hidden" name="cx" value="partner-pub-4031247137266443:gc7406rpojx" />
<input type="hidden" name="ie" value="ISO-8859-1" />
<input type="text" name="q1" size="60" />
<input type="submit" name="sa" value="Search" />
</form></center>
</tr>
</table>


<hr>



<hr>
<h2><a name="NEWS_TOC">NEWS CONTENTS</a></h2>
<ul>
<li>20191108 : <a href="#n20191108X_what_you_probably_didn_t_know_about_sudo">What you probably didn't know about   sudo</a> <i></i>  ( Nov 08, 2019 , <a target="_blank" href= "https://opensource.com/article/19/10/know-about-sudo">opensource.com</a> ) </li>
<li>20191022 : <a href="#n20191022X_flaw_in_sudo_enables_non_privileged_users_to_run_commands_as_root">   Flaw In Sudo Enables Non-Privileged Users To Run Commands As Root</a> <i></i>  ( Oct 22, 2019 , <a target="_blank" href= "https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root"> linux.slashdot.org</a> ) </li>
<li>20180730 : <a href="#n20180730X_sudo_related_horror_story">Sudo related horror story</a> <i></i>  ( Jul 30, 2018 , <a target="_blank" href="https://www.sott.net/quote/89">www.sott.net</a> ) </li>
<li>20180730 : <a href="#n20180730X_configuring_sudo_access">   Configuring sudo Access</a> <i></i>  ( Jul 30, 2018 , <a target="_blank" href= "https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/2/html/Getting_Started_Guide/ch02s03.html"> access.redhat.com</a> ) </li>
<li>20180730 : <a href="#n20180730X_10_useful_sudoers_configurations_for_setting_sudo_in_linux">10 Useful Sudoers   Configurations for Setting 'sudo' in Linux</a> <i></i>  ( Jul 30, 2018 , <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a> ) </li>
<li>20180730 : <a href="#n20180730X_configuring_sudo_and_adding_users_to_wheel_group">   Configuring sudo and adding users to Wheel group</a> <i></i>  ( Nov 28, 2014 , <a target="_blank" href= "https://linuxnlenux.wordpress.com/2014/11/28/configuring-sudo-and-adding-users-to-wheel-group-2/"> linuxnlenux.wordpress.com</a> ) </li>
<li>20180730 : <a href="#n20180730X_non_root_user_getting_root_access_after_running_sudo_vi_etc_hosts">   Non-root user getting root access after running sudo vi -etc-hosts</a> <i></i>  ( Jul 30, 2018 , <a target="_blank" href= "https://unix.stackexchange.com/questions/429374/non-root-user-getting-root-access-after-running-sudo-vi-etc-hosts"> unix.stackexchange.com</a> ) </li>
<li>20180621 : <a href="#n20180621X_create_a_sudo_log_file">Create a Sudo Log   File</a> <i> by Aaron Kili</i>  ( Jun 21, 2018 , <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a> ) </li>
<li>20180621 : <a href="#n20180621X_lecture_sudo_users">Lecture: Sudo   Users</a> <i> by Aaron Kili</i>  ( Jun 21, 2018 , <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_suse_doc_administration_guide_configuring_sudo">Suse Doc   Administration Guide - Configuring sudo</a> <i></i>  ( Sep 06, 2013 , <a target="_blank" href= "https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_sudo_conf.html">www.suse.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_sudo_archwiki">Sudo -   ArchWiki</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://wiki.archlinux.org/index.php/Sudo">wiki.archlinux.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_sudo_gentoo_wiki">sudo - Gentoo   Wiki</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_trick_4_switching_to_root">Trick 4:   Switching to root</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://www.networkworld.com/article/3236499/linux/some-tricks-for-using-sudo.html">www.networkworld.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_prolonging_password_timeout">Prolonging   password timeout</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_shared_administration_with_sudo">Shared Administration with   Sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://www.freebsd.org/doc/handbook/security-sudo.html">www.freebsd.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_scom_1801_2016_and_2012_configuring_sudo_elevation_for_unix_and_linux_monitoring">   SCOM 1801, 2016 and 2012 Configuring sudo Elevation for UNIX and Linux Monitoring</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://social.technet.microsoft.com/wiki/contents/articles/7375.scom-1801-2016-and-2012-configuring-sudo-elevation-for-unix-and-linux-monitoring.aspx"> technet.microsoft.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_sudo_and_sudoers_configuration_servers_for_hackers">Sudo and Sudoers Configuration   Servers for Hackers</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://serversforhackers.com/c/sudo-and-sudoers-configuration">serversforhackers.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_ibm_knowledge_center_configuring_sudo">   IBM Knowledge Center - Configuring sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://www.ibm.com/support/knowledgecenter/en/STXKQY_4.2.3/com.ibm.spectrum.scale.v4r23.doc/bl1adm_configsudo.htm"> www.ibm.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_understanding_and_using_sudo_in_unix_or_linux_with_examples">Understanding   and using sudo in Unix or Linux (with examples)</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "http://aplawrence.com/Basics/sudo.html">aplawrence.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_configuring_sudo_explaination_with_an_example">Configuring sudo Explaination   with an example</a> <i> by <a target="_blank" href="https://www.linux.com/users/ankit">Ankit Mehta</a></i>  ( May 14, 2009 , <a target="_blank" href= "https://www.linux.com/blog/configuring-sudo-explaination-example">www.linux.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_running_commands_as_another_user_via_sudo">Running   Commands as Another User via sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://www.safaribooksonline.com/library/view/linux-security-cookbook/0596003919/ch05s03.html"> www.safaribooksonline.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_quick_howto_ch09_linux_users_and_sudo">Quick HOWTO Ch09  Linux Users and Sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch09_:_Linux_Users_and_Sudo">www.linuxhomenetworking.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_bash_sudo_as_another_user_with_their_environment">bash   - sudo as another user with their environment</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">unix.stackexchange.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_what_are_the_differences_between_su_sudo_s_sudo_i_sudo_su">   What are the differences between su, sudo -s, sudo -i, sudo su</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su"> askubuntu.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_how_to_invoke_login_shell_for_another_user_using_sudo">How to invoke  login shell for another user using sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href="https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">unix.stackexchange.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_changing_the_timeout_value">Changing the   timeout value</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_bash_completion_with_sudo">Bash completion  with sudo</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a> ) </li>
<li>20180620 : <a href="#n20180620X_permission_allow_sudo_to_another_user_without_password">permission   - allow sudo to another user without password</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password">apple.stackexchange.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_linux_automating_the_sudo_su_user_command">linux - Automating   the sudo su - user command</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://superuser.com/questions/243499/automating-the-sudo-su-user-command">superuser.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_sudo_what_does_all_all_all_all_mean_in_sudoers">sudo   - What does ALL ALL=(ALL) ALL mean in sudoers</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers">unix.stackexchange.com</a> ) </li>
<li>20180620 : <a href="#n20180620X_sudo_what_is_all_all_sudosudo_for">sudo - What is ALL   ALL=!SUDOSUDO for</a> <i></i>  ( Jun 20, 2018 , <a target="_blank" href= "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for">unix.stackexchange.com</a> ) </li>
<li>20171120 : <a href="#n20171120X_sudoers_community_help_wiki">Sudoers -   Community Help Wiki</a> <i></i>  ( Nov 09, 2017 , <a target="_blank" href= "https://help.ubuntu.com/community/Sudoers">help.ubuntu.com</a> ) </li>
<li>20171119 : <a href="#n20171119X_understanding_sudoers_syntax">Understanding   sudoers syntax</a> <i></i>  ( Nov 09, 2017 , <a target="_blank" href= "http://toroid.org/sudoers-syntax">toroid.org</a> ) </li>
<li>20171111 : <a href="#n20171111X_example_of_the_sudoers_file">Example of the sudoers file</a> <i></i>  ( Nov 09, 2017 , <a target="_blank" href= "https://support.symantec.com/en_US/article.HOWTO83956.html">support.symantec.com</a> ) </li>
<li>20171110 : <a href="#n20171110X_make_sudo_work_harder">Make sudo work harder</a> <i></i>  ( <a target="_blank" href="http://www.linux.com/article.pl?sid=06/12/01/1756257">www.linux.com</a> ) </li>
<li>20171109 : <a href="#n20171109X_add_an_netgroup_in_sudoers_instead_a_group">Add  an netgroup in sudoers instead a group</a> <i></i>  ( Nov 09, 2017 , <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/">hd.free.fr</a> ) </li>
<li>20120522 : <a href="#n20120522X_take_control_of_your_linux_sudoers_file_how_to_with_examples"> Take Control of your Linux sudoers file How to with Examples</a> <i></i>  ( Written by <a target="_blank" href="http://www.garron.me/en/about.html">Guillermo Garron</a> . ) </li>
<li>20110217 : <a href="#n20110217X_sudoers_file"> Sudoers file</a> <i></i>  ( Jan 21, 2011 , <a target="_blank" href="http://forums11.itrc.hp.com/service/forums/questionanswer.do?threadId=1465150"> IT Resource Center forums</a> ) </li>
<li>20091017 : <a href="#n20091017X_make_sudo_work_harder"> Make sudo work harder</a> <i></i>  ( Oct 06, 2009 , <a target="_blank" href="http://www.ibm.com/developerworks/">developerWorks</a> ) </li>
<li>20091017 : <a href="#n20091017X_running_complex_commands_with_sudo"> Running Complex Commands with sudo</a> <i></i>  (  <a target="_blank" href="http://www.linuxjournal.com/content/running-complex-commands-sudo"> Linux Journal</a> ) </li>
<li>20091017 : <a href="#n20091017X_secure_cooking_with_linux_part_2"> Secure Cooking with Linux, Part 2 </a> <i></i>  (  <a target="_blank" href="http://www.linuxdevcenter.com/pub/a/linux/excerpt/lsckbk_chap1/index2.html?page=2"> O&#39;Reilly</a> ) </li>
<li>20080918 : <a href="#n20080918X_gentoo_sudo_ers_guide_gentoo_linux_documentation">Gentoo Sudo(ers)  Guide - Gentoo Linux Documentation</a> <i></i>  ( <a target="_blank" href="http://www.gentoo.org/doc/en/sudo-guide.xml">Gentoo Sudo(ers)  Guide - Gentoo Linux Documentation</a>, Sep 18, 2008 ) </li>
<li>20080219 : <a href="#n20080219X_linux_com_sudo_or_not_sudo_that_is_the_question"> Linux.com sudo, or not sudo that is the question</a> <i></i>  ( <a target="_blank" href="http://www.linux.com/feature/125895"> Linux.com sudo, or not sudo that is the question</a>, Feb 19, 2008 ) </li>
<li>20080130 : <a href="#n20080130X_sudo_faq"> Sudo FAQ</a> <i></i>  (  <a target="_blank" href="http://polishlinux.org/first-steps/root-account/sudo-faq/"> polishlinux.org</a> ) </li>
<li>20080130 : <a href="#n20080130X_linux_tips_password_usage_in_sudo_passwd_nopasswd_mdlog_sysadmin"> Linux Tips Password usage in sudo (PASSWD - NOPASSWD) MDLog-sysadmin</a> <i></i>  ( <a target="_blank" href="http://www.ducea.com/2006/06/18/linux-tips-password-usage-in-sudo-passwd-nopasswd/"> Linux Tips Password usage in sudo (PASSWD - NOPASSWD) MDLog-sysadmin</a>, Jan 30, 2008 ) </li>
<li>20071027 : <a href="#n20071027X_sudo_tools_sudolog_usage_and_sudoers_lint">sudo-tools sudolog-usage  and sudoers-lint</a> <i></i>  ( <a target="_blank" href="http://www.komar.org/pres/sudo-tools/">sudo-tools sudolog-usage  and sudoers-lint</a>, Oct 27, 2007 ) </li>
</ul>
<h2><a name="News">Old News ;-)</a></h2>

<center><table border="0" width="100"><tr>
<td align="center"><a href="#NEWS_TOC"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20191108X_what_you_probably_didn_t_know_about_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20191022X_flaw_in_sudo_enables_non_privileged_users_to_run_commands_as_root"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 08, 2019] <a target="_blank" href="https://opensource.com/article/19/10/know-about-sudo">What you probably didn't know about   sudo</a></h4>

<blockquote>
<h6>Nov 08, 2019 |  <a target="_blank" href= "https://opensource.com/article/19/10/know-about-sudo">opensource.com</a></h6>
 

    <p><b>Enable features for a certain group of users</b></p>

    <p>The sudo command comes with a huge set of defaults. Still, there are situations when you
    want to override some of these. This is when you use the Defaults statement in the
    configuration. Usually, these defaults are enforced on every user, but you can narrow the
    setting down to a subset of users based on host, username, and so on. Here is an example that
    my generation of sysadmins loves to hear about: insults. These are just some funny messages for
    when someone mistypes a password:</p>czanik @ linux-mewy:~ &gt; sudo ls<br>
    [ sudo ] password for root:<br>
    Hold it up to the light --- not a brain in sight !<br>
    [ sudo ] password for root:<br>
    My pet ferret can type better than you !<br>
    [ sudo ] password for root:<br>
    sudo: 3 incorrect password attempts<br>
    czanik @ linux-mewy:~ &gt;

    <p>Because not everyone is a fan of sysadmin humor, these insults are disabled by default. The
    following example shows how to enable this setting only for your seasoned sysadmins, who are
    members of the wheel group:</p>Defaults !insults<br>
    Defaults:%wheel insults

    <p>I do not have enough fingers to count how many people thanked me for bringing these messages
    back.</p><b>Digest verification</b>

    <p>There are, of course, more serious features in sudo as well. One of them is digest
    verification. You can include the digest of applications in your configuration:</p>
    <pre>
peter ALL = sha244:11925141bb22866afdf257ce7790bd6275feda80b3b241c108b79c88 /usr/bin/passwd
</pre>

    <p>In this case, sudo checks and compares the digest of the application to the one stored in
    the configuration before running the application. If they do not match, sudo refuses to run the
    application. While it is difficult to maintain this information in your configuration -- there
    are no automated tools for this purpose -- these digests can provide you with an additional
    layer of protection.</p><b>Session recording</b>

    <p>Session recording is also a lesser-known feature of sudo . After my demo, many people leave
    my talk with plans to implement it on their infrastructure. Why? Because with session
    recording, you see not just the command name, but also everything that happened in the
    terminal. You can see what your admins are doing even if they have shell access and logs only
    show that bash is started.</p>

    <p>There is one limitation, currently. Records are stored locally, so with enough permissions,
    users can delete their traces. Stay tuned for upcoming features. <b>New features</b></p>

    <p>There is a new version of sudo right around the corner. Version 1.9 will include many
    interesting new features. Here are the most important planned features:</p>

    <ul>
      <li>A recording service to collect session recordings centrally, which offers many advantages
      compared to local storage:

        <ul>
          <li>It is more convenient to search in one place.</li>

          <li>Recordings are available even if the sender machine is down.</li>

          <li>Recordings cannot be deleted by someone who wants to delete their tracks.</li>
        </ul>
      </li>

      <li>The audit plugin does not add new features to sudoers , but instead provides an API for
      plugins to easily access any kind of sudo logs. This plugin enables creating custom logs from
      sudo events using plugins.</li>

      <li>The approval plugin enables session approvals without using third-party plugins.</li>

      <li>And my personal favorite: Python support for plugins, which enables you to easily extend
      sudo using Python code instead of coding natively in C.</li>
    </ul><b>Conclusion</b>

    <p>I hope this article proved to you that sudo is a lot more than just a simple prefix. There
    are tons of possibilities to fine-tune permissions on your system. You cannot just fine-tune
    permissions, but also improve security by checking digests. Session recordings enable you to
    check what is happening on your systems. You can also extend the functionality of sudo using
    plugins, either using something already available or writing your own. Finally, given the list
    of upcoming features you can see that even if sudo is decades old, it is a living project that
    is constantly evolving.</p>

    <p>If you want to learn more about sudo , here are a few resources:</p>

    <ul>
      <li><a target="_blank" href="https://www.sudo.ws/">The sudo website</a></li>

      <li><a target="_blank" href="https://blog.sudo.ws/">The sudo blog</a></li>

      <li><a target="_blank" href="https://twitter.com/sudoproject">Follow us on Twitter</a></li>
    </ul>
 <!--TAGS: . ~/RHEL -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/RHEL/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20191108X_what_you_probably_didn_t_know_about_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20191022X_flaw_in_sudo_enables_non_privileged_users_to_run_commands_as_root" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180730X_sudo_related_horror_story"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Oct 22, 2019] <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root">   Flaw In Sudo Enables Non-Privileged Users To Run Commands As Root</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  the  function which     converts  user id into its username incorrectly treats -1, or its unsigned equivalent     4294967295, as 0, which is always the user ID of root user. ...&quot;</h5>
<blockquote>
<h6>Oct 22, 2019 |  <a target="_blank" href= "https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root"> linux.slashdot.org</a></h6>
 

    <p><a target="_blank" href=
    "https://thehackernews.com/2019/10/linux-sudo-run-as-root-flaw.html">(thehackernews.com)
    139</a> 
    Posted by <a target="_blank" href="https://twitter.com/BeauHD">BeauHD</a> on Monday October 14,
    2019 @07:30PM from the Su-doh dept. <a target="_blank" href=
    "https://slashdot.org/~exomondo">exomondo</a> shares a report from The Hacker News: </p>
    <blockquote>

       <p><i>... ... ... </i></p>

       <p><i>The vulnerability, tracked as CVE-2019-14287 and discovered by Joe Vennix of Apple
    Information Security, is more concerning because the sudo utility has been designed to let
    users use their own login password to execute commands as a different user without requiring
    their password. \</i></p>

       <p><i>What's more interesting is that this flaw can be exploited by an attacker to
    run commands as root just by specifying the user ID "-1" or "4294967295."</i></p>

       <p><i>That's because <em>the <a target="_blank" href="https://www.sudo.ws/repos/sudo/rev/83db8dba09e7">function which
    converts</a> user id into its username incorrectly treats -1, or its unsigned equivalent
    4294967295, as 0, which is always the user ID of root user.</em></i></p>

       <p><i>The vulnerability affects all Sudo versions prior to the latest released version 1.8.28,
    which has been released today.</i></p>
    </blockquote>
    <SECTION>
          <ul class="d2" id="commentlisting">

                         <li class="comment full contain" id="tree_59307520">
                            <h6>
                                  <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307520">
                                  Not many systems vulnerable</a>  <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root#">  </a>, 
                                  Informative) </h6>
                                    <a target="_blank" href="https://slashdot.org/~whoever57">whoever57</a>
                                   <a target="_blank" href="https://slashdot.org/~whoever57">( 658626 )</a>       <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307520">#59307520</a>)
                                  <small>
                                  <a target="_blank" href="https://slashdot.org/~whoever57/journal/">
                                  Journal</a> </small>     <nobr> <WBR></nobr>/etc/sudoers to be allowed to run 
                                  commands <b>as another non-root user</b>.<p>That's a fairly unusual configuration.   </li>
                      </ul>
                         <SECTION>
          <ul class="d2" id="commentlisting">

                         <li class="comment full contain" id="tree_59307520">
                         <ul id="commtree_59307520">

                            <li class="comment full contain" id="tree_59309858">
                               <h6>
                                     <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59309858">
                                     Re:Not many systems vulnerable</a>  <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root#">  </a>) </h6>
                                       <a target="_blank" href="https://slashdot.org/~mysidia">mysidia</a>
                                      <a target="_blank" href="https://slashdot.org/~mysidia">( 191772 )</a>       <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59309858">#59309858</a>)
                                          <p>If 
                                     you have been blessed with the power to run commands as ANY user you want, then you are still 
                                     specially privileged, even though you are not fully privileged.</p>

                                     <p>Its a rare/unusual configuration to say (all, !root) --- the people using this configuration 
                                     on their systems should probably KNOW there are going to exist some ways that access can be 
                                     abused to ultimately circumvent the intended !root rule - If not within sudo itself, then by 
                                     using sudo to get a shell as a different user UID that belongs to some person or program who 
                                     DOES have root permissions, and then causing crafted code to run as that user --- For example, 
                                     by installing a<br>
                                       Trojanned version of the screen command and modifying files in the home directory of a 
                                     legitimate root user to alias the screen command to trojanned version that will log the 
                                     password the next time that Other user logs in normally and uses the sudo command.   </li>
                         </ul>
                         </li>
                      </ul>
                         <SECTION>
          <ul class="d2" id="commentlisting">

                         <li class="comment full contain" id="tree_59307520">
                         <ul id="commtree_59307520">

                            <li class="comment hidden" id="tree_59307552">
                            <ul id="commtree_59307552">

                               <li class="comment full contain" id="tree_59307592">
                                  <h6>
                                        <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307592">
                                        Re:Not many systems vulnerable</a>  <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root#">  </a>) </h6>
                                          <a target="_blank" href="https://slashdot.org/~93+Escort+Wagon">93 Escort Wagon</a>  <a target="_blank" href="https://slashdot.org/~93+Escort+Wagon">( 326346 )</a>       <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307592">#59307592</a>)
                                             <nobr> <WBR></nobr>/etc/sudoers at all - and therefore can't 
                                        exploit this bug. And in the simplest configuration (what you're referring to, I imagine), 
                                        people who are in<nobr> <WBR></nobr>/etc/sudoers will have root access already - rendering 
                                        this bug pointless for them.<p>However (assuming I've interpreted this correctly) if you've 
                                        given someone only limited sudo permissions, this bug can be exploited by those users to 
                                        basically get full root access.</p>

                                        <p>I'm not sure how common that sort of limited sudo access is used, though. I haven't seen 
                                        it first hand, but then I've never worked as part of a large group of admins.   </li>
                            </ul>
                            </li>
                         </ul>
                         </li>
                      </ul>
                         <SECTION>
          <ul class="d2" id="commentlisting">

                         <li class="comment full contain" id="tree_59307520">
                         <ul id="commtree_59307520">

                            <li class="comment hidden" id="tree_59307552">
                            <ul id="commtree_59307552">

                               <li class="comment full contain" id="tree_59307592">
                               <ul id="commtree_59307592">

                                  <li class="comment hidden" id="tree_59307640">
                                  <ul id="commtree_59307640">

                                     <li class="comment oneline" id="tree_59307720">
                                     <ul id="commtree_59307720">

                                        <li class="comment hidden" id="tree_59307828">
                                        <ul id="commtree_59307828">

                                           <li class="comment full contain" id="tree_59307958">
                                              <h6>
                                                    <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307958">
                                                    Try it. Or read carefully</a>  <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root#">  </a>) </h6>
                                                      <a target="_blank" href="https://slashdot.org/~raymorris">raymorris</a>  <a target="_blank" href="https://slashdot.org/~raymorris">( 2726007 )</a>       <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307958">#59307958</a>)
                                                    <small>
                                                    <a target="_blank" href="https://slashdot.org/~raymorris/journal/">
                                                    Journal</a> </small>     <p>sudo -1 
                                                    whoami</p>

                                                    <p>Or read TFS carefully. What the bug does is allow someone to choose root as 
                                                    the uid - even of noroot is set. That doesn't have anything to do with the 
                                                    password check, and doesn't bypass the password check.   </li>
                                        </ul>
                                        </li>
                                     </ul>
                                     </li>
                                  </ul>
                                  </li>
                               </ul>
                               </li>
                            </ul>
                            </li>
                         </ul>
                         </li>
                      </ul>
                         <SECTION>
          <ul class="d2" id="commentlisting">

                         <li class="comment full contain" id="tree_59307520">
                         <ul id="commtree_59307520">

                            <li class="comment hidden" id="tree_59307552">
                            <ul id="commtree_59307552">

                               <li class="comment full contain" id="tree_59307618">
                                  <h6>
                                        <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307618">
                                        Re:Not many systems vulnerable</a>  <a target="_blank" href="https://linux.slashdot.org/story/19/10/14/2231235/flaw-in-sudo-enables-non-privileged-users-to-run-commands-as-root#">  </a>, 
                                        Informative) </h6>
                                          <a target="_blank" href="https://slashdot.org/~Megane">Megane</a>
                                         <a target="_blank" href="https://slashdot.org/~Megane">( 129182 )</a>       <a target="_blank" href="https://linux.slashdot.org/comments.pl?sid=15012814&cid=59307618">#59307618</a>)
                                        <small>
                                        <a target="_blank" href="http://slashdot.org/?nobeta=1">
                                        Homepage</a> </small>     <tt>-u#-1</tt>&quot;. 
                                        While not an uncommon thing to configure sudo for, it is most definitely <b>not</b> a &quot;stock 
                                        configuration&quot;.

                                        <p><tt>myhost bob = (ALL, !root)<nobr> <WBR></nobr>/usr/bin/vi</tt>   </li>
                            </ul>
                            </li>
                         </ul>
                         </li>
                      </ul>
                         <p> </p>
 <!--TAGS: . ~/Security2 -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/Security/top_vulnerabilities.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/security.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/RHEL/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20191022X_flaw_in_sudo_enables_non_privileged_users_to_run_commands_as_root"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180730X_sudo_related_horror_story" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180730X_configuring_sudo_access"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jul 30, 2018] <a target="_blank" href="file:///Access_control/Sudo/sudoer_file_examples.shtml">Sudo related horror story</a></h4>

<blockquote>
<h6>Jul 30, 2018 | <a target="_blank" href="https://www.sott.net/quote/89">www.sott.net</a></h6>
 

   <p>A new sysadmin decided to scratch his etch in sudoers file and in the standard definition of additional sysadmins via wheel group</p>

   <pre>
## Allows people in group wheel to run all commands
# %wheel        ALL=(ALL)       ALL</pre>
   he replaced ALL with localhost

   <pre>
## Allows people in group wheel to run all commands
# %wheel        localhost=(ALL)       ALL</pre>
   then without testing he distributed this file to all servers in the datacenter. Sysadmin who worked after him discovered that <tt>sudo su - 
   command </tt>no longer works and they can't get root using their tried and true method ;-)<p>
   
   </p><!--TAGS: . /sudo_tips. /sudoer_file_examples. -->

<!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Admin/admin_horror_stories.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180730X_sudo_related_horror_story"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180730X_configuring_sudo_access" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180730X_10_useful_sudoers_configurations_for_setting_sudo_in_linux"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jul 30, 2018] <a target="_blank" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/2/html/Getting_Started_Guide/ch02s03.html">   Configuring sudo Access</a></h4>

<blockquote>
<h6>Jul 30, 2018 |  <a target="_blank" href= "https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/2/html/Getting_Started_Guide/ch02s03.html"> access.redhat.com</a></h6>
 

    <p>Note A Red Hat training course is available for <a target="_blank" href=
    "http://www.redhat.com/en/services/training/rh199-rhcsa-rapid-track-course?cr=cp|tr|pdtxt|00004&amp;">
    RHCSA Rapid Track Course</a> . The <code>sudo</code> command offers a mechanism for providing
    trusted users with administrative access to a system without sharing the password of the
    <code>root</code> user. When users given access via this mechanism precede an administrative
    command with <code>sudo</code> they are prompted to enter their own password. Once
    authenticated, and assuming the command is permitted, the administrative command is executed as
    if run by the <code>root</code> user. Follow this procedure to create a normal user account and
    give it <code>sudo</code> access. You will then be able to use the <code>sudo</code> command
    from this user account to execute administrative commands without logging in to the account of
    the <code>root</code> user. <a>&#8288;</a></p>

    <p>Procedure 2.2. Configuring <code>sudo</code> Access</p>

    <ol>
      <li>Log in to the system as the <code>root</code> user.</li>

      <li>Create a normal user account using the <code>useradd</code> command. Replace
      <em>USERNAME</em> with the user name that you wish to create.
        <pre>
# useradd USERNAME</pre>
      </li>

      <li>Set a password for the new user using the <code>passwd</code> command.
        <pre>
# passwd USERNAME
Changing password for user USERNAME.
New password: 
Retype new password: 
passwd: all authentication tokens updated successfully.
</pre>
      </li>

      <li>Run the <code>visudo</code> to edit the <code>/etc/sudoers</code> file. This file defines
      the policies applied by the <code>sudo</code> command.
        <pre>
# visudo
</pre>
      </li>

      <li>Find the lines in the file that grant <code>sudo</code> access to users in the group
      <code>wheel</code> when enabled.
        <pre>
## Allows people in group wheel to run all commands
# %wheel        ALL=(ALL)       ALL
</pre>
      </li>

      <li>Remove the comment character ( # ) at the start of the second line. This enables the
      configuration option.</li>

      <li>Save your changes and exit the editor.</li>

      <li>Add the user you created to the <code>wheel</code> group using the <code>usermod</code>
      command.
        <pre>
# usermod -aG wheel USERNAME
</pre>
      </li>

      <li>Test that the updated configuration allows the user you created to run commands using
      <code>sudo</code> .

        <ol>
          <li>Use the <code>su</code> to switch to the new user account that you created.
            <pre>
# su USERNAME -
</pre>
          </li>

          <li>Use the <code>groups</code> to verify that the user is in the <code>wheel</code>
          group.
            <pre>
$ groups
USERNAME wheel
</pre>
          </li>

          <li>Use the <code>sudo</code> command to run the <code>whoami</code> command. As this is
          the first time you have run a command using <code>sudo</code> from this user account the
          banner message will be displayed. You will be also be prompted to enter the password for
          the user account.
            <pre>
$ sudo whoami
We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

[sudo] password for USERNAME:
root
</pre>The last line of the output is the user name returned by the <code>whoami</code> command. If
<code>sudo</code> is configured correctly this value will be <code>root</code> .
          </li>
        </ol>
      </li>
    </ol>You have successfully configured a user with <code>sudo</code> access. You can now log in
    to this user account and use <code>sudo</code> to run commands as if you were logged in to the
    account of the <code>root</code> user. 
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180730X_configuring_sudo_access"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180730X_10_useful_sudoers_configurations_for_setting_sudo_in_linux" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180730X_configuring_sudo_and_adding_users_to_wheel_group"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jul 30, 2018] <a target="_blank" href="https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">10 Useful Sudoers   Configurations for Setting 'sudo' in Linux</a></h4>

<blockquote>
<h6>Jul 30, 2018 |  <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a></h6>
 

    <p>Below are ten /etc/sudoers file configurations to modify the behavior of sudo command using
    Defaults entries.</p>
    <pre>
$ sudo cat /etc/sudoers
</pre>/etc/sudoers File
    <pre>
#
# This file MUST be edited with the 'visudo' command as root.
#
# Please consider adding local content in /etc/sudoers.d/ instead of
# directly modifying this file.
#
# See the man page for details on how to write a sudoers file.
#
Defaults        env_reset
Defaults        mail_badpass
Defaults        secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
Defaults        logfile="/var/log/sudo.log"
Defaults        lecture="always"
Defaults        badpass_message="Password is wrong, please try again"
Defaults        passwd_tries=5
Defaults        insults
Defaults        log_input,log_output
</pre><b><q>Types of Defaults Entries</q>
    </b>
    <pre>
Defaults                parameter,   parameter_list     #affect all users on any host
Defaults@Host_List      parameter,   parameter_list     #affects all users on a specific host
Defaults:User_List      parameter,   parameter_list     #affects a specific user
Defaults!Cmnd_List      parameter,   parameter_list     #affects  a specific command 
Defaults&gt;Runas_List     parameter,   parameter_list     #affects commands being run as a specific user
</pre>

    <p>For the scope of this guide, we will zero down to the first type of Defaults in the forms
    below. Parameters may be flags, integer values, strings, or lists.</p>

    <p>You should note that flags are implicitly boolean and can be turned off using the
    <code>'!'</code> operator, and lists have two additional assignment operators, <code>+=</code>
    (add to list) and <code>-=</code> (remove from list).</p>
    <pre>
Defaults     parameter
OR
Defaults     parameter=value
OR
Defaults     parameter -=value   
Defaults     parameter +=value  
OR
Defaults     !parameter
</pre>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180730X_10_useful_sudoers_configurations_for_setting_sudo_in_linux"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180730X_configuring_sudo_and_adding_users_to_wheel_group" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180730X_non_root_user_getting_root_access_after_running_sudo_vi_etc_hosts"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jul 30, 2018] <a target="_blank" href="https://linuxnlenux.wordpress.com/2014/11/28/configuring-sudo-and-adding-users-to-wheel-group-2/">   Configuring sudo and adding users to Wheel group</a></h4>

<h5>Here you can find additional example of access to all command in a particular directory via sudo... </h5>
<h5>Formatting changed and some errors corrected... </h5>
<blockquote>
<h6>Nov 28, 2014 |  <a target="_blank" href= "https://linuxnlenux.wordpress.com/2014/11/28/configuring-sudo-and-adding-users-to-wheel-group-2/"> linuxnlenux.wordpress.com</a></h6>
 If a server needs to be administered by a number of people it
    is normally not a good idea for them all to use the root account. This is because it becomes
    difficult to determine exactly who did what, when and where if everyone logs in with the same
    credentials. The sudo utility was designed to overcome this difficulty.

    <p>With sudo (which stands for "superuser do"), you can delegate a limited set of
    administrative responsibilities to other users, who are strictly limited to the commands you
    allow them. sudo creates a thorough audit trail, so everything users do gets logged; if users
    somehow manage to do something they shouldn't have, you'll be able to detect it and apply the
    needed fixes. You can even configure sudo centrally, so its permissions apply to several
    hosts.</p>

    <p>The privileged command you want to run must first begin with the word sudo followed by the
    command's regular syntax. When running the command with the sudo prefix, you will be prompted
    for your regular password before it is executed. You may run other privileged commands using
    sudo within a five-minute period without being re-prompted for a password. All commands run as
    sudo are logged in the log file /var/log/messages.</p>

    <p>The sudo configuration file is /etc/sudoers . We should never edit this file manually.
    Instead, use the visudo command: # visudo</p>

    <p>This protects from conflicts (when two admins edit this file at the same time) and
    guarantees that the right syntax is used (the permission bits are correct). The program uses Vi
    text editor.</p>

    <p><b>All Access to Specific Users</b><p>
    You can grant users bob and bunny full access to all privileged commands, with this sudoers
    entry.<pre>user1, user2 ALL=(ALL) ALL</pre>

    <p>
    This is generally not a good idea because this allows user1 and user2 to use the su command to
    grant themselves permanent root privileges thereby bypassing the command logging features of
    sudo.</p>

    <p><b>Access To Specific Users To Specific Files</b><p>
    This entry allows user1 and all the members of the group operator to gain access to all the
    program files in the /sbin and /usr/sbin directories, plus the privilege of running the command
    <tt>/usr/apps/check.pl</tt>.<pre>user1, %operator ALL= /sbin/, /usr/sbin/, /usr/apps/check.pl</pre>

    <p><b>Access to Specific Files as Another User</b><pre>user1 ALL=(accounts) /bin/kill, /usr/bin/kill, /usr/bin/pkill</pre>

    <p><b>Access Without Needing Passwords</b><p>
    This example allows all users in the group operator to execute all the commands in the /sbin
    directory without the need for entering a password.<pre>%operator ALL= NOPASSWD: /sbin/</pre>

    <p><b>Adding users to the wheel group</b><p>
    The wheel group is a legacy from UNIX. When a server had to be maintained at a higher level
    than the day-to-day system administrator, root rights were often required. The 'wheel' group
    was used to create a pool of user accounts that were allowed to get that level of access to the
    server. If you weren't in the 'wheel' group, you were denied access to root.</p>

    <p>Edit the configuration file (/etc/sudoers) with visudo and change these lines:<pre># Uncomment to allow people in group wheel to run all commands
# %wheel ALL=(ALL) ALL</pre>

    <p>To this (as recommended):</p>

    <pre># Uncomment to allow people in group wheel to run all commands
%wheel ALL=(ALL) ALL</pre>

    <p>This will allow anyone in the wheel group to execute commands using sudo (rather than having
    to add each person one by one).</p>

    <p>Now finally use the following command to add any user (e.g- user1) to Wheel group<pre># usermod -G wheel user1</pre>
    
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180730X_configuring_sudo_and_adding_users_to_wheel_group"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180730X_non_root_user_getting_root_access_after_running_sudo_vi_etc_hosts" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180621X_create_a_sudo_log_file"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jul 30, 2018] <a target="_blank" href="https://unix.stackexchange.com/questions/429374/non-root-user-getting-root-access-after-running-sudo-vi-etc-hosts">   Non-root user getting root access after running sudo vi -etc-hosts</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  as the original         user ...&quot;</h5>
<blockquote>
<h6>Jul 30, 2018 |  <a target="_blank" href= "https://unix.stackexchange.com/questions/429374/non-root-user-getting-root-access-after-running-sudo-vi-etc-hosts"> unix.stackexchange.com</a></h6>
 

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/885/gilles">Gilles</a></b>, Mar 10, 2018 at 10:24</p>

    <blockquote>
      If <code>sudo vi /etc/hosts</code> is successful, it means that the system administrator has
      allowed the user to run <code>vi /etc/hosts</code> as root. That's the whole point of sudo:
      it lets the system administrator authorize certain users to run certain commands with extra
      privileges.

      <p>Giving a user the permission to run <code>vi</code> gives them the permission to run any
      vi command, including <code>:sh</code> to run a shell and <code>:w</code> to overwrite any
      file on the system. A rule allowing only to run <code>vi /etc/hosts</code> does not make any
      sense since it allows the user to run arbitrary commands.</p>

      <p>There is no "hacking" involved. The breach of security comes from a misconfiguration, not
      from a hole in the security model. Sudo does not particularly try to prevent against
      misconfiguration. Its documentation is well-known to be difficult to understand; if in doubt,
      ask around and don't try to do things that are too complicated.</p>

      <p>It is in general a hard problem to give a user a specific privilege without giving them
      more than intended. A bulldozer approach like giving them the right to run an interactive
      program such as vi is bound to fail. A general piece of advice is to give the minimum
      privileges necessary to accomplish the task. If you want to allow a user to modify one file,
      don't give them the permission to run an editor. Instead, either:</p>

      <ul>
        <li>Give them the permission to write to the file. This is the simplest method with the
        least risk of doing something you didn't intend.
          <pre>
setfacl u:bob:rw /etc/hosts
</pre>
        </li>

        <li>Give them permission to edit the file via sudo. To do that, don't give them the
        permission to run an editor. As explained in the sudo documentation, give them the
        permission to run <code>sudoedit</code> , which invokes an editor <em>as the original
        user</em> and then uses the extra privileges only to modify the file.
          <pre>
bob ALL = sudoedit /etc/hosts</pre>

          <p>The sudo method is more complicated to set up, and is less transparent for the user
          because they have to invoke <code>sudoedit</code> instead of just opening the file in
          their editor, but has the advantage that all accesses are logged.</p>
        </li>
      </ul>

      <p>Note that allowing a user to edit <code>/etc/hosts</code> may have an impact on your
      security infrastructure: if there's any place where you rely on a host name corresponding to
      a specific machine, then that user will be able to point it to a different machine. Consider
      that <a target="_blank" href=
      "https://unix.stackexchange.com/questions/10438/can-i-create-a-user-specific-hosts-file-to-complement-etc-hosts">
      it is probably unnecessary anyway</a> .</p>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180730X_non_root_user_getting_root_access_after_running_sudo_vi_etc_hosts"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180621X_create_a_sudo_log_file" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180621X_lecture_sudo_users"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 21, 2018] <a target="_blank" href="https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">Create a Sudo Log   File</a> by Aaron Kili</h4>

<blockquote>
<h6>Jun 21, 2018 |  <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a></h6>
 

    <p>By default, sudo logs through syslog(3). However, to specify a custom log file, use the
    logfile parameter like so:</p>
    <pre>
Defaults  logfile="/var/log/sudo.log"
</pre>

    <p>To log hostname and the four-digit year in the custom log file, use log_host and log_year
    parameters respectively as follows:</p>
    <pre>
Defaults  log_host, log_year, logfile="/var/log/sudo.log"</pre><b>Log Sudo Command Input/Output</b>

    <p>The log_input and log_output parameters enable sudo to run a command in pseudo-tty and log
    all user input and all output sent to the screen receptively.</p>

    <p>The default I/O log directory is /var/log/sudo-io , and if there is a session sequence
    number, it is stored in this directory. You can specify a custom directory through the
    iolog_dir parameter.</p>
    <pre>
Defaults   log_input, log_output
</pre>

    <p>There are some escape sequences are supported such as <code>%{seq}</code> which expands to a
    monotonically increasing base-36 sequence number, such as 000001, where every two digits are
    used to form a new directory, e.g. 00/00/01 as in the example below:</p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180621X_create_a_sudo_log_file"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180621X_lecture_sudo_users" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_suse_doc_administration_guide_configuring_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 21, 2018] <a target="_blank" href="https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">Lecture: Sudo   Users</a> by Aaron Kili</h4>

<blockquote>
<h6>Jun 21, 2018 |  <a target="_blank" href= "https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">www.tecmint.com</a></h6>
 

    <p>To lecture sudo users about password usage on the system, use the lecture parameter as
    below.</p>

    <p>It has 3 possible values:</p>

    <ol>
      <li>always &ndash; always lecture a user.</li>

      <li>once &ndash; only lecture a user the first time they execute sudo command (this is used
      when no value is specified)</li>

      <li>never &ndash; never lecture the user.</li>
    </ol>
    <pre>
 
Defaults  lecture="always"</pre>

    <p>Additionally, you can set a custom lecture file with the lecture_file parameter, type the
    appropriate message in the file:</p>
    <pre>
Defaults  lecture_file="/path/to/file"
</pre>

    <p><b>Show Custom Message When You Enter Wrong sudo Password</b></p>

    <blockquote>
      <p>When a user enters a wrong password, a certain message is displayed on the command line.
      The default message is " sorry, try again ", you can modify the message using the
      badpass_message parameter as follows:</p>
      <pre>
Defaults  badpass_message="Password is wrong, please try again"
</pre>
    </blockquote><b>Increase sudo Password Tries Limit</b>

    <blockquote>
      <p>The parameter passwd_tries is used to specify the number of times a user can try to enter
      a password.</p>

      <p>The default value is 3:</p>
      <pre>
Defaults   passwd_tries=5
</pre>
    </blockquote><a target="_blank" href=
    "https://www.tecmint.com/wp-content/uploads/2017/01/Increase-Sudo-Password-Attempts.png"><noscript>&lt;img
    src="https://www.tecmint.com/wp-content/uploads/2017/01/Increase-Sudo-Password-Attempts.png"
    alt="Increase Sudo Password Attempts" width="666" height="382" /&gt;</noscript></a>

    <p>Increase Sudo Password Attempts</p>

    <p>To set a password timeout (default is 5 minutes) using passwd_timeout parameter, add the
    line below:</p>
    <pre>
Defaults   passwd_timeout=2
</pre><b>9. Let Sudo Insult You When You Enter Wrong Password</b>

    <p>In case a user types a wrong password, sudo will display insults on the terminal with the
    insults parameter. This will automatically turn off the badpass_message parameter.</p>
    <pre>
Defaults  insults
</pre>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180621X_lecture_sudo_users"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_suse_doc_administration_guide_configuring_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_sudo_archwiki"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_sudo_conf.html">Suse Doc   Administration Guide - Configuring sudo</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  WARNING: Dangerous constructs ...&quot;</h5>
<blockquote>
<h6>Sep 06, 2013 |  <a target="_blank" href= "https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_sudo_conf.html">www.suse.com</a></h6>
 <b>Basic
    sudoers Configuration Syntax</b>

    <p>In the sudoers configuration files, there are two types of options: strings and flags. While
    strings can contain any value, flags can be turned either ON or OFF. The most important syntax
    constructs for sudoers configuration files are:</p>
    <pre>
# Everything on a line after a # gets ignored 
Defaults !insults # Disable the insults flag 
Defaults env_keep += "DISPLAY HOME" # Add DISPLAY and HOME to env_keep
tux ALL = NOPASSWD: /usr/bin/frobnicate, PASSWD: /usr/bin/journalctl
</pre>

    <table>
      <tr>
        <td valign="top"><img alt="" src=
        "https://www.suse.com/documentation/docui_a/images/1.png"></td>

        <td>
          <p>There are two exceptions: #include and #includedir are normal commands. Followed by
          digits, it specifies a UID.</p>
        </td>
      </tr>

      <tr>
        <td valign="top"><img alt="" src=
        "https://www.suse.com/documentation/docui_a/images/2.png"></td>

        <td>
          <p>Remove the ! to set the specified flag to ON.</p>
        </td>
      </tr>

      <tr>
        <td valign="top"><img alt="" src=
        "https://www.suse.com/documentation/docui_a/images/3.png"></td>

        <td>
          <p>See <a target="_blank" href=
          "https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_sudo_conf.html#sec_sudo_conf_rule">
          Section 2.2.3, Rules in sudoers</a> .</p>
        </td>
      </tr>
    </table>

    <p><em>Table 2-1</em> Useful Flags and Options</p>

    <table width="100%">
      <tr>
        <th align="left" valign="top" rowspan="1" colspan="1" scope="col">
          <p>Option name</p>
        </th>

        <th align="left" valign="top" rowspan="1" colspan="1" scope="col">
          <p>Description</p>
        </th>

        <th align="left" valign="top" rowspan="1" colspan="1" scope="col">
          <p>Example</p>
        </th>
      </tr>

      <tr>
        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>targetpw</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>This flag controls whether the invoking user is required to enter the password of the
          target user (ON) (for example root ) or the invoking user (OFF).</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <pre>
Defaults targetpw # Turn targetpw flag ON
</pre>
        </td>
      </tr>

      <tr>
        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>rootpw</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>If set, sudo will prompt for the root password instead of the target user's or the
          invoker's. The default is OFF.</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <pre>
Defaults !rootpw # Turn rootpw flag OFF
</pre>
        </td>
      </tr>

      <tr>
        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>env_reset</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>If set, sudo constructs a minimal environment with only TERM , PATH , HOME , MAIL ,
          SHELL , LOGNAME , USER , USERNAME , and SUDO_* set. Additionally, variables listed in
          env_keep get imported from the calling environment. The default is ON.</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <pre>
Defaults env_reset # Turn env_reset flag ON
</pre>
        </td>
      </tr>

      <tr>
        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>env_keep</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>List of environment variables to keep when the env_reset flag is ON.</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <pre>
# Set env_keep to contain EDITOR and PROMPT
Defaults env_keep = "EDITOR PROMPT"
Defaults env_keep += "JRE_HOME" # Add JRE_HOME
Defaults env_keep -= "JRE_HOME" # Remove JRE_HOME
</pre>
        </td>
      </tr>

      <tr>
        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>env_delete</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <p>List of environment variables to remove when the env_reset flag is OFF.</p>
        </td>

        <td align="left" valign="top" rowspan="1" colspan="1">
          <pre>
# Set env_delete to contain EDITOR and PROMPT
Defaults env_delete = "EDITOR PROMPT"
Defaults env_delete += "JRE_HOME" # Add JRE_HOME
Defaults env_delete -= "JRE_HOME" # Remove JRE_HOME
</pre>
        </td>
      </tr>
    </table>

    <p>The Defaults token can also be used to create aliases for a collection of users, hosts, and
    commands. Furthermore, it is possible to apply an option only to a specific set of users.</p>

    <p>For detailed information about the /etc/sudoers configuration file, consult man 5 sudoers .
    <b>2.2.3 Rules in sudoers</b></p>

    <p>Rules in the sudoers configuration can be very complex, so this section will only cover the
    basics. Each rule follows the basic scheme ( [] marks optional parts):</p>
    <pre>
#Who      Where         As whom      Tag                What
User_List Host_List = [(User_List)] [NOPASSWD:|PASSWD:] Cmnd_List
</pre>

    <dl>
      <dt>Syntax for sudoers Rules</dt>

      <dt>User_List</dt>

      <dd>
        <p>One or more (separated by , ) identifiers: Either a user name, a group in the format
        %GROUPNAME or a user ID in the format #UID . Negation can be performed with a ! prefix.</p>
      </dd>

      <dt>Host_List</dt>

      <dd>
        <p>One or more (separated by , ) identifiers: Either a (fully qualified) host name or an IP
        address. Negation can be performed with a ! prefix. ALL is the usual choice for Host_List
        .</p>
      </dd>

      <dt>NOPASSWD:|PASSWD:</dt>

      <dd>
        <p>The user will not be prompted for a password when running commands matching CMDSPEC
        after NOPASSWD: .</p>

        <p>PASSWD is the default, it only needs to be specified when both are on the same line:</p>
        <pre>
tux ALL = PASSWD: /usr/bin/foo, NOPASSWD: /usr/bin/bar
</pre>
      </dd>

      <dt>Cmnd_List</dt>

      <dd>
        <p>One or more (separated by , ) specifiers: A path to an executable, followed by allowed
        arguments or nothing.</p>
        <pre>
/usr/bin/foo     # Anything allowed
/usr/bin/foo bar # Only "/usr/bin/foo bar" allowed
/usr/bin/foo ""  # No arguments allowed
</pre>
      </dd>
    </dl>

    <p>ALL can be used as User_List , Host_List , and Cmnd_List .</p>

    <p>A rule that allows tux to run all commands as root without entering a password:</p>
    <pre>
tux ALL = NOPASSWD: ALL
</pre>

    <p>A rule that allows tux to run systemctl restart apache2 :</p>
    <pre>
tux ALL = /usr/bin/systemctl restart apache2
</pre>

    <p>A rule that allows tux to run wall as admin with no arguments:</p>
    <pre>
tux ALL = (admin) /usr/bin/wall ""
</pre>

    <p><em>WARNING: Dangerous constructs</em></p>

    <p>Constructs of the kind</p>
    <pre>
ALL ALL = ALL
</pre>

    <p>must not be used without Defaults targetpw , otherwise anyone can run commands as root .</p>
    
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_suse_doc_administration_guide_configuring_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_sudo_archwiki" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_sudo_gentoo_wiki"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://wiki.archlinux.org/index.php/Sudo">Sudo -   ArchWiki</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://wiki.archlinux.org/index.php/Sudo">wiki.archlinux.org</a></h6>
 

    <p><b>Sudoers default file permissions</b></p>

    <p>The owner and group for the <code>sudoers</code> file must both be 0. The file permissions
    must be set to 0440. These permissions are set by default, but if you accidentally change them,
    they should be changed back immediately or sudo will fail.</p>
    <pre>
# chown -c root:root /etc/sudoers
# chmod -c 0440 /etc/sudoers
</pre><b>Tips and tricks</b> <b>Disable per-terminal sudo</b> Warning: This will let any process
use your sudo session.

    <p>If you are annoyed by sudo's defaults that require you to enter your password every time you
    open a new terminal, disable <b>tty_tickets</b> :</p>
    <pre>
Defaults !tty_tickets
</pre><b>Environment variables</b>

    <p>If you have a lot of environment variables, or you export your proxy settings via
    <code>export http_proxy="..."</code> , when using sudo these variables do not get passed to the
    root account unless you run sudo with the <code>-E</code> option.</p>
    <pre>
$ sudo -E pacman -Syu
</pre>

    <p>The recommended way of preserving environment variables is to append them to
    <code>env_keep</code> :</p>
    <pre>
/etc/sudoers
</pre>
    <pre>
Defaults env_keep += "ftp_proxy http_proxy https_proxy no_proxy"
</pre><b>Passing aliases</b>

    <p>If you use a lot of aliases, you might have noticed that they do not carry over to the root
    account when using sudo. However, there is an easy way to make them work. Simply add the
    following to your <code>~/.bashrc</code> or <code>/etc/bash.bashrc</code> :</p>
    <pre>
alias sudo='sudo '
</pre><b>Root password</b>

    <p>Users can configure sudo to ask for the root password instead of the user password by adding
    <code>targetpw</code> (target user, defaults to root) or <code>rootpw</code> to the Defaults
    line in <code>/etc/sudoers</code> :</p>
    <pre>
Defaults targetpw
</pre>

    <p>To prevent exposing your root password to users, you can restrict this to a specific
    group:</p>
    <pre>
Defaults:%wheel targetpw
%wheel ALL=(ALL) ALL
</pre><b>Disable root login</b>

    <p>Users may wish to disable the root login. Without root, attackers must first guess a user
    name configured as a sudoer as well as the user password. See for example <a target="_blank" href="https://wiki.archlinux.org/index.php/Ssh#Deny">Ssh#Deny</a> .</p>Warning:

    <ul>
      <li>Be careful, you may lock yourself out by disabling root login. Sudo is not automatically
      installed and its default configuration allows neither passwordless root access nor root
      access with your own password. Ensure a user is properly configured as a sudoer <i>before</i>
      disabling the root account!</li>

      <li>If you have changed your sudoers -file to use rootpw as default, then do not disable root
      login with any of the following commands!</li>

      <li>If you are already locked out, see <a target="_blank" href=
      "https://wiki.archlinux.org/index.php/Password_recovery">Password recovery</a> for help.</li>
    </ul>

    <p>The account can be locked via <code>passwd</code> :</p>
    <pre>
# passwd -l root
</pre>

    <p>A similar command unlocks root.</p>
    <pre>
$ sudo passwd -u root
</pre>

    <p>Alternatively, edit <code>/etc/shadow</code> and replace the root's encrypted password with
    "!":</p>
    <pre>
root:!:12345::::::
</pre>

    <p>To enable root login again:</p>
    <pre>
$ sudo passwd root
</pre>Tip: To get to an interactive root prompt, even after disabling the <i>root</i> account, use
<code>sudo -i</code> . <q>kdesu</q>

    <p>kdesu may be used under KDE to launch GUI applications with root privileges. It is possible
    that by default kdesu will try to use su even if the root account is disabled. Fortunately one
    can tell kdesu to use sudo instead of su. Create/edit the file <code>~/.config/kdesurc</code>
    :</p>
    <pre>
[super-user-command]
super-user-command=sudo
</pre>

    <p>or use the following command:</p>
    <pre>
$ kwriteconfig5 --file kdesurc --group super-user-command --key super-user-command sudo
</pre>

    <p>Alternatively, install <a target="_blank" href=
    "https://aur.archlinux.org/packages/kdesudo/">kdesudo</a> <sup><small>AUR</small></sup> , which
    has the added advantage of tab-completion for the command following.</p><b>Harden with Sudo
    Example</b>

    <p>Let us say you create 3 users: admin, devel, and joe. The user "admin" is used for
    journalctl, systemctl, mount, kill, and iptables; "devel" is used for installing packages, and
    editing config files; and "joe" is the user you log in with. To let "joe" reboot, shutdown, and
    use netctl we would do the following:</p>

    <p>Edit <code>/etc/pam.d/su</code> and <code>/etc/pam.d/su-1</code> Require user be in the
    wheel group, but do not put anyone in it.</p>
    <pre>
#%PAM-1.0
auth            sufficient      pam_rootok.so
# Uncomment the following line to implicitly trust users in the "wheel" group.
#auth           sufficient      pam_wheel.so trust use_uid
# Uncomment the following line to require a user to be in the "wheel" group.
auth            required        pam_wheel.so use_uid
auth            required        pam_unix.so
account         required        pam_unix.so
session         required        pam_unix.so
</pre>

    <p>Limit SSH login to the 'ssh' group. Only "joe" will be part of this group.</p>
    <pre>
groupadd -r ssh
gpasswd -a joe ssh
echo 'AllowGroups ssh' &gt;&gt; /etc/ssh/sshd_config
</pre>

    <p><a target="_blank" href="https://wiki.archlinux.org/index.php/Restart">Restart</a>
    <code>sshd.service</code> .</p>

    <p>Add users to other groups.</p>
    <pre>
for g in power network ;do ;gpasswd -a joe $g ;done
for g in network power storage ;do ;gpasswd -a admin $g ;done
</pre>

    <p>Set permissions on configs so devel can edit them.</p>
    <pre>
chown -R devel:root /etc/{http,openvpn,cups,zsh,vim,screenrc}
</pre>
    <pre>
Cmnd_Alias  POWER       =   /usr/bin/shutdown -h now, /usr/bin/halt, /usr/bin/poweroff, /usr/bin/reboot
Cmnd_Alias  STORAGE     =   /usr/bin/mount -o nosuid\,nodev\,noexec, /usr/bin/umount
Cmnd_Alias  SYSTEMD     =   /usr/bin/journalctl, /usr/bin/systemctl
Cmnd_Alias  KILL        =   /usr/bin/kill, /usr/bin/killall
Cmnd_Alias  PKGMAN      =   /usr/bin/pacman
Cmnd_Alias  NETWORK     =   /usr/bin/netctl
Cmnd_Alias  FIREWALL    =   /usr/bin/iptables, /usr/bin/ip6tables
Cmnd_Alias  SHELL       =   /usr/bin/zsh, /usr/bin/bash
%power      ALL         =   (root)  NOPASSWD: POWER
%network    ALL         =   (root)  NETWORK
%storage    ALL         =   (root)  STORAGE
root        ALL         =   (ALL)   ALL
admin       ALL         =   (root)  SYSTEMD, KILL, FIREWALL
devel       ALL         =   (root)  PKGMAN
joe         ALL         =   (devel) SHELL, (admin) SHELL
</pre>

    <p>With this setup, you will almost never need to login as the Root user.</p>

    <p>"joe" can connect to his home WiFi.</p>
    <pre>
sudo netctl start home
sudo poweroff
</pre>

    <p>"joe" can not use netctl as any other user.</p>
    <pre>
sudo -u admin -- netctl start home
</pre>

    <p>When "joe" needs to use journalctl or kill run away process he can switch to that user</p>
    <pre>
sudo -i -u devel
sudo -i -u admin
</pre>

    <p>But "joe" cannot switch to the root user.</p>
    <pre>
sudo -i -u root
</pre>

    <p>If "joe" want to start a gnu-screen session as admin he can do it like this:</p>
    <pre>
sudo -i -u admin
admin% chown admin:tty `echo $TTY`
admin% screen
</pre><b>Configure sudo using drop-in files in /etc/sudoers.d</b>

    <p><i>sudo</i> parses files contained in the directory <code>/etc/sudoers.d/</code> . This
    means that instead of editing <code>/etc/sudoers</code> , you can change settings in standalone
    files and drop them in that directory. This has two advantages:</p>

    <ul>
      <li>There is no need to edit a <code>sudoers.pacnew</code> file;</li>

      <li>If there is a problem with a new entry, you can remove the offending file instead of
      editing <code>/etc/sudoers</code> (but see the warning below).</li>
    </ul>

    <p>The format for entries in these drop-in files is the same as for <code>/etc/sudoers</code>
    itself. To edit them directly, use <code>visudo -f /etc/sudoers.d/ <i>somefile</i></code> . See
    the "Including other files from within sudoers" section of <a target="_blank" href=
    "https://jlk.fjfi.cvut.cz/arch/manpages/man/sudoers.5">sudoers(5)</a> for details.</p>

    <p>The files in <code>/etc/sudoers.d/</code> directory are parsed in lexicographical order,
    file names containing <code>.</code> or <code>~</code> are skipped. To avoid sorting problems,
    the file names should begin with two digits, e.g. <code>01_foo</code> .</p>Note: The order of
    entries in the drop-in files is important: make sure that the statements do not override
    themselves. Warning: The files in <code>/etc/sudoers.d/</code> are just as fragile as
    <code>/etc/sudoers</code> itself: any improperly formatted file will prevent <code>sudo</code>
    from working. Hence, for the same reason it is strongly advised to use <code>visudo</code>
    <b>Editing files</b>

    <p><code>sudo -e</code> or <code>sudoedit</code> lets you edit a file as another user while
    still running the text editor as your user.</p>

    <p>This is especially useful for editing files as root without elevating the privilege of your
    text editor, for more details read <a target="_blank" href=
    "https://jlk.fjfi.cvut.cz/arch/manpages/man/sudo.8#e">sudo(8)</a> .</p>

    <p>Note that you can set the editor to any program, so for example one can use <a target=
    "_blank" href="https://www.archlinux.org/packages/?name=meld">meld</a> to manage <a target=
    "_blank" href="https://wiki.archlinux.org/index.php/Pacman/Pacnew_and_Pacsave">pacnew</a>
    files:</p>
    <pre>
$ SUDO_EDITOR=meld sudo -e /etc/file{,.pacnew}
</pre><b>Troubleshooting</b> <b>SSH TTY Problems</b> 

    <p><b>Notes:</b> please use the
    second argument of the template to provide more detailed indications. (Discuss in <a target=
    "_blank" href="https://wiki.archlinux.org/index.php/Talk:Sudo">Talk:Sudo#</a> )

    </p>

    <p>SSH does not allocate a tty by default when running a remote command. Without a tty, sudo
    cannot disable echo when prompting for a password. You can use ssh's <code>-t</code> option to
    force it to allocate a tty.</p>

    <p>The <code>Defaults</code> option <code>requiretty</code> only allows the user to run sudo if
    they have a tty.</p>
    <pre>
# Disable "ssh hostname sudo &lt;cmd&gt;", because it will show the password in clear text. You have to run "ssh -t hostname sudo &lt;cmd&gt;".
#
#Defaults    requiretty
</pre><b>Permissive umask</b>

    <p><b>Notes:</b> please use the
    second argument of the template to provide more detailed indications. (Discuss in <a target=
    "_blank" href="https://wiki.archlinux.org/index.php/Talk:Sudo">Talk:Sudo#</a> )

    </p>

    <p>Sudo will union the user's <a target="_blank" href=
    "https://wiki.archlinux.org/index.php/Umask">umask</a> value with its own umask (which defaults
    to 0022). This prevents sudo from creating files with more open permissions than the user's
    umask allows. While this is a sane default if no custom umask is in use, this can lead to
    situations where a utility run by sudo may create files with different permissions than if run
    by root directly. If errors arise from this, sudo provides a means to fix the umask, even if
    the desired umask is more permissive than the umask that the user has specified. Adding this
    (using <code>visudo</code> ) will override sudo's default behavior:</p>
    <pre>
Defaults umask = 0022
Defaults umask_override</pre>

    <p>This sets sudo's umask to root's default umask (0022) and overrides the default behavior,
    always using the indicated umask regardless of what umask the user as set.</p><b>Defaults
    skeleton</b>

    <p><b>Notes:</b> please use the
    second argument of the template to provide more detailed indications. (Discuss in <a target=
    "_blank" href="https://wiki.archlinux.org/index.php/Talk:Sudo">Talk:Sudo#</a> )

    </p>

    <p>The authors site has a <a target="_blank" href=
    "http://www.sudo.ws/sudo/sudoers.man.html#x5355444f455253204f5054494f4e53">list of all the
    options</a> that can be used with the <code>Defaults</code> command in the
    <code>/etc/sudoers</code> file.</p>

    <p>See <a target="_blank" href="https://gist.github.com/AladW/7eca9799b9ea624eca31">[1]</a> for
    a list of options (parsed from the version 1.8.7 source code) in a format optimized for
    <code>sudoers</code> .</p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_sudo_archwiki"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_sudo_gentoo_wiki" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_trick_4_switching_to_root"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://wiki.gentoo.org/wiki/Sudo">sudo - Gentoo   Wiki</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a></h6>
 

    <p><b>Non-root execution</b></p>

    <p>It is also possible to have a user run an application as a different, non-root user. This
    can be very interesting if you run applications as a different user (for instance apache for
    the web server) and want to allow certain users to perform administrative steps as that user
    (like killing zombie processes).</p>

    <p>Inside /etc/sudoers you list the user(s) in between <code>(</code> and <code>)</code> before
    the command listing:</p>CODE Non-root execution syntax
    <pre>
users  hosts = (run-as) commands</pre>

    <p>For instance, to allow larry to run the kill tool as the apache or gorg user:</p>CODE
    Non-root execution example
    <pre>
Cmnd_Alias KILL = /bin/kill, /usr/bin/pkill
 
larry   ALL = (apache, gorg) KILL</pre>

    <p>With this set, the user can run sudo -u to select the user he wants to run the application
    as:</p><code>user $</code> <code>sudo -u apache pkill apache</code>

    <p>You can set an alias for the user to run an application as using the
    <code>Runas_Alias</code> directive. Its use is identical to the other <code>_Alias</code>
    directives we have seen before.</p><b>Passwords and default settings</b>

    <p>By default, sudo asks the user to identify himself using his own password. Once a password
    is entered, sudo remembers it for 5 minutes, allowing the user to focus on his tasks and not
    repeatedly re-entering his password.</p>

    <p>Of course, this behavior can be changed: you can set the <code>Defaults:</code> directive in
    /etc/sudoers to change the default behavior for a user.</p>

    <p>For instance, to change the default 5 minutes to 0 (never remember):</p>CODE Changing the
    timeout value
    <pre>
Defaults:larry  timestamp_timeout=0</pre>

    <p>A setting of <code>-1</code> would remember the password indefinitely (until the system
    reboots).</p>

    <p>A different setting would be to require the password of the user that the command should be
    run as and not the users' personal password. This is accomplished using <code>runaspw</code> .
    In the following example we also set the number of retries (how many times the user can
    re-enter a password before sudo fails) to <code>2</code> instead of the default 3:</p>CODE
    Requiring the root password instead of the user's password
    <pre>
Defaults:john   runaspw, passwd_tries=2</pre>

    <p>Another interesting feature is to keep the <code>DISPLAY</code> variable set so that you can
    execute graphical tools:</p>CODE Keeping the DISPLAY variable alive
    <pre>
Defaults:john env_keep=DISPLAY</pre>

    <p>You can change dozens of default settings using the <code>Defaults:</code> directive. Fire
    up the sudoers manual page and search for <code>Defaults</code> .</p>

    <p>If you however want to allow a user to run a certain set of commands without providing any
    password whatsoever, you need to start the commands with <code>NOPASSWD:</code> , like
    so:</p>CODE Allowing emerge to be ran as root without asking for a password
    <pre>
larry     localhost = NOPASSWD: /usr/bin/emerge</pre><b>Bash completion</b>

    <p>Users that want bash completion with sudo need to run this once.</p><code>user $</code>
    <code>sudo echo "complete -cf sudo" &gt;&gt; $HOME/.bashrc</code>
  
    <p> 
    </p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_sudo_gentoo_wiki"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_trick_4_switching_to_root" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_prolonging_password_timeout"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.networkworld.com/article/3236499/linux/some-tricks-for-using-sudo.html">Trick 4:   Switching to root</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://www.networkworld.com/article/3236499/linux/some-tricks-for-using-sudo.html">www.networkworld.com</a></h6>
 

    <p>There are times when prefacing every command with "sudo" gets in the way of getting your
    work done. With a default /etc/sudoers configuration and membership in the sudo (or admin)
    group, you can assume root control using the command sudo su - . Extra care should always be
    taken when using the root account in this way.</p>
    <pre>
$ sudo -i -u root
[sudo] password for jdoe:
root@stinkbug:~#
</pre>
 <!--TAGS: .  ~/sudo_tips. -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_trick_4_switching_to_root"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_prolonging_password_timeout" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_shared_administration_with_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://wiki.gentoo.org/wiki/Sudo">Prolonging   password timeout</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a></h6>
 

    <p><b>Prolonging password timeout</b></p>

    <p>By default, if a user has entered their password to authenticate their self to sudo , it is
    remembered for 5 minutes. If the user wants to prolong this period, he can run sudo -v to reset
    the time stamp so that it will take another 5 minutes before sudo asks for the password
    again.</p><code>user $</code> <code>sudo -v</code>

    <p>The inverse is to kill the time stamp using sudo -k .</p>
    
 <!--TAGS: . ~/sudo_tips -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_prolonging_password_timeout"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_shared_administration_with_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_scom_1801_2016_and_2012_configuring_sudo_elevation_for_unix_and_linux_monitoring"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.freebsd.org/doc/handbook/security-sudo.html">Shared Administration with   Sudo</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://www.freebsd.org/doc/handbook/security-sudo.html">www.freebsd.org</a></h6>
 

    <p>Finally, this line in <code>/usr/local/etc/sudoers</code> allows any member of the webteam
    group to manage <em><code>webservice</code></em> :</p>
    <pre>
%webteam   ALL=(ALL)       /usr/sbin/service webservice *</pre>

    <p>Unlike <a target="_blank" href=
    "https://www.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;manpath=freebsd-release-ports">su
    (1)</a> , Sudo only requires the end user password. This adds an advantage where users will not
    need shared passwords, a finding in most security audits and just bad all the way around.</p>

    <p>Users permitted to run applications with Sudo only enter their own passwords. This is more
    secure and gives better control than <a target="_blank" href=
    "https://www.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;manpath=freebsd-release-ports">su
    (1)</a> , where the <code>root</code> password is entered and the user acquires all
    <code>root</code> permissions.</p><b>Tip:</b>

    <p>Most organizations are moving or have moved toward a two factor authentication model. In
    these cases, the user may not have a password to enter. Sudo provides for these cases with the
    <code>NOPASSWD</code> variable. Adding it to the configuration above will allow all members of
    the <em><code>webteam</code></em> group to manage the service without the password
    requirement:</p>
    <pre xmlns="http://www.w3.org/1999/xhtml">
%webteam   ALL=(ALL)       NOPASSWD: /usr/sbin/service webservice *
</pre>

    <p><b>13.14.1. Logging Output</b></p>

    <p>An advantage to implementing Sudo is the ability to enable session logging. Using the built
    in log mechanisms and the included sudoreplay command, all commands initiated through Sudo are
    logged for later verification. To enable this feature, add a default log directory entry, this
    example uses a user variable. Several other log filename conventions exist, consult the manual
    page for sudoreplay for additional information.</p>
    <pre>
Defaults iolog_dir=/var/log/sudo-io/%{user}
</pre><b>Tip:</b>

    <p>This directory will be created automatically after the logging is configured. It is best to
    let the system create directory with default permissions just to be safe. In addition, this
    entry will also log administrators who use the sudoreplay command. To change this behavior,
    read and uncomment the logging options inside <code>sudoers</code> .</p>

    <p>Once this directive has been added to the <code>sudoers</code> file, any user configuration
    can be updated with the request to log access. In the example shown, the updated
    <em><code>webteam</code></em> entry would have the following additional changes:</p>
    <pre>
%webteam ALL=(ALL) NOPASSWD: LOG_INPUT: LOG_OUTPUT: /usr/sbin/service webservice *
</pre>

    <p>From this point on, all <em><code>webteam</code></em> members altering the status of the
    <em><code>webservice</code></em> application will be logged. The list of previous and current
    sessions can be displayed with:</p>
    <pre>
# sudoreplay -l</pre>

    <p>In the output, to replay a specific session, search for the <code>TSID=</code> entry, and
    pass that to sudoreplay with no other options to replay the session at normal speed. For
    example:</p>
    <pre>
# sudoreplay user1/00/00/02
</pre><b>Warning:</b>

    <p>While sessions are logged, any administrator is able to remove sessions and leave only a
    question of why they had done so. It is worthwhile to add a daily check through an intrusion
    detection system ( <acronym>IDS</acronym> ) or similar software so that other administrators
    are alerted to manual alterations.</p>

    <p>The <code>sudoreplay</code> is extremely extendable. Consult the documentation for more
    information.</p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_shared_administration_with_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_scom_1801_2016_and_2012_configuring_sudo_elevation_for_unix_and_linux_monitoring" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_sudo_and_sudoers_configuration_servers_for_hackers"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://social.technet.microsoft.com/wiki/contents/articles/7375.scom-1801-2016-and-2012-configuring-sudo-elevation-for-unix-and-linux-monitoring.aspx">   SCOM 1801, 2016 and 2012 Configuring sudo Elevation for UNIX and Linux Monitoring</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://social.technet.microsoft.com/wiki/contents/articles/7375.scom-1801-2016-and-2012-configuring-sudo-elevation-for-unix-and-linux-monitoring.aspx"> technet.microsoft.com</a></h6>
 

    <p>LINUX</p>

    <blockquote>
      <p>#-----------------------------------------------------------------------------------</p>

      <p>#Example user configuration for Operations Manager agent</p>

      <p>#Example assumes users named: scomadm &amp; scomadm</p>

      <p>#Replace usernames &amp; corresponding /tmp/scx-&lt;username&gt; specification for your
      environment</p>

      <p>#General requirements</p>

      <p>Defaults:scomadm !requiretty</p>

      <p>#Agent maintenance</p>

      <p>##Certificate signing</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c cp /tmp/scx-scomadm/scx.pem
      /etc/opt/microsoft/scx/ssl/scx.pem; rm -rf /tmp/scx-scomadm;
      /opt/microsoft/scx/bin/tools/scxadmin -restart</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c cat /etc/opt/microsoft/scx/ssl/scx.pem</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -f
      /opt/microsoft/omsagent/bin/service_control; then cat
      /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; else cat
      /etc/opt/microsoft/scx/ssl/scx.pem; fi</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -f
      /opt/microsoft/omsagent/bin/service_control; then mv /tmp/scx-scomadm/scom-cert.pem
      /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; fi</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -r /etc/opt/microsoft/scx/ssl/scx.pem;
      then cat /etc/opt/microsoft/scx/ssl/scx.pem; else cat
      /etc/opt/microsoft/scx/ssl/scx-seclevel1.pem; fi</p>

      <p>##SCOM Workspace</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -f
      /opt/microsoft/omsagent/bin/service_control; then cp /tmp/scx-scomadm/omsadmin.conf
      /etc/opt/microsoft/omsagent/scom/conf/omsadmin.conf;
      /opt/microsoft/omsagent/bin/service_control restart scom; fi</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -f /opt/microsoft/omsagent/bin/omsadmin.sh
      &amp;&amp; test ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi</p>

      <p>##Install or upgrade</p>

      <p>#Linux</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].universal[[\:alpha\:]].[[\:digit\:]].x[6-8][4-6].sh
      --install --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].universal[[\:alpha\:]].[[\:digit\:]].x[6-8][4-6].sh
      --upgrade --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>#RHEL</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].rhel.[[\:digit\:]].x[6-8][4-6].sh
      --install --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].rhel.[[\:digit\:]].x[6-8][4-6].sh
      --upgrade --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>#SUSE</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].sles.1[[\:digit\:]].x[6-8][4-6].sh
      --install --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/omsagent-1.[0-9].[0-9]-[0-9][0-9].sles.1[[\:digit\:]].x[6-8][4-6].sh
      --upgrade --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test
      ! -f /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>## RHEL PPC</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/scx-1.[0-9].[0-9]-[0-9][0-9][0-9].rhel.[[\:digit\:]].ppc.sh --install
      --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test ! -f
      /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c sh
      /tmp/scx-scomadm/scx-1.[0-9].[0-9]-[0-9][0-9][0-9].rhel.[[\:digit\:]].ppc.sh --upgrade
      --enable-opsmgr; if test -f /opt/microsoft/omsagent/bin/omsadmin.sh &amp;&amp; test ! -f
      /etc/opt/microsoft/omsagent/scom/certs/scom-cert.pem; then
      /opt/microsoft/omsagent/bin/omsadmin.sh -w scom; fi; EC=$?; cd /tmp; rm -rf /tmp/scx-scomadm;
      exit $EC</p>

      <p>##Uninstall</p>

      <p>scomadm ALL=(root) NOPASSWD: /bin/sh -c if test -f
      /opt/microsoft/omsagent/bin/omsadmin.sh; then if test
      "$(/opt/microsoft/omsagent/bin/omsadmin.sh -l | grep scom | wc -l)" \= "1" &amp;&amp; test
      "$(/opt/microsoft/omsagent/bin/omsadmin.sh -l | wc -l)" \= "1" || test
      "$(/opt/microsoft/omsagent/bin/omsadmin.sh -l)" \= "No Workspace"; then
      /opt/microsoft/omsagent/bin/uninstall; else /opt/microsoft/omsagent/bin/omsadmin.sh -x scom;
      fi; else /opt/microsoft/scx/bin/uninstall; fi</p>

      <p>##Log file monitoring</p>

      <p>scomadm ALL=(root) NOPASSWD: /opt/microsoft/scx/bin/scxlogfilereader -p</p>

      <p>###Examples</p>

      <p>#Custom shell command monitoring example -replace &lt;shell command&gt; with the correct
      command string</p>

      <p>#scomadm ALL=(root) NOPASSWD: /bin/bash -c &lt;shell command&gt;</p>

      <p>#Daemon diagnostic and restart recovery tasks example (using cron)</p>

      <p>#scomadm ALL=(root) NOPASSWD: /bin/sh -c ps -ef | grep cron | grep -v grep</p>

      <p>#scomadm ALL=(root) NOPASSWD: /usr/sbin/cron &amp;</p>

      <p>#End user configuration for Operations Manager agent</p>

      <p>#-----------------------------------------------------------------------------------</p>
    </blockquote>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_scom_1801_2016_and_2012_configuring_sudo_elevation_for_unix_and_linux_monitoring"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_sudo_and_sudoers_configuration_servers_for_hackers" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_ibm_knowledge_center_configuring_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://serversforhackers.com/c/sudo-and-sudoers-configuration">Sudo and Sudoers Configuration   Servers for Hackers</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://serversforhackers.com/c/sudo-and-sudoers-configuration">serversforhackers.com</a></h6>
 

    <p><b>%group</b></p>

    <p>We can try editing a group. The following will allow group <code>www-data</code> to run
    <code>sudo service php5-fpm *</code> commands without a password, great for deployment!</p>

    <p><code>%www-data ALL(ALL:ALL) NOPASSWD:/usr/sbin/service php5-fpm *</code></p>

    <p>Here's the same configuration as a comma-separated list of multiple commands. This let's us
    get more specific on which <code>service</code> commands we can use with <code>php5-fpm</code>
    :</p>

    <p><code>%www-data ALL(ALL:ALL) NOPASSWD:/usr/sbin/service php5-fpm reload,/usr/sbin/service
    php5-fpm restart,</code></p>

    <p>We can enforce the use of a password with some commands, but no password for others:</p>

    <p><code>%admin ALL NOPASSWD:/bin/mkdir, PASSWD:/bin/rm</code></p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_sudo_and_sudoers_configuration_servers_for_hackers"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_ibm_knowledge_center_configuring_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_understanding_and_using_sudo_in_unix_or_linux_with_examples"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.ibm.com/support/knowledgecenter/en/STXKQY_4.2.3/com.ibm.spectrum.scale.v4r23.doc/bl1adm_configsudo.htm">   IBM Knowledge Center - Configuring sudo</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://www.ibm.com/support/knowledgecenter/en/STXKQY_4.2.3/com.ibm.spectrum.scale.v4r23.doc/bl1adm_configsudo.htm"> www.ibm.com</a></h6>
 

    <ol>
      <li>Open the /etc/sudoers file with a text editor. The sudo installation includes the
      <var>visudo</var> editor, which checks the syntax of the file before closing.</li>

      <li>Add the following commands to the file. Important: Enter each command on a single line:
        <pre>
# Preserve GPFS environment variables:
Defaults env_keep += "MMMODE environmentType GPFS_rshPath GPFS_rcpPath mmScriptTrace GPFSCMDPORTRANGE GPFS_CIM_MSG_FORMAT" 

# Allow members of the gpfs group to run all commands but only selected commands without a password:
%gpfs ALL=(ALL) PASSWD: ALL, NOPASSWD: /usr/lpp/mmfs/bin/mmremote, /usr/bin/scp, /bin/echo, /usr/lpp/mmfs/bin/mmsdrrestore

# Disable requiretty for group gpfs:
Defaults:%gpfs !requiretty
</pre>
      </li>
    </ol>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_ibm_knowledge_center_configuring_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_understanding_and_using_sudo_in_unix_or_linux_with_examples" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_configuring_sudo_explaination_with_an_example"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="http://aplawrence.com/Basics/sudo.html">Understanding   and using sudo in Unix or Linux (with examples)</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "http://aplawrence.com/Basics/sudo.html">aplawrence.com</a></h6>
 

    <p><b>Limiting commands</b></p>

    <p>There's more that sudo does to protect tyou from malicious mischief. The :man sudo" pages
    cover that completely. Let's continue with our examples; it's time to limit "jim" to specific
    commands. There are two ways to do that. We can specifically list commands, or we can say that
    jim can only run commands in a certain directory. A combination of those methods is useful:</p>
    <pre cwidth="514" eza=
    "cwidth:514px;;cheight:42px;;wcalc_source:child;wcalc:160px;wocalc:160px;hcalc:84px;rend_px_area:21588;">
jim     ALL=    /bin/kill,/sbin/linuxconf, /usr/sbin/jim/
</pre>

    <p>The careful reader will note that there was a bit of a change here. The line used to read
    "jim ALL=(ALL) ALL", but now there's only one "ALL" left. Reading the man page can easily leave
    you quite confused as to what those three "ALL"'s meant. In the example above, ALL refers to
    machines- the assumption is that this is a network wide sudoers file. In the case of this
    machine (lnxserve) we could do this:</p>
    <pre cwidth="514" eza=
    "cwidth:514px;;cheight:42px;;wcalc_source:child;wcalc:89px;wocalc:89px;hcalc:105px;rend_px_area:21588;">
jim     lnxserve=       /bin/kill, /usr/sbin/jim/
</pre>

    <p>So what was the "(ALL)" for? Well, here's a clue:</p>
    <pre cwidth="514" eza=
    "cwidth:514px;;cheight:42px;;wcalc_source:child;wcalc:89px;wocalc:89px;hcalc:126px;rend_px_area:21588;">
jim     lnxserve=(paul,linda)   /bin/kill, /usr/sbin/jim/
</pre>

    <p>That says that jim can (using "sudo -u ") run commands as paul or linda.</p>

    <p>This is perfect for giving jim the power to kill paul or linda's processes without giving
    him anything else. There is one thing we need to add though: if we just left it like this, jim
    is forced to use "sudo -u paul" or "sudo -u linda" every time. We can add a default
    "runas_default":</p>
    <pre cwidth="514" eza=
    "cwidth:514px;;cheight:63px;;wcalc_source:child;wcalc:159px;wocalc:159px;hcalc:126px;rend_px_area:32382;">
Defaults:jim    timestamp_timeout=-1, env_delete+="BOOP", runas_default=linda
</pre>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_understanding_and_using_sudo_in_unix_or_linux_with_examples"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_configuring_sudo_explaination_with_an_example" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_running_commands_as_another_user_via_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.linux.com/blog/configuring-sudo-explaination-example">Configuring sudo Explaination   with an example</a> by <a target="_blank" href="https://www.linux.com/users/ankit">Ankit Mehta</a></h4>

<blockquote>
<h6>May 14, 2009 |  <a target="_blank" href= "https://www.linux.com/blog/configuring-sudo-explaination-example">www.linux.com</a></h6>
 

    <p>sudo commands use a basic syntax. By default, the <em>/etc/sudoers</em> file will have one
    stanza:</p>
    <pre>
root      ALL=(ALL) ALL</pre>

    <p>This tells sudo to give root sudo access to everything on every host. The syntax is
    simple:</p>
    <pre>
user       host = (user) command</pre>

    <p>The first column defines the <em>user</em> the command applies to. The <em>host</em> section
    defines the host this stanza applies to. The <em>(user)</em> section defines the user to run
    the command as, while the <em>command</em> section defines the command itself.</p>

    <p>You can also define aliases for Hosts, Users, and Commands by using the keywords
    <em>Host_Alias</em> , <em>User_Alias</em> , and <em>Cmnd_Alias</em> respectively.</p>

    <p>Let's take a look at a few examples of the different aliases you can use.</p>
    
    <p>... ... ... </p>

    <p>Next, lets define some User aliases:</p>
    <pre>
User_Alias        WEBADMIN = ankit, sam
</pre>
    <pre>
User_Alias        MAILADMIN = ankit, navan
</pre>
    <pre>
User_Alias        BINADMIN = ankit, jon
</pre>

    <p>Here we've also defined three User aliases. The first user alias has the name WEBADMIN for
    web administrators. Here we've define Ankit and Sam. The second alias is MAILADMIN, for mail
    administrators, and here we have Ankit and Navan. Finally, we define an alias of BINADMIN for
    the regular sysadmins, again Ankit, but with Jon as well.</p>

    <p>So far we've defined some hosts and some users. Now we get to define what commands they may
    be able to run, also using some aliases:</p>
    <pre>
Cmnd_Alias         SU = /bin/su
</pre>
    <pre>
Cmnd_Alias         BIN = /bin/rpm, /bin/rm, /sbin/linuxconf
</pre>
    <pre>
Cmnd_Alias         SWATCH = /usr/bin/swatch, /bin/touch
</pre>
    <pre>
Cmnd_Alias         HTTPD = /etc/rc.d/init.d/httpd, /etc/rc.d/init.d/mysql
</pre>
    <pre>
Cmnd_Alias         SMTP = /etc/rc.d/init.d/qmail
</pre>

    <p>Here we have a few aliases. The first we call SU, and enables the user to run the /bin/su
    command. The second we call BIN, which enables the user to run the commands: /bin/rpm , /bin/rm
    , and /sbin/linuxconf . The next is the SWATCH alias which allows the user to run
    /usr/bin/swatch and /bin/touch . Then we define the HTTPD alias which allows the user to
    execute /etc/rc.d/init.d/httpd and /etc/rc.d/init.d/mysql , for web maintenance. Finally, we
    define SMTP, which allows the user to manipulate the running of the qmail SMTP server...</p>

    <p>... ... ... </p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_configuring_sudo_explaination_with_an_example"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_running_commands_as_another_user_via_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_quick_howto_ch09_linux_users_and_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://www.safaribooksonline.com/library/view/linux-security-cookbook/0596003919/ch05s03.html">Running   Commands as Another User via sudo</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://www.safaribooksonline.com/library/view/linux-security-cookbook/0596003919/ch05s03.html"> www.safaribooksonline.com</a></h6>
 

    <p>You want one user to run commands as another, without sharing passwords.</p>

    <p><b>Solution</b></p>

    <p>Suppose you want user smith to be able to run a given command as user jones.</p>
    <pre>
               /etc/sudoers:
smith  ALL = (jones) /usr/local/bin/mycommand
</pre>

    <p>User smith runs:</p>
    <pre>
smith$ sudo -u jones /usr/local/bin/mycommand
smith$ sudo -u jones mycommand                     If /usr/local/bin is in $PATH</pre>

    <p>User smith will be prompted for his own password, not jones's. The <code>ALL</code> keyword,
    which matches anything, in this case specifies that the line is valid on any host.
    </p>

    <p><b>Discussion</b></p>

    <p><code>sudo</code> exists for this very reason!</p>

    <p>To authorize root privileges for smith, replace "jones" with "root" in the above
    example.</p>
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_running_commands_as_another_user_via_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_quick_howto_ch09_linux_users_and_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_bash_sudo_as_another_user_with_their_environment"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch09_:_Linux_Users_and_Sudo">Quick HOWTO Ch09  Linux Users and Sudo</a></h4>

<h5>This article contains pretty pervert examples that shows that lists can used on the right part of the user statement  too ;-)
</h5>
<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch09_:_Linux_Users_and_Sudo">www.linuxhomenetworking.com</a></h6>
 
   <b>Simple /etc/sudoers Examples</b>

   <p>This section presents some simple examples of how to do many commonly required tasks using the sudo utility.</p>
   <b>Granting All Access to Specific Users</b>

   <p>You can grant users bob and bunny full access to all privileged commands, with this sudoers entry.</p>

   <pre>
bob, bunny  ALL=(ALL) ALL</pre>

   <p>This is generally not a good idea because this allows bob and bunny to use the su command to grant themselves permanent root privileges 
   thereby bypassing the command logging features of sudo. The example on using aliases in the sudoers file shows how to eliminate this 
   prob</p>
   <b>Granting Access To Specific Users To Specific Files</b>

   <p>This entry allows user peter and all the members of the group operator to gain access to all the program files in the /sbin and 
   /usr/sbin directories, plus the privilege of running the command /usr/local/apps/check.pl. Notice how the trailing slash (/) is required 
   to specify a directory location:</p>

   <pre>
peter, %operator ALL= /sbin/, /usr/sbin, /usr/local/apps/check.pl</pre>

   <p>Notice also that the lack of any username entries within parentheses () after the = sign prevents the users from running the commands 
   automatically masquerading as another user. This is explained further in the next example.</p>
   <b>Granting Access to Specific Files as Another User</b>

   <p>The sudo -u entry allows allows you to execute a command as if you were another user, but first you have to be granted this privilege 
   in the sudoers file.</p>

   <p>This feature can be convenient for programmers who sometimes need to kill processes related to projects they are working on. For 
   example, programmer peter is on the team developing a financial package that runs a program called monthend as user accounts. From 
   time to time the application fails, requiring &quot;peter&quot; to stop it with the /bin/kill, /usr/bin/kill or /usr/bin/pkill commands but 
   only as user &quot;accounts&quot;. The sudoers entry would look like this:</p>

   <pre>
peter ALL=(accounts) /bin/kill, /usr/bin/kill, /usr/bin/pkill</pre>

   <p>User peter is allowed to stop the monthend process with this command:</p>

   <pre>
[peter@bigboy peter]# sudo -u accounts pkill monthend</pre>
   <b>Granting Access Without Needing Passwords</b>

   <p>This example allows all users in the group operator to execute all the commands in the /sbin directory without the need for entering 
   a password. This has the added advantage of being more convenient to the user:</p>

   <pre>
%operator ALL= NOPASSWD: /sbin/
</pre>
   <b>Using Aliases in the sudoers File</b>

   <p>Sometimes you&#39;ll need to assign random groupings of users from various departments very similar sets of privileges. The sudoers 
   file allows users to be grouped according to function with the group and then being assigned a nickname or alias which is used throughout 
   the rest of the file. Groupings of commands can also be assigned aliases too.</p>

   <p>In the next example, users peter, bob and bunny and all the users in the operator group are made part of the user alias ADMINS. 
   All the command shell programs are then assigned to the command alias SHELLS. Users ADMINS are then denied the option of running 
   any SHELLS commands and su:</p>

   <pre>
Cmnd_Alias    SHELLS = /usr/bin/sh,  /usr/bin/csh, \
                       /usr/bin/ksh, /usr/local/bin/tcsh, \
                       /usr/bin/rsh, /usr/local/bin/zsh
 
 
User_Alias    ADMINS = peter, bob, bunny, %operator
ADMINS        ALL    = !/usr/bin/su, !SHELLS</pre>

   <p>This attempts to ensure that users don&#39;t permanently su to become root, or enter command shells that bypass sudo&#39;s command logging. 
   It doesn&#39;t prevent them from copying the files to other locations to be run. The advantage of this is that it helps to create an 
   audit trail, but the restrictions can be enforced only as part of the company&#39;s overall security policy.</p>
   <b>Other Examples</b>

   <p>You can view a comprehensive list of /etc/sudoers file options by issuing the command man sudoers.</p>
   <b>Using syslog To Track All sudo Commands</b>

   <p>All sudo commands are logged in the log file /var/log/messages which can be very helpful in determining how user error may have 
   contributed to a problem. All the sudo log entries have the word sudo in them, so you can easily get a thread of commands used by 
   using the grep command to selectively filter the output accordingly.</p>

   <p>Here is sample output from a user bob failing to enter their correct sudo password when issuing a command, immediately followed 
   by the successful execution of the command /bin/more sudoers.</p>

   <pre>
[root@bigboy tmp]# grep sudo /var/log/messages
Nov 18 22:50:30 bigboy sudo(pam_unix)[26812]: authentication failure; logname=bob uid=0 euid=0 tty=pts/0 ruser= rhost= user=bob
Nov 18 22:51:25 bigboy sudo: bob : TTY=pts/0 ; PWD=/etc ; USER=root ; COMMAND=/bin/more sudoers
[root@bigboy tmp]#</pre>
   <!--TAGS: .  -->

<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_quick_howto_ch09_linux_users_and_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_bash_sudo_as_another_user_with_their_environment" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_what_are_the_differences_between_su_sudo_s_sudo_i_sudo_su"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">bash   - sudo as another user with their environment</a></h4>

<h5>Using strace is an interesting debugging tip</h5>
<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">unix.stackexchange.com</a></h6>
 

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/49146/user80551">user80551</a></b> ,Jan 2, 2015 at
    4:29</p>

    <blockquote>
      <pre>
$ whoami
admin
$ sudo -S -u otheruser whoami
otheruser
$ sudo -S -u otheruser /bin/bash -l -c 'echo $HOME'
/home/admin
</pre>

      <p>Why isn't <code>$HOME</code> being set to <code>/home/otheruser</code> even though bash is
      invoked as a login shell?</p>

      <p>Specifically, <code>/home/otheruser/.bashrc</code> isn't being sourced. Also,
      <code>/home/otheruser/.profile</code> isn't being sourced. - (
      <code>/home/otheruser/.bash_profile</code> doesn't exist)</p>

      <p>EDIT: The exact problem is actually <a target="_blank" href=
      "https://stackoverflow.com/questions/27738224/mkvirtualenv-with-fabric-as-another-user-fails">
      https://stackoverflow.com/questions/27738224/mkvirtualenv-with-fabric-as-another-user-fails</a></p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel &Scaron;imerda</a></b>
    ,Jan 2, 2015 at 8:29</p>

    <blockquote>
      A solution to this question will solve the other question as well, you might want to delete
      the other question in this situation. &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel &Scaron;imerda</a>
      <a target="_blank" href=
      "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment#comment292869_176997">
      Jan 2 '15 at 8:29</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel &Scaron;imerda</a></b>
    ,Jan 2, 2015 at 8:27</p>

    <blockquote>
      To invoke a login shell using <code>sudo</code> just use <code>-i</code> . When command is
      not specified you'll get a login shell prompt, otherwise you'll get the output of your
      command.

      <p>Example (login shell):</p>
      <pre>
sudo -i</pre>

      <p>Example (with a specified user):</p>
      <pre>
sudo -i -u user
</pre>

      <p>Example (with a command):</p>
      <pre>
sudo -i -u user whoami</pre>

      <p>Example (print user's <code>$HOME</code> ):</p>
      <pre>
sudo -i -u user echo \$HOME</pre>

      <p>Note: The backslash character ensures that the dollar sign reaches the target user's shell
      and is not interpreted in the calling user's shell.</p>

      <p>I have just checked the last example with <em>strace</em> which tells you exactly what's
      happening. The output bellow shows that the shell is being called with <code>--login</code>
      and with the specified command, just as in your explicit call to bash, but in addition
      <em>sudo</em> can do its own work like setting the <code>$HOME</code> .</p>
      <pre>
# strace -f -e process sudo -S -i -u user echo \$HOME
execve("/usr/bin/sudo", ["sudo", "-S", "-i", "-u", "user", "echo", "$HOME"], [/* 42 vars */]) = 0
...
[pid 12270] execve("/bin/bash", ["-bash", "--login", "-c", "echo \\$HOME"], [/* 16 vars */]) = 0
...</pre>

      <p>I noticed that you are using <code>-S</code> and I don't think it is generally a good
      technique. If you want to run commands as a different user without performing authentication
      from the keyboard, you might want to use SSH instead. It works for <code>localhost</code> as
      well as for other hosts and provides public key authentication that works without any
      interactive input.</p>
      <pre>
ssh user@localhost echo \$HOME</pre>

      <p>Note: You don't need any special options with SSH as the SSH server always creates a login
      shell to be accessed by the SSH client.</p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/58326/john-west">John_West</a></b> ,Nov 23, 2015 at
    11:12</p>

    <blockquote>
      <code>sudo -i -u user echo \$HOME</code> doesn't work for me. Output: <code>$HOME</code> .
      strace gives the same output as yours. What's the issue? &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/58326/john-west">John_West</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment#comment420590_177011">
      Nov 23 '15 at 11:12</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel &Scaron;imerda</a></b>
    ,Jan 20, 2016 at 19:02</p>

    <blockquote>
      No idea, it still works for me, I'd need to see it or maybe even touch the system. &ndash;
      <a target="_blank" href="https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel
      &Scaron;imerda</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment#comment443422_177011">
      Jan 20 '16 at 19:02</a>
    </blockquote>

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/96742/jeff-snider">Jeff
    Snider</a></b> ,Jan 2, 2015 at 8:04</p>

    <blockquote>
      You're giving Bash too much credit. All "login shell" means to Bash is what files are sourced
      at startup and shutdown. The <code>$HOME</code> variable doesn't figure into it.

      <p>The Bash docs explain some more what login shell means: <a target="_blank" href=
      "https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html#Bash-Startup-Files">
      https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html#Bash-Startup-Files</a></p>

      <p>In fact, Bash doesn't do anything to set <code>$HOME</code> at all. <code>$HOME</code> is
      set by whatever invokes the shell (login, ssh, etc.), and the shell inherits it. Whatever
      started your shell as admin set <code>$HOME</code> and then exec-ed <code>bash</code> ,
      <code>sudo</code> by design doesn't alter the environment unless asked or configured to do
      so, so <code>bash</code> as otheruser inherited it from your shell.</p>

      <p>If you want <code>sudo</code> to handle more of the environment in the way you're
      expecting, look at the <code>-i</code> switch for sudo. Try:</p>
      <pre>
sudo -S -u otheruser -i /bin/bash -l -c 'echo $HOME'</pre>

      <p>The man page for sudo describes it in more detail, though not really well, I think:
      <a target="_blank" href=
      "http://linux.die.net/man/8/sudo">http://linux.die.net/man/8/sudo</a></p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/49146/user80551">user80551</a></b> ,Jan 2, 2015 at
    8:11</p>

    <blockquote>
      $HOME isn't set by bash - Thanks, I didn't know that. &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/49146/user80551">user80551</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment#comment292864_177009">
      Jan 2 '15 at 8:11</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/60296/pavel-%C5%A0imerda">Pavel &Scaron;imerda</a></b>
    ,Jan 2, 2015 at 9:46</p>

    <blockquote>
      Look for <i>strace</i> in my answer. It shows that you don't need to build <code>/bin/bash -l
      -c 'echo $HOME'</code> command line yourself when using <code>-i</code> .
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/13308/palswim">palswim</a></b> ,Oct 13, 2016 at 20:21</p>

    <blockquote>
      That <code>sudo</code> syntax threw an error on my machine. ( <code>su</code> uses the
      <code>-c</code> option, but I don't think <code>sudo</code> does.) I had better luck with:
      <code>HomeDir=$( sudo -u "$1" -H -s echo "\$HOME" )</code> &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/13308/palswim">palswim</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment#comment555898_177009">
      Oct 13 '16 at 20:21</a>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_bash_sudo_as_another_user_with_their_environment"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_what_are_the_differences_between_su_sudo_s_sudo_i_sudo_su" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_how_to_invoke_login_shell_for_another_user_using_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su">   What are the differences between su, sudo -s, sudo -i, sudo su</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  (which means "substitute user" or "switch user") ...&quot;</h5>
<h5>&quot;...  (hmm... what's the mnemonic? Super-User-DO?) ...&quot;</h5>
<h5>&quot;...  The official meaning of "su" is "substitute user" ...&quot;</h5>
<h5>&quot;...  Interestingly, Ubuntu's manpage does not mention "substitute" at all. The       manpage at gnu.org (  gnu.org/software/coreutils/manual/html_node/su-invocation.html        ) does indeed say "su: Run a command with substitute user and group ID". ...&quot;</h5>
<h5>&quot;...  sudo -s  runs a [specified] shell with root privileges.  sudo -i  also acquires       the root user's environment. ...&quot;</h5>
<h5>&quot;...  To see the difference between su and sudo -s , do cd       ~ and then pwd after each of them. In the first case, you'll be in root's       home directory, because you're root. In the second case, you'll be in your own home       directory, because you're yourself with root privileges. There's more discussion of this exact question  here  . ...&quot;</h5>
<h5>&quot;...  I noticed sudo -s doesnt seem to process /etc/profile  ...&quot;</h5>
<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su"> askubuntu.com</a></h6>
 

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Oct
    22, 2011 at 7:21</p>

    <blockquote>
      The main difference between these commands is in the way they restrict access to their
      functions.

      <p><code>su</code> <em>(which means "substitute user" or "switch user")</em> - does exactly
      that, it starts another shell instance with privileges of the target user. To ensure you have
      the rights to do that, it asks you for the password of the target user . So, to become root,
      you need to know root password. If there are several users on your machine who need to run
      commands as root, they all need to know root password - note that it'll be the same password.
      If you need to revoke admin permissions from one of the users, you need to change root
      password and tell it only to those people who need to keep access - messy.</p>

      <p><code>sudo</code> <em>(hmm... what's the mnemonic? Super-User-DO?)</em> is completely
      different. It uses a config file (/etc/sudoers) which lists which users have rights to
      specific actions (run commands as root, etc.) When invoked, it asks for the password of the
      user who started it - to ensure the person at the terminal is really the same "joe" who's
      listed in <code>/etc/sudoers</code> . To revoke admin privileges from a person, you just need
      to edit the config file (or remove the user from a group which is listed in that config).
      This results in much cleaner management of privileges.</p>

      <p>As a result of this, in many Debian-based systems <code>root</code> user has no password
      set - i.e. it's not possible to login as root directly.</p>

      <p>Also, <code>/etc/sudoers</code> allows to specify some additional options - i.e. user X is
      only able to run program Y etc.</p>

      <p>The often-used <code>sudo su</code> combination works as follows: first <code>sudo</code>
      asks you for <em>your</em> password, and, if you're allowed to do so, invokes the next
      command ( <code>su</code> ) as a super-user. Because <code>su</code> is invoked by
      <code>root</code> , it  require you to enter your password instead of root.  </p>

      <p>So,
      <code>sudo su</code> allows you to open a shell as another user (including root), if you're
      allowed super-user access by the <code>/etc/sudoers</code> file.</p>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/5252/dr-jimbob">dr jimbob</a></b>
    ,Oct 22, 2011 at 13:47</p>

    <blockquote>
      I've never seen <code>su</code> as "switch user", but always as superuser; the default
      behavior without another's user name (though it makes sense). From <a target="_blank" href=
      "http://en.wikipedia.org/wiki/Su_(Unix)">wikipedia</a> : "The su command, also referred to as super user[1] as early as 1974, 
      has also been called &quot;substitute user&quot;, &quot;spoof user&quot; or &quot;set user&quot; because it allows changing the account associated with the 
      current terminal (window).&quot;
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Oct
    22, 2011 at 20:33</p>

    <blockquote>
      @dr jimbob: you're right, but I'm finding that "switch user" is kinda describes better what
      it does - though historically it stands for "super user". I'm also delighted to find that the
      wikipedia article is very similar to my answer - I never saw the article before :)
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/219532/angel-osphere">Angel
    O'Sphere</a></b> ,Nov 26, 2013 at 13:02</p>

    <blockquote>
      <em>The official meaning of "su" is "substitute user"</em>. See: "man su". &ndash; <a target="_blank" href="https://askubuntu.com/users/219532/angel-osphere">Angel O'Sphere</a> <a target="_blank"
      href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment488262_70543">
      Nov 26 '13 at 13:02</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Nov
    26, 2013 at 20:25</p>

    <blockquote>
      @AngelO'Sphere: <em>Interestingly, Ubuntu's manpage does not mention "substitute" at all. The
      manpage at gnu.org ( <a target="_blank" href=
      "http://www.gnu.org/software/coreutils/manual/html_node/su-invocation.html">gnu.org/software/coreutils/manual/html_node/su-invocation.html</a>
      ) does indeed say "su: Run a command with substitute user and group ID".</em> I think gnu.org is a
      canonical source :) &ndash; <a target="_blank" href=
      "https://askubuntu.com/users/14564/sergey">Sergey</a> <a target="_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment488524_70543">
      Nov 26 '13 at 20:25</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/7650/mike-scott">Mike Scott</a></b>
    ,Oct 22, 2011 at 6:28</p>

    <blockquote>
      <code>sudo</code> lets you run commands in your own user account with root privileges.
      <code>su</code> lets you switch user so that you're actually logged in as root.

      <p><code><em>sudo -s</code> runs a [specified] shell with root privileges. <code>sudo -i</code> also acquires
      the root user's environment.</em></p>

      <p><em>To see the difference between su and sudo -s , do cd
      ~ and then pwd after each of them. In the first case, you'll be in root's
      home directory, because you're root. In the second case, you'll be in your own home
      directory, because you're yourself with root privileges. There's more discussion of this exact question <a target="_blank" href=
      "http://ubuntuforums.org/showpost.php?p=6188826&amp;postcount=4">here</a> .</em></p>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Oct
    22, 2011 at 7:28</p>

    <blockquote>
      "you're yourself with root privileges" is not what's actually happening :) Actually, it's not
      possible to be "yourself with root privileges" - either you're root or you're yourself. Try
      typing <b>whoami</b> in both cases. The fact that <code>cd ~</code> results are different is
      a result of sudo -s not setting $HOME environment variable. &ndash; <a target="_blank" href=
      "https://askubuntu.com/users/14564/sergey">Sergey</a> <a target="_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment80057_70536">
      Oct 22 '11 at 7:28</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/161499/octopus">Octopus</a></b> ,Feb
    6, 2015 at 22:15</p>

    <blockquote>
      @Sergey, whoami it says are 'root' because you are running the 'whoami' cmd as though you
      sudoed it, so temporarily (for the duration of that command) you appear to be the root user,
      but you might still not have full root access according to the sudoers file. &ndash;
      <a target="_blank" href="https://askubuntu.com/users/161499/octopus">Octopus</a> <a target=
      "_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment805966_70536">
      Feb 6 '15 at 22:15</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Feb 6,
    2015 at 22:24</p>

    <blockquote>
      @Octopus: what I was trying to say is that in Unix, a process can only have one UID, and that
      UID determines the permissions of the process. You can't be "yourself with root privileges",
      a program either runs with your UID or with root's UID (0). &ndash; <a target="_blank" href=
      "https://askubuntu.com/users/14564/sergey">Sergey</a> <a target="_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment805969_70536">
      Feb 6 '15 at 22:24</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a></b> ,Feb 6,
    2015 at 22:32</p>

    <blockquote>
      Regarding "you might still not have full root access according to the sudoers file": the
      <code>sudoers</code> file controls who can run which command as another user, but that happens before the command is executed. 
      However, once you were allowed to start a process as, say, root --  the running process has root's UID and has a full access to the system, there's
      no way for sudo to restrict that.
    
      <p>Again, you're always either yourself or root, there's no
      "half-n-half". So, if <code>sudoers</code> file allows you to run shell as root --  permissions
      in that shell would be indistinguishable from a "normal" root shell. &ndash; <a target=
      "_blank" href="https://askubuntu.com/users/14564/sergey">Sergey</a> <a target="_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment805973_70536">
      Feb 6 '15 at 22:32</a>
    </p>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/23087/dotancohen">dotancohen</a></b>
    ,Nov 8, 2014 at 14:07</p>

    <blockquote>
      This answer is a dupe of my answer on <a target="_blank" href=
      "https://askubuntu.com/questions/418122/what-is-the-difference-between-sudo-i-and-sudo-s">a
      dupe of this question</a> , put here on the canonical answer so that people can find it!

      <p>The major difference between <code>sudo -i</code> and <code>sudo -s</code> is:</p>

      <ul>
        <li><code>sudo -i</code> gives you the root environment, i.e. your <code>~/.bashrc</code>
        is ignored.</li>

        <li><code>sudo -s</code> gives you the user's environment, so your <code>~/.bashrc</code>
        is respected.</li>
      </ul>

      <p>Here is an example, you can see that I have an application <code>lsl</code> in my
      <code>~/.bin/</code> directory which is accessible via <code>sudo -s</code> but not
      accessible with <code>sudo -i</code> . Note also that the Bash prompt changes as will with
      <code>sudo -i</code> but not with <code>sudo -s</code> :</p>
      <pre>
dotancohen@melancholy:~$ ls .bin
lsl

dotancohen@melancholy:~$ which lsl
/home/dotancohen/.bin/lsl

dotancohen@melancholy:~$ sudo -i

root@melancholy:~# which lsl

root@melancholy:~# exit
logout

dotancohen@melancholy:~$ sudo -s
Sourced .bashrc

dotancohen@melancholy:~$ which lsl
/home/dotancohen/.bin/lsl

dotancohen@melancholy:~$ exit
exit
</pre>

      <p>Though <code>sudo -s</code> is convenient for giving you the environment that you are
      familiar with, I recommend the use of <code>sudo -i</code> for two reasons:</p>

      <ol>
        <li>The visual reminder that you are in a 'root' session.</li>

        <li>The root environment is far less likely to be poisoned with malware, such as a rogue
        line in <code>.bashrc</code> .</li>
      </ol>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/392389/meffect">meffect</a></b> ,Feb
    23, 2017 at 5:21</p>

    <blockquote>
      <em>I noticed sudo -s doesnt seem to process /etc/profile </em>, or anything I have in /etc/profile.d/
      .. any idea why? &ndash; <a target="_blank" href=
      "https://askubuntu.com/users/392389/meffect">meffect</a> <a target="_blank" href=
      "https://askubuntu.com/questions/70534/what-are-the-differences-between-su-sudo-s-sudo-i-sudo-su#comment1384001_547188">
      Feb 23 '17 at 5:21</a>
    </blockquote>

    <p><b><a target="_blank" href="https://askubuntu.com/users/136/marius-gedminas">Marius
    Gedminas</a></b> ,Oct 22, 2011 at 19:38</p>

    <blockquote>
      <code>su</code> asks for the password of the user "root".

      <p><code>sudo</code> asks for your own password (and also checks if you're allowed to run
      commands as root, which is configured through <code>/etc/sudoers</code> -- by default all
      user accounts that belong to the "admin" group are allowed to use sudo).</p>

      <p><code>sudo -s</code> launches a shell as root, but doesn't change your working directory.
      <code>sudo -i</code> simulates a login into the root account: your working directory will be
      <code>/root</code> , and root's <code>.profile</code> etc. will be sourced as if on
      login.</p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://askubuntu.com/users/354350/djcrashdummy">DJCrashdummy</a></b> ,Jul 29, 2017 at
    0:58</p>

    <blockquote>
      to make the answer more complete: <code>sudo -s</code> is almost equal to <code>su</code>
      ($HOME is different) and <code>sudo -i</code> is equal to <code>su -</code> &ndash;</blockquote>

    <blockquote>
      In Ubuntu or a related system, I don't find much use for <code>su</code> in the traditional,
      super-user sense. <code>sudo</code> handles that case much better. However, <code>su</code>
      is great for becoming another user in one-off situations where configuring sudoers would be
      silly.

      <p>For example, if I'm repairing my system from a live CD/USB, I'll often mount my hard drive
      and other necessary stuff and <code>chroot</code> into the system. In such a case, my first
      command is generally:</p>
      <pre>
su - myuser  # Note the '-'. It means to act as if that user had just logged in.
</pre>

      <p>That way, I'm operating not as root, but as my normal user, and I then use
      <code>sudo</code> as appropriate.</p>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_what_are_the_differences_between_su_sudo_s_sudo_i_sudo_su"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_how_to_invoke_login_shell_for_another_user_using_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_changing_the_timeout_value"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">How to invoke  login shell for another user using sudo</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  To invoke a login shell using  sudo  just use  -i  . When command is not specified you&#39;ll get a login     shell prompt, otherwise you&#39;ll get the output of your command. ...&quot;</h5>
<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href="https://unix.stackexchange.com/questions/176997/sudo-as-another-user-with-their-environment">unix.stackexchange.com</a></h6>
 

   <p><em>To invoke a login shell using <code>sudo</code> just use <code>-i</code> . When command is not specified you&#39;ll get a login 
   shell prompt, otherwise you&#39;ll get the output of your command.</em></p>

   <p>Example (login shell):</p>

   <pre>
sudo -i
</pre>

   <p>Example (with a specified user):</p>

   <pre>
sudo -i -u user
</pre>

   <p>Example (with a command):</p>

   <pre>
sudo -i -u user whoami
</pre>

   <p>Example (print user&#39;s <code>$HOME</code> ):</p>

   <pre>
sudo -i -u user echo \$HOME
</pre>
   <!--TAGS: . ~/Shellorama -->

<!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_how_to_invoke_login_shell_for_another_user_using_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_changing_the_timeout_value" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_bash_completion_with_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://wiki.gentoo.org/wiki/Sudo">Changing the   timeout value</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a></h6>
 

    <p>By default, sudo asks the user to identify himself using his own password. Once a password
    is entered, sudo remembers it for 5 minutes, allowing the user to focus on his tasks and not
    repeatedly re-entering his password.</p>

    <p>Of course, this behavior can be changed: you can set the <code>Defaults:</code> directive in
    /etc/sudoers to change the default behavior for a user.</p>

    <p>For instance, to change the default 5 minutes to 0 (never remember):</p>CODE Changing the
    timeout value
    <pre>
Defaults:larry  timestamp_timeout=0
</pre>

    <p>A setting of <code>-1</code> would remember the password indefinitely (until the system
    reboots).</p>

    <p>A different setting would be to require the password of the user that the command should be
    run as and not the users' personal password. This is accomplished using <code>runaspw</code> .
    In the following example we also set the number of retries (how many times the user can
    re-enter a password before sudo fails) to <code>2</code> instead of the default 3:</p>
    
 <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_changing_the_timeout_value"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_bash_completion_with_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_permission_allow_sudo_to_another_user_without_password"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://wiki.gentoo.org/wiki/Sudo">Bash completion  with sudo</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://wiki.gentoo.org/wiki/Sudo">wiki.gentoo.org</a></h6>
 

    <b>Bash completion</b>

    <p>Users that want bash completion with sudo need to run this once.</p><code>user $</code>
    <code>sudo echo "complete -cf sudo" &gt;&gt; $HOME/.bashrc</code>
 <!--TAGS: .  /sudo_tips. /sudo. /sudoer_file_examples. Commercial_linuxes/ Admin/  -->
 <!--file:///f:/Public_html/Access_control/Sudo/sudo_tips.shtml-->
<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_bash_completion_with_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_permission_allow_sudo_to_another_user_without_password" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_linux_automating_the_sudo_su_user_command"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password">permission   - allow sudo to another user without password</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password">apple.stackexchange.com</a></h6>
 

    <p><input name="_id_" type="hidden" value="82438"> <a title=
    "This question shows research effort; it is useful and clear">up vote</a> 35 <a title=
    "This question does not show any research effort; it is unclear or not useful">down vote</a>
    <a target="_blank" href=
    "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#">favorite</a>
    <b>11</b></p>
    <hr noshade align="left" width="10" size="10">

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/17487/zio">zio</a></b>
    ,Feb 17, 2013 at 13:12</p>

    <blockquote>
      I want to be able to 'su' to a specific user, allowing me to run any command without a
      password being entered.

      <p>For example:</p>

      <p>If my login were user1 and the user I want to 'su' to is user2:</p>

      <p>I would use the command:</p>

      <p><code>su - user2</code></p>

      <p>but then it prompts me with</p>

      <p><code>Password:</code></p>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/4017/global-nomad">Global
    nomad</a></b> ,Feb 17, 2013 at 13:17</p>

    <blockquote>
      Ask the other user for the password. At least the other user knows what's been done under
      his/her id. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/4017/global-nomad">Global nomad</a> <a target="_blank"
      href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95121_82438">
      Feb 17 '13 at 13:17</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/17487/zio">zio</a></b>
    ,Feb 17, 2013 at 13:24</p>

    <blockquote>
      This is nothing to do with another physical user. Both ID's are mine. I know the password as
      I created the account. I just don't want to have to type the password every time. &ndash;
      <a target="_blank" href="https://apple.stackexchange.com/users/17487/zio">zio</a> <a target=
      "_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95122_82438">
      Feb 17 '13 at 13:24</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike
    &diams;</a></b> ,Feb 17, 2013 at 15:32</p>

    <blockquote>
      Would it be ok to ssh to at user or do you need to inherit one shell in particular and need
      su to work? &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/5472/bmike">bmike &diams;</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95133_82438">
      Feb 17 '13 at 15:32</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike
    &diams;</a></b> ,Feb 17, 2013 at 23:59</p>

    <blockquote>
      @zio Great use case. Does <code>open -na Skype</code> not work for you? &ndash; <a target=
      "_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike &diams;</a> <a target=
      "_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95177_82438">
      Feb 17 '13 at 23:59</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/3936/user495470">user495470</a></b> ,Feb 18, 2013 at
    4:50</p>

    <blockquote>
      You could also try <a target="_blank" href=
      "http://superuser.com/questions/349154/run-two-notational-velocities-at-once/349157#349157">copying
      the application bundle and changing CFBundleIdentifier</a> . &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/3936/user495470">user495470</a> <a target="_blank"
      href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95187_82438">
      Feb 18 '13 at 4:50</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/34282/huygens">Huygens</a></b> ,Feb 18, 2013 at 7:39</p>

    <blockquote>
      <code>sudo</code> can do just that for you :)

      <p>It needs a bit of configuration though, but once done you would only do this:</p>
      <pre>
sudo -u user2 -s
</pre>

      <p>And you would be logged in as user2 without entering a password.</p><b>Configuration</b>

      <p>To configure sudo, you must edit its configuration file via: <code>visudo</code> . Note:
      this command will open the configuration using the <code>vi</code> text editor, if you are
      unconfortable with that, you need to set another editor (using <code>export
      EDITOR=&lt;command&gt;</code> ) before executing the following line. Another command line
      editor sometimes regarded as easier is <code>nano</code> , so you would do <code>export
      EDITOR=/usr/bin/nano</code> . You usually need super user privilege for <code>visudo</code>
      :</p>
      <pre>
sudo visudo
</pre>

      <p>This file is structured in different section, the aliases, then defaults and finally at
      the end you have the rules. This is where you need to add the new line. So you navigate at
      the end of the file and add this:</p>
      <pre>
user1    ALL=(user2) NOPASSWD: /bin/bash
</pre>

      <p>You can replace also <code>/bin/bash</code> by <code>ALL</code> and then you could launch
      any command as user2 without a password: <code>sudo -u user2 &lt;command&gt;</code>
      .</p><b>Update</b>

      <p>I have just seen your comment regarding Skype. You could consider adding Skype directly to
      the sudo's configuration file. I assume you have Skype installed in your
      <em>Applications</em> folder:</p>
      <pre>
user1    ALL=(user2) NOPASSWD: /Applications/Skype.app/Contents/MacOS/Skype
</pre>

      <p>Then you would call from the terminal:</p>
      <pre>
sudo -u user2 /Applications/Skype.app/Contents/MacOS/Skype
</pre>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike
    &diams;</a></b> ,May 28, 2014 at 16:04</p>

    <blockquote>
      This is far less complicated than the ssh keys idea, so use this unless you need the ssh keys
      for remote access as well. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/5472/bmike">bmike &diams;</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment155360_82527">
      May 28 '14 at 16:04</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/65787/stan-kurdziel">Stan
    Kurdziel</a></b> ,Oct 26, 2015 at 16:56</p>

    <blockquote>
      One thing to note from a security-perspective is that specifying a specific command implies
      that it should be a read-only command for user1; Otherwise, they can overwrite the command
      with something else and run that as user2. And if you don't care about that, then you might
      as well specify that user1 can run <i>any</i> command as user2 and therefore have a simpler
      sudo config. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/65787/stan-kurdziel">Stan Kurdziel</a> <a target=
      "_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment256960_82527">
      Oct 26 '15 at 16:56</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/34282/huygens">Huygens</a></b> ,Oct 26, 2015 at
    19:24</p>

    <blockquote>
      @StanKurdziel good point! Although it is something to be aware of, it's really seldom to have
      system executables writable by users unless you're root but in this case you don't need sudo
      ;-) But you're right to add this comment because it's so seldom that I've probably overlooked
      it more than one time. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/34282/huygens">Huygens</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment256981_82527">
      Oct 26 '15 at 19:24</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/196731/gert-van-den-berg">Gert van den Berg</a></b> ,Aug
    10, 2016 at 14:24</p>

    <blockquote>
      To get it nearer to the behaviour <code>su - user2</code> instead of <code>su user2</code> ,
      the commands should probably all involve <code>sudo -u user2 -i</code> , in order to simulate
      an initial login as user2 &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/196731/gert-van-den-berg">Gert van den Berg</a>
      <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment308665_82527">
      Aug 10 '16 at 14:24</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike</a></b>
    ,Feb 18, 2013 at 0:05</p>

    <blockquote>
      I would set up public/private ssh keys for the second account and store the key in the first
      account.

      <ul>
        <li><a target="_blank" href=
        "https://apple.stackexchange.com/questions/21959/associating-ssh-public-key-with-user-account">
        Associating ssh public key with user account</a></li>
      </ul>

      <p>Then you could run a command like:</p>
      <pre>
 ssh user@localhost -n /Applications/Skype.app/Contents/MacOS/Skype &amp;
</pre>

      <p>You'd still have the issues where Skype gets confused since two instances are running on
      one user account and files read/written by that program might conflict. It also might work
      well enough for your needs and you'd not need an iPod touch to run your second Skype
      instance.</p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/2841/calum-b">calum_b</a></b> ,Feb 18, 2013 at 9:54</p>

    <blockquote>
      This is a good secure solution for the general case of password-free login to any account on
      any host, but I'd say it's probably overkill when both accounts are on the same host and
      belong to the same user. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/2841/calum-b">calum_b</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95194_82496">
      Feb 18 '13 at 9:54</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike
    &diams;</a></b> ,Feb 18, 2013 at 14:02</p>

    <blockquote>
      @scottishwildcat It's far more secure than the alternative of scripting the password and
      feeding it in clear text or using a variable and storing the password in the keychain and
      using a tool like <code>expect</code> to script the interaction. I just use <code>sudo su -
      blah</code> and type my password. I think the other answer covers sudo well enough to keep
      this as a comment. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/5472/bmike">bmike &diams;</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95224_82496">
      Feb 18 '13 at 14:02</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/2841/calum-b">calum_b</a></b> ,Feb 18, 2013 at 17:47</p>

    <blockquote>
      Oh, I certainly wasn't suggesting your answer should be removed I didn't even down-vote, it's
      a perfectly good answer. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/2841/calum-b">calum_b</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95253_82496">
      Feb 18 '13 at 17:47</a>
    </blockquote>

    <p><b><a target="_blank" href="https://apple.stackexchange.com/users/5472/bmike">bmike
    &diams;</a></b> ,Feb 18, 2013 at 18:46</p>

    <blockquote>
      We appear to be in total agreement - thanks for the addition - feel free to edit it into the
      answer if you can improve on it. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/5472/bmike">bmike &diams;</a> <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment95258_82496">
      Feb 18 '13 at 18:46</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://apple.stackexchange.com/users/196731/gert-van-den-berg">Gert van den Berg</a></b> ,Aug
    10, 2016 at 14:20</p>

    <blockquote>
      The accepted solution ( <code>sudo -u user2 &lt;...&gt;</code> ) does have the advantage that
      it can't be used remotely, which might help for security - there is no private key for user1
      that can be stolen. &ndash; <a target="_blank" href=
      "https://apple.stackexchange.com/users/196731/gert-van-den-berg">Gert van den Berg</a>
      <a target="_blank" href=
      "https://apple.stackexchange.com/questions/82438/allow-sudo-to-another-user-without-password#comment308663_82496">
      Aug 10 '16 at 14:20</a>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_permission_allow_sudo_to_another_user_without_password"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_linux_automating_the_sudo_su_user_command" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_sudo_what_does_all_all_all_all_mean_in_sudoers"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://superuser.com/questions/243499/automating-the-sudo-su-user-command">linux - Automating   the sudo su - user command</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://superuser.com/questions/243499/automating-the-sudo-su-user-command">superuser.com</a></h6>
 

    <p>5 <a title=
    "This question does not show any research effort; it is unclear or not useful">down vote</a>
    <a target="_blank" href=
    "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#">favorite</a></p>
    <hr noshade align="left" width="10" size="10">

    <p><b><a target="_blank" href="https://superuser.com/users/66764/sam">sam</a></b> ,Feb 9, 2011
    at 11:11</p>

    <blockquote>
      I want to automate
      <pre>
sudo su - user
</pre>

      <p>from a script. It should then ask for a password.</p>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/1686/grawity">grawity</a></b> ,Feb
    9, 2011 at 12:07</p>

    <blockquote>
      Don't <code>sudo su - user</code> , use <code>sudo -iu user</code> instead. (Easier to manage
      through <code>sudoers</code> , by the way.) &ndash; <a target="_blank" href=
      "https://superuser.com/users/1686/grawity">grawity</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251103_243499">
      Feb 9 '11 at 12:07</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/36565/hello71">Hello71</a></b> ,Feb
    10, 2011 at 1:33</p>

    <blockquote>
      How are you able to run <code>sudo su</code> without being able to run <code>sudo
      visudo</code> ? &ndash; <a target="_blank" href=
      "https://superuser.com/users/36565/hello71">Hello71</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251439_243499">
      Feb 10 '11 at 1:33</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/61342/torian">Torian</a></b> ,Feb 9,
    2011 at 11:37</p>

    <blockquote>
      I will try and guess what you asked.

      <p>If you want to use <code>sudo su - user</code> without a password, you should (if you have
      the privileges) do the following on you sudoers file:</p>
      <pre>
&lt;youuser&gt;  ALL = NOPASSWD: /bin/su - &lt;otheruser&gt;
</pre>

      <p>where:</p>

      <ul>
        <li><code>&lt;yourusername&gt;</code> is you username :D (saumun89, i.e.)</li>

        <li><code>&lt;otheruser&gt;</code> is the user you want to change to</li>
      </ul>

      <p>Then put into the script:</p>
      <pre>
sudo /bin/su - &lt;otheruser&gt;
</pre>

      <p>Doing just this, won't get subsequent commands get run by <code>&lt;otheruser&gt;</code> ,
      it will spawn a new shell. If you want to run another command from within the script as this
      other user, you should use something like:</p>
      <pre>
 sudo -u &lt;otheruser&gt; &lt;command&gt;
</pre>

      <p>And in sudoers file:</p>
      <pre>
&lt;yourusername&gt;  ALL = (&lt;otheruser&gt;) NOPASSWD: &lt;command&gt;
</pre>

      <p>Obviously, a more generic line like:</p>
      <pre>
&lt;yourusername&gt; ALL = (ALL) NOPASSWD: ALL
</pre>

      <p>Will get things done, but would grant the permission to do anything as anyone.</p>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/66764/sam">sam</a></b> ,Feb 9, 2011
    at 11:43</p>

    <blockquote>
      when the sudo su - user command gets executed,it asks for a password. i want a solution in
      which script automaticaaly reads password from somewhere. i dont have permission to do what u
      told earlier. &ndash; <a target="_blank" href="https://superuser.com/users/66764/sam">sam</a>
      <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251093_243510">
      Feb 9 '11 at 11:43</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/66764/sam">sam</a></b> ,Feb 9, 2011
    at 11:47</p>

    <blockquote>
      i have the permission to store password in a file. the script should read password from that
      file &ndash; <a target="_blank" href="https://superuser.com/users/66764/sam">sam</a>
      <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251096_243510">
      Feb 9 '11 at 11:47</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/28292/olli">Olli</a></b> ,Feb 9,
    2011 at 12:46</p>

    <blockquote>
      You can use command
      <pre>
 echo "your_password" | sudo -S [rest of your parameters for sudo]
</pre>

      <p>(Of course without [ and ])</p>

      <p>Please note that you should protect your script from read access from unauthorized users.
      If you want to read password from separate file, you can use</p>
      <pre>
  sudo -S [rest of your parameters for sudo] &lt; /etc/sudo_password_file
</pre>

      <p>(Or whatever is the name of password file, containing password and single line break.)</p>

      <p>From sudo man page:</p>
      <pre>
   -S          The -S (stdin) option causes sudo to read the password from
               the standard input instead of the terminal device.  The
               password must be followed by a newline character.
</pre>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://superuser.com/users/156076/alexandruc">AlexandruC</a></b> ,Dec 6, 2014 at 8:10</p>

    <blockquote>
      This actually works for me. &ndash; <a target="_blank" href=
      "https://superuser.com/users/156076/alexandruc">AlexandruC</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment1120773_243537">
      Dec 6 '14 at 8:10</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/69138/oscar-foley">Oscar
    Foley</a></b> ,Feb 8, 2016 at 16:36</p>

    <blockquote>
      This is brilliant &ndash; <a target="_blank" href=
      "https://superuser.com/users/69138/oscar-foley">Oscar Foley</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment1448722_243537">
      Feb 8 '16 at 16:36</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/15334/mikel">Mikel</a></b> ,Feb 9,
    2011 at 11:26</p>

    <blockquote>
      The easiest way is to make it so that user doesn't have to type a password at all.

      <p>You can do that by running <code>visudo</code> , then changing the line that looks
      like:</p>
      <pre>
someuser  ALL=(ALL) ALL
</pre>

      <p>to</p>
      <pre>
someuser  ALL=(ALL) NOPASSWD: ALL
</pre>

      <p>However if it's just for one script, it would be more secure to restrict passwordless
      access to only that script, and remove the <code>(ALL)</code> , so they can only run it as
      root, not any user , e.g.</p>
      <pre>
Cmnd_Alias THESCRIPT = /usr/local/bin/scriptname

someuser  ALL=NOPASSWD: THESCRIPT
</pre>

      <p>Run <code>man 5 sudoers</code> to see all the details in the <a target="_blank" href=
      "http://www.sudo.ws/sudo/sudoers.man.html">sudoers man page</a> .</p>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/66764/sam">sam</a></b> ,Feb 9, 2011
    at 11:34</p>

    <blockquote>
      i do not have permission to edit sudoers file.. any other so that it should read password
      from somewhere so that automation of this can be done. &ndash; <a target="_blank" href=
      "https://superuser.com/users/66764/sam">sam</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251088_243503">
      Feb 9 '11 at 11:34</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/61342/torian">Torian</a></b> ,Feb 9,
    2011 at 11:40</p>

    <blockquote>
      you are out of luck ... you could do this with, lets say <code>expect</code> but that would
      let the password for your user hardcoded somewhere, where people could see it (granted that
      you setup permissions the right way, it could still be read by root). &ndash; <a target=
      "_blank" href="https://superuser.com/users/61342/torian">Torian</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251091_243503">
      Feb 9 '11 at 11:40</a>
    </blockquote>

    <p><b><a target="_blank" href="https://superuser.com/users/15334/mikel">Mikel</a></b> ,Feb 9,
    2011 at 11:40</p>

    <blockquote>
      Try using <code>expect</code> . <code>man expect</code> for details. &ndash; <a target=
      "_blank" href="https://superuser.com/users/15334/mikel">Mikel</a> <a target="_blank" href=
      "https://superuser.com/questions/243499/automating-the-sudo-su-user-command#comment251092_243503">
      Feb 9 '11 at 11:40</a>
    </blockquote>

    <p><b>&gt;</b> ,</p>

    <blockquote>
      when the sudo su - user command gets executed,it asks for a password. i want a solution in
      which script automaticaaly reads password from somewhere. i dont have permission to edit
      sudoers file.i have the permission to store password in a file.the script should read
      password from that file &ndash; <a target="_blank" href=
      "https://superuser.com/users/66764/sam">sam</a>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_linux_automating_the_sudo_su_user_command"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_sudo_what_does_all_all_all_all_mean_in_sudoers" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20180620X_sudo_what_is_all_all_sudosudo_for"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers">sudo   - What does ALL ALL=(ALL) ALL mean in sudoers</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers">unix.stackexchange.com</a></h6>
 

    <p><input name="_id_" type="hidden" value="201858"> <a title=
    "This question shows research effort; it is useful and clear">up vote</a> 6 <a title=
    "This question does not show any research effort; it is unclear or not useful">down vote</a>
    <a target="_blank" href=
    "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#">favorite</a>
    <b>3</b></p>
    <hr noshade align="left" width="10" size="10">

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/112826/loukiosvalentine79">LoukiosValentine79</a></b>
    ,May 6, 2015 at 19:29</p>

    <blockquote>
      If a server has the following in /etc/sudoers:
      <pre>
Defaults targetpw
ALL ALL=(ALL) ALL
</pre>

      <p>Then what does this mean? all the users can sudo to all the commands, only their password
      is needed?</p>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/111878/lcd047">lcd047</a></b> ,May 6, 2015 at 20:51</p>

    <blockquote>
      It means "security Nirvana", that's what it means. ;) &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/111878/lcd047">lcd047</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#comment339590_201858">
      May 6 '15 at 20:51</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/22794/poz2k4444">poz2k4444</a></b> ,May 6, 2015 at
    20:19</p>

    <blockquote>
      From the <code>sudoers(5)</code> man page:

      <blockquote>
        <p>The sudoers policy plugin determines a user's sudo privileges.</p>
      </blockquote>

      <p>For the targetpw:</p>

      <blockquote>
        <p>sudo will prompt for the password of the user specified by the -u option (defaults to
        root) instead of the password of the invoking user when running a command or editing a
        file.</p>
      </blockquote>

      <p><code>sudo(8)</code> allows you to execute commands as someone else</p>

      <p>So, basically it says that any user can run any command on any host as any user and yes,
      the user just has to authenticate, but with the password of the other user, in order to run
      anything.</p>
      <pre>
The first ALL is the users allowed
The second one is the hosts
The third one is the user as you are running the command
The last one is the commands allowed
</pre>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/112826/loukiosvalentine79">LoukiosValentine79</a></b>
    ,May 7, 2015 at 16:37</p>

    <blockquote>
      Thanks! In the meantime I found the "Defaults targetpw" entry in sudoers.. updated the Q
      &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/112826/loukiosvalentine79">LoukiosValentine79</a>
      <a target="_blank" href=
      "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#comment339973_201866">
      May 7 '15 at 16:37</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/22794/poz2k4444">poz2k4444</a></b> ,May 7, 2015 at
    18:24</p>

    <blockquote>
      @LoukiosValentine79 I just update the answer, does that answer your question? &ndash;
      <a target="_blank" href="https://unix.stackexchange.com/users/22794/poz2k4444">poz2k4444</a>
      <a target="_blank" href=
      "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#comment340031_201866">
      May 7 '15 at 18:24</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/95613/evan54">evan54</a></b> ,Feb 28, 2016 at 20:24</p>

    <blockquote>
      wait he has to enter his own password not of the other user right? &ndash; <a target="_blank" href="https://unix.stackexchange.com/users/95613/evan54">evan54</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#comment461054_201866">
      Feb 28 '16 at 20:24</a>
    </blockquote>

    <p><b><a target="_blank" href=
    "https://unix.stackexchange.com/users/29867/x-yuri">x-yuri</a></b> ,May 19, 2017 at 12:20</p>

    <blockquote>
      with <code>targetpw</code> the one of the other (target) user &ndash; <a target="_blank" href="https://unix.stackexchange.com/users/29867/x-yuri">x-yuri</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/201858/what-does-all-all-all-all-mean-in-sudoers#comment650094_201866">
      May 19 '17 at 12:20</a>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_sudo_what_does_all_all_all_all_mean_in_sudoers"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20180620X_sudo_what_is_all_all_sudosudo_for" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20171120X_sudoers_community_help_wiki"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jun 20, 2018] <a target="_blank" href="https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for">sudo - What is ALL   ALL=!SUDOSUDO for</a></h4>

<blockquote>
<h6>Jun 20, 2018 |  <a target="_blank" href= "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for">unix.stackexchange.com</a></h6>
 
    <hr noshade align="left" width="10" size="10">

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/18526/gasko-peter">gasko
    peter</a></b> ,Dec 6, 2012 at 12:50</p>

    <blockquote>
      The last line of the /etc/sudoers file is:
      <pre>
grep -i sudosudo /etc/sudoers
Cmnd_Alias SUDOSUDO = /usr/bin/sudo
ALL ALL=!SUDOSUDO
</pre>

      <p>why? What does it exactly do?</p>

      <p>UPDATE#1: Now I know that it prevents users to use the: "/usr/bin/sudo".</p>

      <p>UPDATE#2: not allowing "root ALL=(ALL) ALL" is not a solution.</p>

      <p>Updated Question: What is better besides this "SUDOSUDO"? (the problem with this that the
      sudo binary could be copied..)</p>
    </blockquote>

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/10762/chris-down">Chris
    Down</a></b> ,Dec 6, 2012 at 12:53</p>

    <blockquote>
      <code>SUDOSUDO</code> is probably an alias. Does it exist elsewhere in the file? &ndash;
      <a target="_blank" href="https://unix.stackexchange.com/users/10762/chris-down">Chris
      Down</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for#comment79631_57738">
      Dec 6 '12 at 12:53</a>
    </blockquote>

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/18526/gasko-peter">gasko
    peter</a></b> ,Dec 6, 2012 at 14:21</p>

    <blockquote>
      question updated :D - so what does it means exactly? &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/18526/gasko-peter">gasko peter</a> <a target="_blank"
      href=
      "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for#comment79642_57738">
      Dec 6 '12 at 14:21</a>
    </blockquote>

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/18526/gasko-peter">gasko
    peter</a></b> ,Dec 6, 2012 at 14:30</p>

    <blockquote>
      is "ALL ALL=!SUDOSUDO" as the last line is like when having DROP iptables POLICY and still
      using a -j DROP rule as last rule in ex.: INPUT chain? :D or does it has real effects?
      &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/18526/gasko-peter">gasko peter</a> <a target="_blank"
      href=
      "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for#comment79644_57738">
      Dec 6 '12 at 14:30</a>
    </blockquote>

    <p><b><a target="_blank" href="https://unix.stackexchange.com/users/11750/kevin">Kevin</a></b>
    ,Dec 6, 2012 at 14:48</p>

    <blockquote>
      I'm not 100% sure, but I believe it only prevents anyone from running <code>sudo sudo
      ...</code> . &ndash; <a target="_blank" href=
      "https://unix.stackexchange.com/users/11750/kevin">Kevin</a> <a target="_blank" href=
      "https://unix.stackexchange.com/questions/57738/what-is-all-all-sudosudo-for#comment79646_57738">
      Dec 6 '12 at 14:48</a>
    </blockquote>
 <!--TAGS: . ~/Scripting -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
<!--file:///f:/Public_html/Scripting/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20180620X_sudo_what_is_all_all_sudosudo_for"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20171120X_sudoers_community_help_wiki" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20171119X_understanding_sudoers_syntax"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 20, 2017] <a target="_blank" href="https://help.ubuntu.com/community/Sudoers">Sudoers -   Community Help Wiki</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  The special command '"sudoedit"' allows users to run sudo with the  -e  flag or as     the command  sudoedit  . If you include command line arguments in a command in an alias     these must exactly match what the user enters on the command line. If you include any of the     following they will need to be escaped with a backslash (\): ",", "\", ":", "=". ...&quot;</h5>
<blockquote>
<h6>Nov 09, 2017 |  <a target="_blank" href= "https://help.ubuntu.com/community/Sudoers">help.ubuntu.com</a></h6>
 
 

    <p><b>... ... ...</b> </p>

    <p><b>Aliases</b></p>

    <p>There are four kinds of aliases: User_Alias, Runas_Alias, Host_Alias and Cmnd_Alias. Each
    alias definition is of the form:</p>

    <ul>
      <li>Alias_Type NAME = item1, item2, ...</li>
    </ul>

    <p>Where Alias_Type is one of User_Alias, Runas_Alias, Host_Alias or Cmnd_Alias. A name is a
    string of uppercase letters, numbers and underscores starting with an uppercase letter. You can
    put several aliases of the same type on one line by separating them with colons (:) as so:</p>

    <ul>
      <li>Alias_Type NAME1 = item1, item2 : NAME2 = item3</li>
    </ul>

    <p>You can include other aliases in an alias specification provided they would normally fit
    there. For example you can use a user alias wherever you would normally expect to see a list of
    users (for example in a user or runas alias).</p>

    <p>There are also built in aliases called ALL which match everything where they are used. If
    you used ALL in place of a user list it matches all users for example. If you try and set an
    alias of ALL it will be overridden by this built in alias so don't even try.</p><b>User
    Aliases</b>

    <p>User aliases are used to specify groups of users. You can specify usernames, system groups
    (prefixed by a %) and netgroups (prefixed by a +) as follows:</p>
    <pre>
 # Everybody in the system group "admin" is covered by the alias ADMINS
 User_Alias ADMINS = %admin
 # The users "tom", "dick", and "harry" are covered by the USERS alias
 User_Alias USERS = tom, dick, harry
 # The users "tom" and "mary" are in the WEBMASTERS alias
 User_Alias WEBMASTERS = tom, mary
 # You can also use ! to exclude users from an alias
 # This matches anybody in the USERS alias who isn't in WEBMASTERS or ADMINS aliases
 User_Alias LIMITED_USERS = USERS, !WEBMASTERS, !ADMINS
</pre><b>Runas Aliases</b>

    <p>Runas Aliases are almost the same as user aliases but you are allowed to specify users by
    uid's. This is helpful as usernames and groups are matched as strings so two users with the
    same uid but different usernames will not be matched by entering a single username but can be
    matched with a uid. For example:</p>
    <pre>
 # UID 0 is normally used for root
 # Note the hash (#) on the following line indicates a uid, not a comment.
 Runas_Alias ROOT = #0
 # This is for all the admin users similar to the User_Alias of ADMINS set earlier 
 # with the addition of "root"
 Runas_Alias ADMINS = %admin, root</pre><b>Host Aliases</b>

    <p>A host alias is a list of hostname, ip addresses, networks and netgroups (prefixed with a
    +). If you do not specify a netmask with a network the netmask of the hosts ethernet
    interface(s) will be used when matching.</p>
    <pre>
 # This is all the servers
 Host_Alias SERVERS = 192.168.0.1, 192.168.0.2, server1
 # This is the whole network
 Host_Alias NETWORK = 192.168.0.0/255.255.255.0
 # And this is every machine in the network that is not a server
 Host_Alias WORKSTATIONS = NETWORK, !SERVER
 # This could have been done in one step with 
 # Host_Alias WORKSTATIONS = 192.168.0.0/255.255.255.0, !SERVERS
 # but I think this method is clearer.</pre><b>Command Aliases</b>

    <p>Command aliases are lists of commands and directories. You can use this to specify a group
    of commands. If you specify a directory it will include any file within that directory but not
    in any subdirectories.</p>

    <p><em>The special command '"sudoedit"' allows users to run sudo with the <tt>-e</tt> flag or as
    the command <tt>sudoedit</tt> . If you include command line arguments in a command in an alias
    these must exactly match what the user enters on the command line. If you include any of the
    following they will need to be escaped with a backslash (\): ",", "\", ":", "=".</em></p>

    <p>Examples:</p>
    <pre>
 # All the shutdown commands
 Cmnd_Alias SHUTDOWN_CMDS = /sbin/poweroff, /sbin/reboot, /sbin/halt
 # Printing commands
 Cmnd_Alias PRINTING_CMDS = /usr/sbin/lpc, /usr/sbin/lprm
 # Admin commands
 Cmnd_Alias ADMIN_CMDS = /usr/sbin/passwd, /usr/sbin/useradd, /usr/sbin/userdel, /usr/sbin/usermod, /usr/sbin/visudo
 # Web commands
 Cmnd_Alias WEB_CMDS = /etc/init.d/apache2
</pre><b>User Specifications</b>

    <p>User Specifications are where the sudoers file sets who can run what as who. It is the key
    part of the file and all the aliases have just been set up for this very point. If this was a
    film this part is where all the key threads of the story come together in the glorious
    unveiling before the final climatic ending. Basically it is important and without this you
    ain't going anywhere.</p>

    <p>A user specification is in the format</p>
    <pre>
&lt;user list&gt; &lt;host list&gt; = &lt;operator list&gt; &lt;tag list&gt; &lt;command list&gt;</pre>

    <p>The user list is a list of users or a user alias that has already been set, the host list is
    a list of hosts or a host alias, the operator list is a list of users they must be running as
    or a runas alias and the command list is a list of commands or a cmnd alias.</p>

    <p>The tag list has not been covered yet and allows you set special things for each command.
    You can use PASSWD and NOPASSWD to specify whether the user has to enter a password or not and
    you can also use NOEXEC to prevent any programs launching shells themselves (as once a program
    is running with sudo it has full root privileges so could launch a root shell to circumvent any
    restrictions in the sudoers file.</p>

    <p>For example (using the aliases and users from earlier)</p>
    <pre>
 # This lets the webmasters run all the web commands on the machine 
 # "webserver" provided they give a password
 WEBMASTERS webserver= WEB_CMDS</pre>

<pre>
 # This lets the admins run all the admin commands on the servers
 ADMINS SERVERS= ADMIN_CMDS</pre>

<pre>
 # This lets all the USERS run admin commands on the workstations provided 
 # they give the root password or and admin password (using "sudo -u &lt;username&gt;")
 USERS WORKSTATIONS=(ADMINS) ADMIN_CMDS</pre>

<pre>
 # This lets "harry" shutdown his own machine without a password
 harry harrys-machine= NOPASSWD: SHUTDOWN_CMDS</pre>

<pre>
 # And this lets everybody print without requiring a password
 ALL ALL=(ALL) NOPASSWD: PRINTING_CMDS</pre><b>The Default Ubuntu Sudoers File</b>

    <p>The sudoers file that ships with Ubuntu 8.04 by default is included here so if you break
    everything you can restore it if needed and also to highlight some key things.</p>
    <pre>
# /etc/sudoers
#
# This file MUST be edited with the 'visudo' command as root.
#
# See the man page for details on how to write a sudoers file.
#

Defaults    env_reset

# Uncomment to allow members of group sudo to not need a password
# %sudo ALL=NOPASSWD: ALL

# Host alias specification

# User alias specification

# Cmnd alias specification

# User privilege specification
root    ALL=(ALL) ALL

# Members of the admin group may gain root privileges
%admin ALL=(ALL) ALL
</pre>

    <p>This is pretty much empty and only has three rules in it. The first ( <tt>Defaults
    env_reset</tt> ) resets the terminal environment after switching to root. So, ie: all user set
    variables are removed. The second ( <tt>root ALL=(ALL) ALL</tt> ) just lets root do everything
    on any machine as any user. And the third ( <tt>%admin ALL=(ALL) ALL</tt> ) lets anybody in the
    admin group run anything as any user. Note that they will still require a password (thus giving
    you the normal behaviour you are so used to).</p>

    <p>If you want to add your own specifications and you are a member of the admin group then you
    will need to add them after this line. Otherwise all your changes will be overridden by this
    line saying you (as part of the admin group) can do anything on any machine as any user
    provided you give a password.</p><b>Common Tasks</b>

    <p>This section includes some common tasks and how to accomplish them using the sudoers
    file.</p><b>Shutting Down From The Console Without A Password</b>

    <p>Often people want to be able to shut their computers down without requiring a password to do
    so. This is particularly useful in media PCs where you want to be able to use the shutdown
    command in the media centre to shutdown the whole computer.</p>

    <p>To do this you need to add some cmnd aliases as follows:</p>
    <pre>
Cmnd_Alias SHUTDOWN_CMDS = /sbin/poweroff, /sbin/halt, /sbin/reboot</pre>

    <p>You also need to add a user specification (at the end of the file after the " <tt>%admin ALL
    = (ALL) ALL</tt> " line so it takes effect - see above for details):</p>
    <pre>
&lt;your username&gt; ALL=(ALL) NOPASSWD: SHUTDOWN_CMDS</pre>

    <p>Obviously you need to replace "&lt;your username&gt;" with the username of the user who
    needs to be able to shutdown the pc without a password. You can use a user alias here as
    normal.</p><b>Multiple tags on a line</b>

    <p>There are times where you need to have both NOPASSWD and NOEXEC or other tags on the same
    configuration line. The man page for sudoers is less than clear, so here is an example of how
    this is done:</p>
    <pre>
myuser ALL = (root) NOPASSWD:NOEXEC: /usr/bin/vim</pre>

    <p>This example lets the user "myuser" run as root the "vim" binary without a password, and
    without letting vim shell out (the :shell command).</p><b>Enabling Visual Feedback when Typing
    Passwords</b>

    <p>As of Ubuntu 10.04 (Lucid), you can enable visual feedback when you are typing a password at
    a sudo prompt.</p>

    <p>Simply edit <tt>/etc/sudoers</tt> and change the <em>Defaults</em> line to read:</p>
    <pre>
Defaults        env_reset,pwfeedback
</pre><b>Troubleshooting</b>

    <p>If your changes don't seem to have had any effect, check that they are not trying to use
    aliases that are not defined yet and that no other user specifications later in the file are
    overriding what you are trying to accomplish. </p>

<p> </p>
  <!--TAGS: .  -->

<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20171120X_sudoers_community_help_wiki"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20171119X_understanding_sudoers_syntax" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20171111X_example_of_the_sudoers_file"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 19, 2017] <a target="_blank" href="http://toroid.org/sudoers-syntax">Understanding   sudoers syntax</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  A command may also be the full path to a directory (including a trailing /). This permits     execution of all the files in that directory, but not in any subdirectories. ...&quot;</h5>
<h5>&quot;...  The keyword sudoedit is also recognised as a command name, and arguments can be specified as     with other commands. Use this instead of allowing a particular editor to be run with sudo,     because it runs the editor as the user and only installs the editor's output file into place as     root (or other target user). ...&quot;</h5>
<blockquote>
<h6>Nov 09, 2017 |  <a target="_blank" href= "http://toroid.org/sudoers-syntax">toroid.org</a></h6>
 
 

    <p><b>User specifications</b></p>

    <p>The /etc/sudoers file contains "user specifications" that define the commands that users may
    execute. When sudo is invoked, these specifications are checked in order, and the last match is
    used. A user specification looks like this at its most basic:</p>
    <pre>
User Host = (Runas) Command</pre>

    <p>Read this as "User may run Command as the Runas user on Host".</p>

    <p>Any or all of the above may be the special keyword ALL, which always matches.</p>

    <p>User and Runas may be usernames, group names prefixed with %, numeric UIDs prefixed with #,
    or numeric GIDs prefixed with %#. Host may be a hostname, IP address, or a whole network (e.g.,
    192.0.2.0/24), but not 127.0.0.1.</p><b>Runas</b>

    <p>This optional clause controls the target user (and group) sudo will run the Command as, or
    in other words, which combinations of the -u and -g arguments it will accept.</p>

    <p>If the clause is omitted, the user will be permitted to run commands only as root. If you
    specify a username, e.g., (postgres), sudo will accept "-u postgres" and run commands as that
    user. In both cases, sudo will not accept -g.</p>

    <p>If you also specify a target group, e.g., (postgres:postgres), sudo will accept any
    combination of the listed users and groups (see the section on aliases below). If you specify
    only a target group, e.g., (:postgres), sudo will accept and act on "-g postgres" but run
    commands only as the invoking user.</p>

    <p>This is why you sometimes see (ALL:ALL) in the 90% of examples.</p><b>Commands</b>

    <p>In the simplest case, a command is the full path to an executable, which permits it to be
    executed with any arguments. You may specify a list of arguments after the path to permit the
    command only with those exact arguments, or write "" to permit execution only without any
    arguments.</p>

    <p><em>A command may also be the full path to a directory (including a trailing /). This permits
    execution of all the files in that directory, but not in any subdirectories.</em></p>
    <pre>
ams ALL=/bin/ls, /bin/df -h /, /bin/date "", \
        /usr/bin/, sudoedit /etc/hosts, \
        OTHER_COMMANDS</pre>

    <p><em>The keyword sudoedit is also recognised as a command name, and arguments can be specified as
    with other commands. Use this instead of allowing a particular editor to be run with sudo,
    because it runs the editor as the user and only installs the editor's output file into place as
    root (or other target user).</em></p>

    <p>As shown above, comma-separated lists of commands and aliases may be specified. Commands may
    also use shell wildcards either in the path or in the argument list (but see the warning below
    about the latter).</p>

    <p>Sudo is very flexible, and it's tempting to set up very fine-grained access, but it can be
    difficult to understand the consequences of a complex setup, and you can end up with <a target=
    "_blank" href="http://rant.gulbrandsen.priv.no/linux/ubuntu-privilege-escalation">unexpected
    problems</a> . Try to keep things simple.</p><b>Options</b>

    <p>Before the command, you can specify zero or more options to control how it will be executed.
    The most important options are NOPASSWD (to not require a password) and SETENV (to allow the
    user to set environment variables for the command).</p>
    <pre>
ams ALL=(ALL) NOPASSWD: SETENV: /bin/ls
</pre>

    <p>Other available options include NOEXEC, LOG_INPUT and LOG_OUTPUT, and SELinux role and type
    specifications. These are all documented in the manpage.</p><b>Digests</b>

    <p>The path to a binary (i.e., not a directory or alias) may also be prefixed with a
    digest:</p>
    <pre>
ams ALL=(ALL) sha224:IkotndXGTmZtH5ZNFtRfIwkG0WuiuOs7GoZ+6g== /bin/ls</pre>

    <p>The specified binary will then be executed only if it matches the digest. SHA-2 digests of
    224, 256, 384, and 512-bits are accepted in hex or Base64 format. The values can be generated
    using, e.g., sha512sum or openssl.</p><b>Aliases</b>

    <p>In addition to the things listed above, a User, Host, Runas, or Command may be an alias,
    which is a named list of comma-separated values of the corresponding type. An alias may be used
    wherever a User, Host, Runas, or Command may occur. They are always named in uppercase, and can
    be defined as shown in these examples:</p>
    <pre>
# Type_Alias NAME = a, b : NAME_2 = c, d,  

User_Alias TRUSTED = %admin, !ams
Runas_Alias LEGACYUSERS = oldapp1, oldapp2
Runas_Alias APPUSERS = app1, app2, LEGACYUSERS
Host_Alias PRODUCTION = www1, www2, \
    192.0.2.1/24, !192.0.2.222
Cmnd_Alias DBA = /usr/pgsql-9.4/bin, \
    /usr/local/bin/pgadmin</pre>

    <p>An alias definition can also include another alias of the same type (e.g., LEGACYUSERS
    above). You cannot include options like NOPASSWD: in command aliases.</p>

    <p>Any term in a list may be prefixed with ! to negate it. This can be used to include a group
    but exclude a certain user, or to exclude certain addresses in a network, and so on. Negation
    can also be used in command lists, but note the manpage's warning that trying to "subtract"
    commands from ALL using ! is <q>generally not effective</q> .</p>

    <p>Use aliases whenever you need rules involving multiple users, hosts, or
    commands.</p><b>Default options</b>

    <p>Sudo has a number of options whose values may be set in the configuration file, overriding
    the defaults either unconditionally, or only for a given user, host, or command. The defaults
    are sensible, so you do not need to care about options unless you're doing something
    special.</p>

    <p>Option values are specified in one or more "Defaults" lines. The example below switches on
    env_reset, turns off insults (read !insults as "not insults"), sets password_tries to 4, and so
    on. All the values are set unconditionally, i.e. they apply to every user specification.</p>
    <pre>
Defaults env_reset, !insults, password_tries=4, \
    lecture=always
Defaults passprompt="Password for %p:"</pre>

    <p>Options may also be set only for specific hosts, users, or commands, as shown below.
    Defaults@host sets options for a host, Defaults:user for a (requesting) user, Defaults!command
    for a command, and Defaults&gt;user for a target user. You can also use aliases in these
    definitions.</p>
    <pre>
Defaults@localhost insults
Defaults:ams insults, !lecture
Defaults&gt;root mail_always, mailto="foo@example.org"

Cmnd_Alias FOO = /usr/bin/foo, /usr/bin/bar, \
    /usr/local/bin/baz
Defaults!FOO always_set_home</pre>

    <p>Unconditional defaults are parsed first, followed by host and user defaults, then runas
    defaults, then command defaults.</p>

    <p>The <em>many</em> available options are explained well in the
    manpage.</p><b>Complications</b>

    <p>In addition to the alias mechanism, a User, Host, Runas, or Command may each <em>be</em> a
    comma-separated list of things of the corresponding type. Also, a user specification may
    contain multiple host and command sets for a single User. Please be sparing in your use of this
    syntax, in case you ever have to make sense of it again.</p>

    <p>Users and hosts can also be a +netgroup or other more esoteric things, depending on plugins.
    Host names may also use shell wildcards (see the fqdn option).</p>

    <p>If Runas is omitted but the () are not, sudo will reject -u and -g and run commands only as
    the invoking user.</p>

    <p>You can use wildcards in command paths and in arguments, but their meaning is different. In
    a path, a * will not match a /, so /usr/bin/* will match /usr/bin/who but not
    /usr/bin/X11/xterm. In arguments, a * <em>does</em> match /; also, arguments are matched as a
    single string (not a list of separate words), so * can match across words. The manpage includes
    the following problematic example, which permits additional arguments to be passed to /bin/cat
    without restriction:</p>
    <pre>
%operator ALL = /bin/cat /var/log/messages*</pre>

    <p><b>Warning</b> : Sudo will not work if /etc/sudoers contains syntax errors, so you should
    only ever edit it using visudo, which performs basic sanity checks, and installs the new file
    only if it parses correctly.</p>

    <p>Another warning: if you take the EBNF in the manpage seriously enough, you will discover
    that the implementation doesn't follow it. You can avoid this sad fate by linking to this
    article instead of trying to write your own. Happy sudoing!</p>
  <!--TAGS: .  -->

<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20171119X_understanding_sudoers_syntax"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20171111X_example_of_the_sudoers_file" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20171110X_make_sudo_work_harder"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 11, 2017] <a target="_blank" href="https://support.symantec.com/en_US/article.HOWTO83956.html">Example of the sudoers file</a></h4>

<blockquote>
<h6>Nov 09, 2017 |  <a target="_blank" href= "https://support.symantec.com/en_US/article.HOWTO83956.html">support.symantec.com</a></h6>
 
 

    <p><b>Example of the sudoers file</b></p>

    <p>This is an example of the contents of the <code>sudoers</code> file is located in the
    <code>/etc</code> directory of the UNIX target computer. This example contains sample
    configurations required to use the sudo functionality as mentioned in the section <i>Using sudo
    functionality for querying Oracle UNIX targets</i> .</p>

    <pre># User alias specification</pre>

    <pre>##</pre>

    <pre>User_Alias UNIX_USERS = unix1, unix2, unix3</pre>

    <pre>User_Alias BV_CONTROL_USERS = bvunix1, bvunix2, bvunix3</pre>

    <pre>##</pre>

    <pre># Runas alias specification</pre>

    <pre>Defaults:UNIX_USERS !authenticate</pre>

    <pre>Defaults:BV_CONTROL_USERS !authenticate</pre>

    <pre>##</pre>

    <pre>Runas_Alias SUPER_USERS = root</pre>

    <pre>Defaults logfile=/var/log/sudolog</pre>

    <pre>##</pre>

    <pre># Cmnd alias specification</pre>

    <pre>##</pre>

    <pre>Cmnd_Alias APPLICATIONS = /usr/sbin/named</pre>

    <pre>Cmnd_Alias AIX_ADMINCMDS = /usr/sbin/lsps, /usr/sbin/lsattr</pre>

    <pre>Cmnd_Alias ADMINCMDS = /usr/sbin/prtconf, /sbin/runlevel, ulimit, AIX_ADMINCMDS,</pre>

    <pre>Cmnd_Alias NETWORKCMDS = /sbin/ifconfig, /usr/local/bin/nslookup, inetadm -p</pre>

    <pre>Cmnd_Alias FILECMDS = /bin/cat, /bin/date '+%Z', /usr/bin/strings -n, \</pre>

    <pre>   /usr/bin/diff, /usr/bin/cmp, /usr/bin/find, \</pre>

    <pre>   /bin/echo, /usr/bin/file, /bin/df -P, \</pre>

    <pre>   /usr/bin/cksum, /bin/ls -la, /bin/ls -lad, \</pre>

    <pre>   /bin/ls -lac, /bin/ls -lau</pre>

    <pre>#Cmnd_Alias COMMONCMDS = /usr/bin, /bin, /usr/local/bin</pre>

    <pre>Cmnd_Alias SU = /usr/bin/su</pre>

    <pre>Cmnd_Alias SYSADMCMD = /usr/lib/sendmail</pre>

    <pre>Cmnd_Alias ACTIVEADMCMDS = /usr/sbin/adduser</pre>

    <pre>UNIX_USERS ALL = (SUPER_USERS) APPLICATIONS, NETWORKCMDS, ADMINCMDS, FILECMDS, !SU, !ACTIVEADMCMDS, !SYSADMCMD, NOPASSWD: ALL</pre>

    <pre>BV_CONTROL_USERS ALL = NOPASSWD: ALL</pre>

    <p>See <a target="_blank" href=
    "https://support.symantec.com/en_US/article.HOWTO83951.html#v83565825">Using sudo functionality
    for querying Oracle UNIX targets</a> .</p>

    <p>See <a target="_blank" href=
    "https://support.symantec.com/en_US/article.HOWTO83954.html#v83565871">Disabling password
    prompt in the sudoers file</a> .</p>

    <p>See <a target="_blank" href=
    "https://support.symantec.com/en_US/article.HOWTO83943.html#v77844220">Minimum required
    privileges to query an Oracle database</a> .</p>
  <!--TAGS: .  -->

<!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20171111X_example_of_the_sudoers_file"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20171110X_make_sudo_work_harder" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20171109X_add_an_netgroup_in_sudoers_instead_a_group"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 10, 2017] <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/">Make sudo work harder</a></h4>

<h5>Notable quotes:</h5>
<h5>&quot;...  timestamp_timeout ...&quot;</h5>
<blockquote>
<h6><a target="_blank" href="http://www.linux.com/article.pl?sid=06/12/01/1756257">www.linux.com</a></h6>
 
   <b><i>Also at <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/">www.ibm.com/developerworks</a></i></b><p><b>Managing sudoers</b>
   </p>

   <p>Over time, your sudoers file will grow with more and more entries, which is to be expected. This could be because more application 
   environments are being placed on the server, or because of splitting the delegation of currents tasks down further to segregate responsibility. 
   With many entries, typos can occur, which is common. Making the sudoers file more manageable by the root user makes good administrative 
   sense. Let&#39;s look at two ways this can be achieved, or at least a good standard to build on. If you have many static entries (meaning 
   the same command is run on every machine where sudo is), put these into a separate sudoers file, which can be achieved using the
   <em>include</em> directive.</p>

   <p>Having many entries for individual users can also be time consuming when adding or amending entries. With many user entries, it 
   is good practice to put these into groups. Using groups, you can literally group users together, and the groups are valid AIX groups.</p>

   <p>Now look at these two methods more closely.</p>
   <b>Include file</b>

   <p>Within large-enterprise environments, keeping the sudoers file maintained is an important and regularly required task. A solution 
   to make this chore easier is to reorganize the sudoers file. One way to do this is to extract entries that are static or reusable, 
   where the same commands are run on every box. Like audit/security or storix backups or general performance reports, with sudo you 
   can now use the include directive. The main sudoers file can then contain the local entries, and the include file would barely need 
   editing as those entries are static. When visudo is invoked, it will scan sudoers when it sees the include entry. It will scan that 
   file, then come back to the main sudoers and carry on scanning. In reality, it works like this. When you exit out of visudo from 
   the main sudoers file, it will take you to the include file for editing. Once you quit the include, you are back to the AIX prompt. 
   You can have more than one include file, but I cannot think of a reason why you would want more than one.</p>

   <p>Let&#39;s call our secondary sudoers file sudo_static.&lt;hostname&gt;. In the examples in this demonstration the hostname I am using is 
   rs6000. In the main sudoers file, make the entry as follows:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>#include /etc/sudo_static.rs6000</code></td>
      </tr>
   </table>

   <p>Next, add some entries to the /etc/sudo_static.rs6000 file. You do not have to put in all the sudoers directives or stanzas. If 
   this file contains entries where they are not required, don&#39;t include them. For example, my include file contains only the following 
   text, and nothing more.</p>
   You can use the %h, instead of typing the actual hostname:

   <p>I personally do not use this method because I have experienced returning extra characters on the hostname. This issue is fixed 
   in sudo 1.7.2 p1.</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3 4</td>
         <td><code>bravo rs6000 = (root) NOPASSWD: /usr/opt/db2_08_01/adm/db2licd -end</code> <code>bravo rs6000 = (root) NOPASSWD: 
         /usr/opt/db2_08_01/adm/db2licd</code> <code>bravo rs6000 = (db2inst) NOPASSWD: /home/db2inst/sqllib/adm/db2start</code>
         <code>bravo rs6000 = (db2inst) NOPASSWD: /home/db2inst/sqllib/adm/db2stop force</code></td>
      </tr>
   </table>

   <p>When you run visudo, and you save and quit the file, visudo will inform you to click Enter to edit the include sudoers file. Once 
   you have edited the file, sudo will pick up on syntax errors if any, as with the main file. Alternatively, to edit the include file 
   directly, use:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>visudo -f /etc/sudo_static.rs6000</code></td>
      </tr>
   </table>

   <b>Using groups</b>

   <p>Users belonging to a valid AIX group can be included in sudoers, making the sudoers file more manageable with fewer entries per 
   user. When reorganizing the sudoers entries to include groups, you may have to create a new groups under AIX to include users that 
   are only allowed to use sudo for certain commands. To use groups, simply prefix the entries with a &#39;%&#39;. Assume you have groups called
   <em>devops</em> and <em>devuat</em> , and with those groups you have the following users:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3 4 5 6 7 8</td>
         <td><code># lsgroup -f -a users devops</code> <code>devops:</code> <code>users=joex,delta,charlie,tstgn</code> <code># lsgroup 
         -f -a users devuat</code> <code>devuat:</code> <code>users=zebra,spsys,charlie</code></td>
      </tr>
   </table>

   <p>For the group <em>devops</em> to be allowed to run the /usr/local/bin/data_ext.sh command as dbdftst.</p>

   <p>For the group <em>devuat</em> to be allowed to run the commands :/usr/local/bin/data_mvup.sh, /usr/local/bin/data_rep.sh as dbukuat.</p>

   <p>We could have the following sudoers entries:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3</td>
         <td><code>%devops rs6000 = (dbdftst) NOPASSWD: /usr/local/bin/data_ext.sh</code> <code>%devuat rs6000 = (dbukuat) /usr/local/bin/data_mvup.sh</code>
         <code>%devuat rs6000 = (dbukuat) /usr/local/bin/data_rep.sh</code></td>
      </tr>
   </table>

   <p>Notice in the previous entries, the group <em>devops</em> users will not be prompted for their password when executing /usr/local/bin/data_ext.sh; 
   however, the group <em>devuat</em> users will be prompted for their password. User &quot;charlie&quot; is a member of both groups ( <em>devops</em> 
   and <em>devuat</em> ), so he can execute all the above commands.</p>
   <b>Timeout with sudo</b>

   <p>Sudo has a feature that uses time tickets to determine how long since the last sudo command was run. During this time period, 
   the user can re-run the command without being prompted for the password (that&#39;s the user&#39;s own password). Once this time allotment 
   has ended, the user is prompted for the password again to re-run the command. If the user gives the correct password, the command 
   is executed, the ticket is then re-set, and the time clock starts all over again. The ticket feature will not work if you have NOPASSWD 
   in the user&#39;s entry in sudoers. The default timeout is five minutes. If you wish to change the default value, simply put an entry 
   in sudoers. For example, to set the timeout value for user &quot;bravo&quot; on any commands he runs to 20 minutes, you could use:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>Defaults:bravo timestamp_timeout=20</code></td>
      </tr>
   </table>

   <p>To destroy the ticket, as the user, use:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>$ sudo -k</code></td>
      </tr>
   </table>

   <p>When the ticket is destroyed, the user will be prompted for his password again, when running a sudo command.</p>

   <p>Please do not set the timeout value for all users, as this will cause problems, especially when running jobs in batch and the 
   batch takes longer to run than normal. To disable this feature, use the value -1 in the <em>timestamp_timeout</em> variable. The 
   time tickets are directory entries with the name of the user located in /var/run/sudo.</p>
   <b>Those variables</b>

   <p>As discussed earlier, sudo will strip out potentially dangerous system variables. To check out what variables are kept and which 
   ones are stripped, use sudo -V . The output will give you a listing of preserved and stripped variables. Stripping out the LIBPATH 
   is clearly an inconvenience. There are a couple of ways around this--either write a wrapper script or specify the environments on 
   the command line. Looking at the wrapper script solution first, suppose you have an application that stops or starts a DB2® instance. 
   You could create a bare-bones script that would keep the variables intact. In
   <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/#listing1">Listing 1. rc.db2</a> , notice that you 
   source the instance profile, which in turn exports various LIBPATH and DB2 environment variables, keeping the environment variable 
   intact, by using:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>. /home/$inst/sqllib/db2profile</code></td>
      </tr>
   </table>

   <p>For completeness, the entries in sudoers to execute this is and not strip out any system environment variables are:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3 4</td>
         <td><code>bravo rs6000 = (dbinst4) NOPASSWD: /home/dbinst4/sqllib/adm/db2start</code> <code>bravo rs6000 = (dbinst4) NOPASSWD: 
         /home/dbinst4/sqllib/adm/db2stop force</code> <code>bravo rs6000 = (dbinst4) NOPASSWD: /usr/local/bin/rc.db2 stop db2inst4</code>
         <code>bravo rs6000 = (dbinst4) NOPASSWD: /usr/local/bin/rc.db2 start db2inst4</code></td>
      </tr>
   </table>

   <p>Note in this example, user &quot;bravo&quot; can execute the above commands as user &quot;dbinst4.&quot; Typically, the user would run:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2</td>
         <td><code>sudo -u dbinst4 /usr/local/bin/rc.db2 stop db2inst4</code> <code>sudo -u dbinst4 /usr/local/bin/rc.db2 start db2inst4</code></td>
      </tr>
   </table>

   <h5>Listing 1. rc.db2</h5>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 
         44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79</td>
         <td><code>#!/bin/sh</code> <code># rc.db2</code> <code># stop/start db2 instances</code> <code># check to see if db2 inst is 
         runningdb2_running(){state=`ps -ef |grep db2sysc</code> <code>|grep -v grep| awk &#39;$1==&quot;&#39;${inst}&#39;&quot; { print $1 }&#39;`</code>
         <code>if [ &quot;$state&quot; = &quot;&quot; ]</code> <code>then</code> <code>return 1</code> <code>else</code> <code>return 0</code> <code>fi}</code>
         <code>usage ()</code> <code>{</code> <code>echo &quot;`basename $0` start | stop &lt;instance&gt;&quot;</code> <code>}</code> <code># stop 
         db2</code> <code>stop_db2 ()</code> <code>{</code> <code>echo &quot;stopping db2 instance as user $inst&quot;</code> <code>if [ -f /home/$inst/sqllib/db2profile 
         ]; then</code> <code>. /home/$inst/sqllib/db2profile</code> <code>else</code> <code>echo &quot;Cannot source DB2..exiting&quot;</code>
         <code>exit 1</code> <code>fi</code> <code>/home/$inst/sqllib/adm/db2stop force</code> <code>}</code> <code># start db2</code>
         <code>start_db2 ()</code> <code>{</code> <code>echo &quot;starting db2 instance as user $inst&quot;</code> <code>if [ -f /home/$inst/sqllib/db2profile 
         ]; then</code> <code>. /home/$inst/sqllib/db2profile</code> <code>else</code> <code>echo &quot;Cannot source DB2..exiting&quot;</code>
         <code>exit 1</code> <code>fi</code> <code>/home/$inst/sqllib/adm/db2start</code> <code>}</code> <code># check we get 2 params</code>
         <code>if [ $# != 2 ]</code> <code>then</code> <code>usage</code> <code>exit 1</code> <code>fi</code> <code>inst=$2</code>
         <code>case &quot;$1&quot; in</code> <code>Start|start)</code> <code>if db2_running</code> <code>then</code> <code>echo &quot;db2 instance 
         $inst appears to be already running&quot;</code> <code>exit 0</code> <code>else</code> <code>echo &quot; instance not running as user 
         $inst..attempting to start it&quot;</code> <code>start_db2 $inst</code> <code>fi</code> <code>;;</code> <code>Stop|stop)</code>
         <code>if db2_running</code> <code>then</code> <code>echo &quot;instance running as $inst..attempting to stop it&quot;</code> <code>stop_db2 
         $inst</code> <code>else</code> <code>echo &quot;db2 instance $inst appears to be not running anyway&quot;</code> <code>exit 0</code>
         <code>fi</code> <code>;;</code> <code>*) usage</code> <code>;;</code> <code>esac</code></td>
      </tr>
   </table>

   <p>The other way to preserve system environment variables is to use the Defaults !env_reset directive, like in sudoers:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>Defaults !env_reset</code></td>
      </tr>
   </table>

   <p>Then from the command line, specify the environment variable name with its value:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>$ sudo LIBPATH=&#8243;/usr/lib:/opt/db2_09_05/lib64&#8243; -u delta /usr/local/bin/datapmp</code></td>
      </tr>
   </table>

   <p>If you do not put the !env_reset entry in, you will get the following error from sudo when you try to run the command:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>sudo: sorry, you are not allowed to set the following environment variables: LIBPATH</code></td>
      </tr>
   </table>

   <p>If you find that sudo is also stripping out other environment variables, you can specify the variable name in sudoers so that 
   sudo keeps those variables intact (with the Defaults env_keep += directive). For instance, suppose sudo was stripping out the application 
   variables DSTAGE_SUP and DSTAGE_META from one of my suodo-ised scripts. To preserve these variables, I could put the following entries 
   in sudoers:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2</td>
         <td><code>Defaults env_keep += &quot;DSTAGE_SUP&quot;</code> <code>Defaults env_keep += &quot;DSTAGE_META&quot;</code></td>
      </tr>
   </table>

   <p>Notice that I give the variable name and not the variable value. The values are already contained in my script like this:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>export DSTAGE_SUP=/opt/dstage/dsengine; export DSTAGE_META=/opt/dstage/db2</code></td>
      </tr>
   </table>

   <p>Now when the sudo script is executed, the above environment variables are preserved.</p>
   <b>Securing the sudo path</b>

   <p>A default PATH within sudoers can be imposed using the secure_path directive. This directive specifies where to look for binaries 
   and commands when a user executes a sudo command. This option clearly tries to lock down specific areas where a user runs a sudo 
   command, which is good practice. Use the following directive in sudoers, specifying the secure PATH with its search directories:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>Defaults secure_path=&quot;/usr/local/sbin:/usr/local/bin:/opt/freeware/bin:/usr/sbin&quot;</code></td>
      </tr>
   </table>

   <b>Getting restrictive</b>

   <p>Restrictions can be put in place to restrict certain commands to users. Assume you have a group called <em>dataex</em> , whose 
   members are &quot;alpha,&quot; &quot;bravo,&quot; and &quot;charlie.&quot; Now, that group has been allowed to run the sudo command /usr/local/bin/mis_ext * , 
   where the asterisk represents the many parameters passed to the script. However, user &quot;charlie&quot; is not allowed to execute that script 
   if the parameter is import . This type of condition can be met by using the logical NOT &#39;!&#39; operator. Here is how that is achieved 
   in sudoers:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2</td>
         <td><code>%dataex rs6000 = (dbmis) NOPASSWD: /usr/local/bin/mis_ext *</code> <code>charlie rs6000 = (dbmis) NOPASSWD: !/usr/local/bin/mis_ext 
         import</code></td>
      </tr>
   </table>

   <p>Note that the logical NOT operator entries go after the non-restrictive entry. Many conditional NOT entries can be applied on 
   the same line; just make sure that they are comma separated, like so:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2 3 4</td>
         <td><code>charlie rs6000 = (dbmis) NOPASSWD: /usr/local/bin/aut_pmp *</code> <code>charlie rs6000 = (dbmis) NOPASSWD: !/usr/local/bin/aut_pmp 
         create,</code> <code>!/usr/local/bin/aut_pmp delete, !/usr/local/bin/aut_pmp amend</code></td>
      </tr>
   </table>

   When in visudo, do not think just saving the sudo entry and staying in visudo will make the changes effective; it won&#39;t. You must 
   exit visudo for the changes to take effect. <b>Rolling out sudo commands</b>

   <p>Rolling out sudo commands to remote hosts in an enterprise environment is best done using a ssh script as root, and the keys should 
   have been exchanged between the hosts, for password-less logins. Let&#39;s look at one example of how to do this. With geographically 
   remote machines, if you get a hardware issue of some sort (disk or memory), the IBM® engineer will be on-site to replace the failing 
   hardware. There will be occasions when they require the root password to carry out their task. One procedure you might want to put 
   in place is for the engineer to gain access to root they must use sudo. Informing the engineer prior to the visit of the password 
   would be advantageous. <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/#listing2">Listing 2</a> demonstrates 
   one way you could roll out this configuration. Looking more closely at
   <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/#listing2">Listing 2</a> , use a for loop containing 
   a list of hosts you are pushing out to. (Generally, though, you would have these hosts in a text file and read them in using a while 
   loop.) Using the &#39;here&#39; document method, make a backup copy of sudoers, and an entry is then appended to sudoers, like so:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1 2</td>
         <td><code># -- ibmeng sudo root</code> <code>ibmeng host1 = (root) NOPASSWD:ALL</code></td>
      </tr>
   </table>

   <p>Next, the user &quot;ibmeng&quot; is created, and the password is set for the user using chpasswd . In this demonstration, it is <em>ibmpw</em> 
   . A message is then appended to their profile, informing the user how to sudo to root. So when the engineer logs in, he is presented 
   with the message:</p>

   <table border="0" cellspacing="0" cellpadding="0">
      <tr>
         <td>1</td>
         <td><code>IBM Engineer, to access root account type: sudo -u root su -</code></td>
      </tr>
   </table>

   <p>Of course the account for <em>ibmeng</em> would be locked after the visit.</p>

   <h5>Listing 2. dis_ibm</h5>
   <blockquote>

      <h6>Nov 09, 2017 | <a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/">www.ibm.com</a></h6>

      <table border="0" cellspacing="0" cellpadding="0">
         <tr>
            <td>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35</td>
            <td><code>#!/bin/sh</code> <code># dis_ibm</code> <code>dest_hosts=&#39;host1 host2 host3 host4&#39;</code> <code>for host in $dest_hosts</code>
            <code>do</code> <code>echo &quot;doing [$host]&quot;</code> <code>$ssh -T -t -l root $host&lt;&lt;&#39;mayday&#39;</code> <code>host=`hostname`</code>
            <code>cp /etc/sudoers /etc/sudoers.bak</code> <code>if [ $? != 0 ]</code> <code>then</code> <code>echo &quot;error: unable to 
            cp sudoers file&quot;</code> <code>exit 1</code> <code>fi</code> <code>echo &quot;# -- ibmeng sudo root\nibmeng $host = (root) NOPASSWD:ALL&quot;&gt;&gt;/etc/sudoers</code>
            <code>mkuser su=false ibmeng</code> <code>if [ $? = 0 ]</code> <code>then</code> <code>echo &quot;ibmeng:ibmpw&quot; | chpasswd -c</code>
            <code>else</code> <code>echo &quot;error: unable to create user ibmeng and or passwd&quot;</code> <code>exit 1</code> <code>fi</code>
            <code>chuser gecos=&#39;IBM engineer acc&#39; ibmeng</code> <code>if [ -f /home/ibmeng/.profile ]</code> <code>then</code> <code>
            echo &quot;echo \&quot;IBM Engineer, to access root account type: sudo -u root su -&quot;\&quot;</code> <code>&gt;&gt;/home/ibmeng/.profile</code>
            <code>fi</code> <code>mayday</code> <code>done</code></td>
         </tr>
      </table>

      <b>Conclusion</b>

      <p>Sudo allows you to control who can run what commands as whom. But you must be able to understand the features of sudoers fully 
      to gain maximum understanding of its implications and responsibility.</p>
      <hr><b>Downloadable resources</b>
      <ul>

         <li><a target="_blank" href="https://www.ibm.com/developerworks/aix/library/au-sudo/au-sudo-pdf.pdf">PDF of this content</a></li>
      </ul>
      <hr><b>Related topics</b>
      <ul>

         <li>Learn more about and download <a target="_blank" href="http://www.courtesan.com/sudo/">sudo</a> .</li>

         <li>Download <a target="_blank" href="http://www.ibm.com/developerworks/downloads/">IBM product evaluation versions</a> and 
         get your hands on application development tools and middleware products from DB2®, Lotus®, Rational®, Tivoli®, and WebSphere®.</li>
      </ul>
   </blockquote>
   
           <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>


</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20171110X_make_sudo_work_harder"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20171109X_add_an_netgroup_in_sudoers_instead_a_group" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20120522X_take_control_of_your_linux_sudoers_file_how_to_with_examples"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Nov 09, 2017] <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/">Add  an netgroup in sudoers instead a group</a></h4>

<blockquote>
<h6>Nov 09, 2017 |  <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/">hd.free.fr</a></h6>
 

   <p><b>5 thoughts on &quot;sudo command &amp; sudoers file : Concepts and Practical examples&quot;</b></p>
   <ol>

      <li>Pingback: <a target="_blank" href="https://sxhow.wordpress.com/2017/04/07/sudo/">sudo | Site Title</a></li>

      <li> <cite>Andres Ferreo</cite>
      <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/#comment-31709">
      July 16, 2014 at 21:18</a>

      <p>I&#39;ll like to add an netgroup in sudoers instead a group. That is possible? How should I do this setup</p>

      <p>Thanks.</p>
 <ol>

         <li> <cite>Pier Post author</cite>
         <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/#comment-31821">
         July 17, 2014 at 22:50</a>

         <p>In order to use a <code>netgroup</code> in the sudoers file, you just need to explicitly define it as a <code>netgroup</code> 
         by using the &quot; <code>+</code> &quot; sign (instead of a &quot; <code>%</code> &quot; sign that would be used for a system group).</p>

         <p>You will need to include this netgroup inside a <code>User_Alias</code> (you may want to create a new <code>User_Alias</code> 
         for this purpose)</p>

         <p>Please check the &quot; 3.1.2 User_Alias &quot; section for more infos, and feel free to ask for more detailed explanation.</p>

         <p>Hope this helps.</p>

         <p>Pier.</p>
         </li>
      </ol>
      </li>

      <li> <cite>Matthew</cite>
      <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/#comment-19413">
      February 14, 2014 at 15:43</a>

      <p>Great info, just diving into the world of this, and was trying to figure out how to limit a login to run a cache clearing command</p>

      <p>user ALL=NOPASSWD: rm -rf /usr/nginx/cache/*</p>

      <p>but i got a syntax error</p>
 <ol>

         <li> <cite><a target="_blank" href="http://cavepopo.hd.free.fr/wordpress">Pier</a> Post author</cite>
         <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/#comment-19414">
         February 17, 2014 at 07:22</a>

         <p>Hi,</p>

         <p>Looks like you forgot the following part of the command specs :<br>
         <code>3. (ALL) : This is the part that specify which user(s) you may act as.</code></p>

         <p>Check the
         <a target="_blank" href="http://cavepopo.hd.free.fr/wordpress/linux/sudo-command-sudoers-file-concepts-and-practical-examples/#21_First_step_in">
         2.1 Section</a> of the current page, you may want to have something like :<br>
         <code>user ALL=(ALL) NOPASSWD: /sbin/rm -rf /usr/nginx/cache/*</code></p>

         <p>Always use the full path for any given command : This will prevent you from using a bad aliased command.</p>
         </li>
      </ol>
      </li>
   </ol>
   
           <!--TAGS: .  -->
 <!--file:///f:/Public_html/Access_control/sudo.shtml-->
<!--file:///f:/Public_html/Access_control/Sudo/sudoer_file_examples.shtml-->
<!--file:///f:/Public_html/Commercial_linuxes/index.shtml-->
<!--file:///f:/Public_html/Admin/index.shtml-->
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20171109X_add_an_netgroup_in_sudoers_instead_a_group"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20120522X_take_control_of_your_linux_sudoers_file_how_to_with_examples" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20110217X_sudoers_file"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[May 22, 2012] <a target="_blank" href="http://www.garron.me/en/linux/visudo-command-sudoers-file-sudo-default-editor.html">
Take Control of your Linux sudoers file How to with Examples</a></h4>

<blockquote>
	<h6>Written by <a target="_blank" href="http://www.garron.me/en/about.html">Guillermo Garron</a> 
	.</h6>
	<h6>Date: 2012-05-22 14:56:30 +0000</h6>

	<p>... ... .... </p>

	<p>In order to use <code>sudo</code> you first need to configure the sudoers 
	file. The sudoers file is located at <code>/etc/sudoers</code>. And you should 
	not edit it directly, you need to use the <code>visudo</code> command.</p>

	<p>Once you enter <code>visudo</code> command, you will see something like this:</p>

	<pre><code># /etc/sudoers
#
# This file MUST be edited with the &#39;visudo&#39; command as root.
#
# See the man page for details on how to write a sudoers file.
#

Defaults        env_reset

# Host alias specification

# User alias specification

# Cmnd alias specification

# User privilege specification
root    ALL=(ALL) ALL</code></pre>

	<p>Almost all lines are commented out, the one that matters in this sudoers 
	file example is:</p>

	<pre><code>root ALL=(ALL) ALL</code></pre>

	<p>This line means: The root user can execute from <em>ALL</em> terminals, acting 
	as <em>ALL</em> (any) users, and run <em>ALL</em> (any) command.</p>

	<p>The first part is the user, the second is the terminal from where the user 
	can use <code>sudo</code> command, the third part is which users he may act 
	as, and the last one, is which commands he may run when using <code>sudo</code>.</p>

	<p><b>sudoers examples</b></p>

	<pre><code>operator ALL= /sbin/poweroff</code></pre>

	<p>The above command, makes the user operator can from any terminal, run the 
	command power off.</p>

	<p>You can also create aliases for: users -&gt; User_Alias, run commands as other 
	users -&gt; Runas_Alias, host -&gt; Host_Alias and command -&gt; Cmnd_Alias</p>

	<pre><code>User_Alias OPERATORS = joe, mike, jude </code></pre>

	<pre><code>Runas_Alias OP = root, operator </code></pre>

	<pre><code>Host_Alias OFNET = 10.1.2.0/255.255.255.0 </code></pre>

	<pre><code>Cmnd_Alias PRINTING = /usr/sbin/lpc, /usr/bin/lprm</code></pre>

	<p>As you can see the alias OPERATORS includes the users joe, mike and jude, 
	the alias OP includes the users root and operator, alias OFNET includes the 
	network 10.1.2.0 (all the C class), and the command alias PRINTING includes 
	the commands lpc and lprm.</p>

	<p>So, a typical sudoers file may look like this:</p>

	<pre><code> User_Alias     OPERATORS = joe, mike, jude
 Runas_Alias    OP = root, operator
 Host_Alias     OFNET = 10.1.2.0/255.255.255.0
 Cmnd_Alias     PRINTING = /usr/sbin/lpc, /usr/bin/lprm

OPERATORS ALL=ALL

#The users in the OPERATORS group can run any command from
 any terminal.

linus ALL=(OP) ALL

# The user linus can run any command from any terminal as any 
user in the OP group (root or operator).

user2 OFNET=(ALL) ALL

# user user2 may run any command from any machine in the 
OFNET network, as any user.

user3 ALL= PRINTING

# user user3 may run lpc and lprm from any machine.

go2linux ALL=(ALL) ALL

# user go2linux may run any command from any machine acting
 as any user. (like Ubuntu)</code></pre>

	<p>If you want not to be asked for a password use this form:</p>

	<pre><code>go2linux ALL=(ALL) NOPASSWD: ALL</code></pre>

</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20120522X_take_control_of_your_linux_sudoers_file_how_to_with_examples"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20110217X_sudoers_file" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20091017X_make_sudo_work_harder"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Feb 17, 2011]
<a target="_blank" href="http://forums11.itrc.hp.com/service/forums/questionanswer.do?threadId=1465150">
Sudoers file</a></h4>

<blockquote>
	<h6>Jan 21, 2011 |
	<a target="_blank" href="http://forums11.itrc.hp.com/service/forums/questionanswer.do?threadId=1465150">
	IT Resource Center forums</a></h6>

	<p><b>ozas (Question Author )</b></p>

	<blockquote>

		<p>Hi, </p>

		<p>Please just a quick one. Does any one know how I can restrict users from 
		being able to switch to root in sudoers file?? Presently the users are defined 
		in the sudoers file and could switch to another user without password but 
		I do not want them to be able to switch to root. </p>

		<p>Note: If you are the author of this question and wish to assign points 
		to any of the answers, please login first.For more information on assigning 
		points ,click here </p>
	</blockquote>

	<p><b>Patrick Wallek </b></p>

	<blockquote>

		<p>:Use a command alias like this: </p>

		<pre>Cmnd_Alias SU=!/usr/bin/su -, !/usr/bin/su *root* </pre>

		<p>Add this to each user and they should not be able to su to root. </p>
	</blockquote>

	<p><b>ozas ( Question Author )</b></p>

	<blockquote>
		I have tried that before it did not work. See below my sudoers file, maybe 
		I need to change anything.

		<p>This is the sudoers file: </p>

		<pre>
# User_Alias 
User_Alias WAS = g343ahe,m017ahe,y073ahe 
User_Alias SUPPORT = d060ahe,h070ahe,s029ahe  
#User privilege specification
root ALL=(ALL) ALL SUPPORT ALL=(ALL) ALL
SUPPORT ALL=(ALL) NOPASSWD: ALL WAS 
ALL=(ALL) NOPASSWD: ALL </pre>

        <pre>
WAS ALL=/usr/bin/su - wasdevadmin,/bin/su - wasdevadmin  
</pre>

		<p>What I want is that the users in WAS should not be able to switch to root, 
		but they should be able to switch to user &quot;wasdevadmin&quot;. Only users in SUPPORT 
		should be able to switch to root. </p>
	</blockquote>

	<p><b>Jeff Traigle:</b></p>

	<blockquote>

		<p>&gt; WAS ALL=(ALL) NOPASSWD: ALL <br>
		&gt; WAS ALL=/usr/bin/su - wasdevadmin,/bin/su 
		- wasdevadmin </p>

		<p>The first line is saying to allow the WAS users to run any command on 
		any host as any user. The second line is redundantly saying to allow WAS 
		users to run the su commands specified on all hosts as root. You don&#39;t have 
		anything restricting them from running su to root as a previous post stated 
		to do. </p>
	</blockquote>

	<p><b>Patrick Wallek:</b></p>

	<blockquote>
		What about the following:

		<p>WAS ALL=!/usr/bin/su -, !/usr/bin/su *root*, /usr/bin/su - wasdevadmin,/bin/su 
		- wasdevadmin </p>

		<p>You also have 2 lines for WAS. I don&#39;t remember which will take priority, 
		but the 2 may be conflicting. </p>

		<p>What happens if you comment out the first WAS line? </p>
	</blockquote>

	<p><b>ofure:</b></p>

	<blockquote>
		Thanks for your prompt reply. This has partly resolved the issue. At least 
		users in WAS cannot su to root again but now the WAS cannot switch to wasdevadmin 
		user.<p>I want a situation where they can switch to wasdevadmin without been 
		prompted for a password. </p>
	</blockquote>

	<p><b>Matti Kurkela:</b></p>

	<blockquote>

		<p>&gt; I want a situation where they [= the users in sudo group WAS] can switch 
		to wasdevadmin without been prompted for a password. </p>

		<p>You need this line in your sudoers file: </p>

		<p>WAS ALL=(wasdevadmin) NOPASSWD: ALL </p>

		<p>Then tell your users to use the sudo command like this: </p>

		<p>sudo -H -u wasdevadmin -i (to run a shell as wasdevadmin; equivalent 
		to &quot;sudo su - wasdevadmin&quot;) </p>

		<p>...or like this: </p>

		<p>sudo -H -u wasdevadmin &lt;command&gt; (to run &lt;command&gt; as wasdevadmin and 
		then continue the session as themselves) </p>

		<p>MK </p>
	</blockquote>

	<p><b>ofure:</b></p>

	<blockquote>

		<p>Below is how my sudoers file now look: </p>

		<p>User_Alias WAS = g343ahe,m017ahe,y073ahe,y072ahe,h234ahe,r019ahe </p>

		<p>User_Alias SUPPORT = d060ahe,h070ahe,s029ahe #User privilege specification 
		root ALL=(ALL) ALL SUPPORT ALL=(ALL) ALL SUPPORT ALL=(ALL) NOPASSWD: ALL 
		WAS ALL=!/usr/bin/su -, !/usr/bin/su *root*, /usr/bin/su - wasdevadmin,/bin/su 
		- wasdevadmin WAS ALL=(wasdevadmin) NOPASSWD: ALL </p>

		<p>But the users in WAS still cannot switch to wasdevadmin account. I want 
		the users in WAS to be able to do this without prompting for password. Thanks. 
		Regards. </p>
	</blockquote>

	<p><b>INH :</b></p>

	<blockquote>

		<p>Remove the user name you dont wantthem to do sudo to root in sudoers 
		file </p>

		<p>if you have to grant specfic access you can grant in sudoers file for 
		required users. by defining user alias, command alias and host alias for 
		those users </p>
	</blockquote>

	<p><b>ofure:</b></p>

	<blockquote>
		;The challenge I have now is that I want the users in WAS to be able to 
		switch to the account wasdevadmin without prompting for password. I have 
		tried this below but did not work.

		<p>WAS ALL=(wasdevadmin) NOPASSWD: ALL </p>

		<p>Regards, </p>

		<p>Matti Kurkela Jan 24, 2011 15:49:55 GMT Unassigned </p>

		<p>&gt; WAS ALL=(wasdevadmin) NOPASSWD: ALL </p>

		<p>When you use this sudoers line, your user *must* use &quot;sudo -u wasdevadmin 
		-i&quot; or similar sudo command to become wasdevadmin. The &quot;-H&quot; option is optional, 
		but probably in line with the user&#39;s expectations. </p>

		<p>With this sudoers line, a command like &quot;sudo su wasdevadmin&quot; or &quot;sudo 
		su - wasdevadmin&quot; will *not* work. This is because these commands first 
		use sudo to become root, then use su to become the target user. Sudo can 
		do it in one step - but it requires that the user uses the correct syntax.
		</p>

		<p>MK </p>
	</blockquote>

	<p><b>ofure:</b></p>

	<blockquote>

		<p>Hi All, </p>

		<p>When I type this: sudo -u wasdevadmin -i it works without prompting me 
		for password but it is a long command. I want to be able to type su - wasdevadmin 
		and for it to call up sudo -u wasdevadmin -i </p>

		<p>Presently, I have this configuration: </p>

		<p>#cd /bin # ls -l su* root root 45 Feb 16 17:17 su root root 28336 Oct 
		30 2008 su.original </p>

		<p># cat su sudo su.original $@ </p>

		<p>So presently when I type su -, it call up sudo su.original, which works 
		fine for my switching to root access. How can I also have: &quot;sudo -u wasdevadmin 
		-i&quot; equal to &quot;su - wasdevadmin&quot; </p>

		<p>Thanks. </p>
	</blockquote>

	<p><b>ofure:</b></p>

	<blockquote>

		<p>I have resolved this by creating an alias for wasdevadmin. </p>

		<p>Thanks all. </p>
	</blockquote>

	<p><b>Tags:</b> <a href="../sudo.shtml">Sudo</a>,
	<a href="../../Commercial_unixes/HPUX/OSS/sudo_for_hpux.shtml">Sudo for HPUX</a></p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20110217X_sudoers_file"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20091017X_make_sudo_work_harder" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20091017X_running_complex_commands_with_sudo"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Oct 17, 2009]
<a target="_blank" href="http://www.ibm.com/developerworks/aix/library/au-sudo/?S_TACT=105AGY20&S_CMP=HP">
Make sudo work harder</a></h4>

<blockquote>
	<h6>Oct 06, 2009 |
	<a target="_blank" href="http://www.ibm.com/developerworks/">developerWorks</a></h6>
	To view what commands a user can run and what other constraints are assigned 
	under sudo, as the user, run:

	<pre>sudo -l</pre>

</blockquote>

<blockquote>

	<p><b>Using groups</b></p>

	<p>Users belonging to a valid AIX group can be included in sudoers, making the 
	sudoers file more manageable with fewer entries per user. When reorganizing 
	the sudoers entries to include groups, you may have to create a new groups under 
	AIX to include users that are only allowed to use sudo for certain commands. 
	To use groups, simply prefix the entries with a &#39;%&#39;. Assume you have groups 
	called <i>devops</i> and <i>devuat</i>, and with those groups you have the following 
	users:</p>

	<pre># lsgroup -f -a users devops

devops:
        users=joex,delta,charlie,tstgn

 # lsgroup -f -a users devuat
devuat:
        users=zebra,spsys,charlie
</pre>

	<p>For the group <i>devops</i> to be allowed to run the /usr/local/bin/data_ext.sh 
	command as dbdftst.</p>

	<p>For the group <i>devuat</i> to be allowed to run the commands :/usr/local/bin/data_mvup.sh, 
	/usr/local/bin/data_rep.sh as dbukuat.</p>

	<p>We could have the following sudoers entries:</p>

	<pre>%devops rs6000 =  (dbdftst) NOPASSWD: /usr/local/bin/data_ext.sh
%devuat rs6000 =  (dbukuat) /usr/local/bin/data_mvup.sh
%devuat rs6000 =  (dbukuat) /usr/local/bin/data_rep.sh</pre>

	<p>Notice in the previous entries, the group <i>devops</i> users will not be 
	prompted for their password when executing <font color="#0000FF">/usr/local/bin/data_ext.sh</font>; 
	however, the group <i>devuat</i> users will be prompted for their password. 
	User &quot;charlie&quot; is a member of both groups (<i>devops</i> and <i>devuat</i>), 
	so he can execute all the above commands.</p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20091017X_make_sudo_work_harder"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20091017X_running_complex_commands_with_sudo" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20091017X_secure_cooking_with_linux_part_2"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>
<a target="_blank" href="http://www.linuxjournal.com/content/running-complex-commands-sudo">
Running Complex Commands with sudo</a></h4>

<blockquote>
	<h6>
	<a target="_blank" href="http://www.linuxjournal.com/content/running-complex-commands-sudo">
	Linux Journal</a></h6>

	<p>If you use sudo to run commands as root, you&#39;ve probably run into "permission 
	denied" problems when only part of a pipeline or part of a command is running 
	with root permissions.</p>

	<p>This fails with "permission denied" because the file is writable only by 
	root:</p>

	<pre>$ echo 12000 &gt; /proc/sys/vm/dirty_writeback_centisecs</pre>

	<p>But, this fails too:</p>

	<pre>$ sudo echo 12000 &gt; /proc/sys/vm/dirty_writeback_centisecs</pre>

	<p>Why? The /bin/echo program is running as root, because of sudo, but the shell 
	that&#39;s redirecting echo&#39;s output to the root-only file is still running as you. 
	Your current shell does the redirection before sudo starts.</p>

	<p>The solution is to run the whole pipeline under sudo. There are a couple 
	ways to do it, but I prefer:</p>

	<pre>echo &quot;echo 12000 &gt; /proc/sys/vm/dirty_writeback_centisecs&quot; | sudo sh</pre>

	<p>That way, I can type everything before the pipe character, and see what I&#39;m 
	about to run as root, then press the up arrow and add the <kbd>| sudo sh</kbd>  
	to do it for real. This is not a big deal for short, obvious pipelines, but 
	when you&#39;re building up a more complicated command as root, it&#39;s safer to look 
	at it first before you run it.</p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20091017X_running_complex_commands_with_sudo"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20091017X_secure_cooking_with_linux_part_2" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20080918X_gentoo_sudo_ers_guide_gentoo_linux_documentation"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>
<a target="_blank" href="http://www.linuxdevcenter.com/pub/a/linux/excerpt/lsckbk_chap1/index2.html?page=2">
Secure Cooking with Linux, Part 2 </a></h4>

<blockquote>
	<h6>
	<a target="_blank" href="http://www.linuxdevcenter.com/pub/a/linux/excerpt/lsckbk_chap1/index2.html?page=2">
	O&#39;Reilly</a></h6>

	<p><b>Recipe 5.11. Permitting Read-Only Access to a Shared File via sudo</b></p>

	<p><i>Author&#39;s note: Sharing a file with multiple users is easy with Linux groups. 
	But what if you want to restrict some people to have read-only access to a file, 
	while giving others read/write access? This recipe, from Chapter 5, &quot;Authorization 
	Controls,&quot; explains how <code>sudo</code> can come to the rescue.</i></p>

	<p><b>Problem</b></p>

	<p>Two or more users want to share a file, some read/write and the others read-only.</p>

	<p><b>Solution</b></p>

	<p>Create two Linux groups, one for read/write and one for read-only users:</p>

	<pre><code><i>/etc/group:</i>
readers:x:300:r1,r2,r3,r4
writers:x:301:w1,w2,w3</code></pre>

	<p>Permit the writers group to write the file via group permissions:</p>

	<pre><code>$ chmod 660 shared_file
$ chgrp writers shared_file</code></pre>

	<p>Permit the readers group to read the file via <code>sudo</code>:</p>

	<pre><code><i>/etc/sudoers:</i>
%readers  ALL = (w1) /bin/cat /path/to/shared_file</code></pre>

	<p><b>Discussion</b></p>

	<p>This situation could arise in a university setting, for example, if a file 
	must be writable by a group of teaching assistants but read-only to a group 
	of students.</p>

	<p>If there were only two users -- one reader and one writer -- you could dispense 
	with groups and simply let the reader access the file via <code>sudo</code>. 
	If smith is the reader and jones the writer, and we give smith the following 
	capability:</p>

	<pre><code>/etc/sudoers:
smith  ALL = (jones) NOPASSWD: /bin/cat /home/jones/private.stuff</code></pre>

	<p>then jones can protect her file:</p>

	<pre><code>jones$ chmod 600 $HOME/private.stuff</code></pre>

	<p>and smith can view it:</p>

	<pre><code>smith$ sudo -u jones cat /home/jones/private.stuff</code></pre>

	<p><b>See Also</b></p>

	<p>sudo(8), sudoers(5), group(5), chmod(1), chgrp(1).</p>

	<p><i>Check back here next week for recipes from </i>Linux Security Cookbook<i> 
	on how to use PAM to restrict authentication on Linux systems, and how to use 
	SMTP to securely accept connections from arbitrary clients.</i></p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20091017X_secure_cooking_with_linux_part_2"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20080918X_gentoo_sudo_ers_guide_gentoo_linux_documentation" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20080219X_linux_com_sudo_or_not_sudo_that_is_the_question"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Sep 18, 2008]
<a target="_blank" href="http://www.gentoo.org/doc/en/sudo-guide.xml">Gentoo Sudo(ers) 
Guide - Gentoo Linux Documentation</a></h4>

<blockquote>
	<b>Sudoers Syntax</b>

	<p>Basic Syntax&gt;</p>

	<p>The most difficult part of sudo is the /etc/sudoers syntax. The basic syntax 
	is like so: </p>

	<pre>user  host = commands</pre>

	<p>This syntax tells sudo that the user, identified by user and logged on through 
	the system host can execute any of the commands listed in commands as the root 
	user. A more real-life example might make this more clear: allow the user swift 
	to execute emerge if he is logged on from the system (not through SSH): </p>

	<pre>swift  localhost = /usr/bin/emerge</pre>

	<p>A <font color="#ff0000"><b>big warning</b></font> is in place though: do 
	not allow a user to run an application that can allow people to elevate privileges. 
	For instance, allowing users to execute emerge as root can indeed grant them 
	full root access to the system because emerge can be manipulated to change the 
	live file system to the user&#39;s advantage. If you do not trust your sudo users, 
	don&#39;t grant them any rights. </p>

	<p>The user name can also be substituted with a group name - in this case you 
	should start the group name with a % sign. For instance, to allow any one in 
	the wheel group to execute emerge: </p>

	<pre>%wheel  localhost = /usr/bin/emerge</pre>

	<p>You can extend the line to allow for several commands (instead of making 
	a single entry for each command). For instance, to allow the same user to not 
	only run emerge but also ebuild and emerge-webrsync as root: </p>

	<pre>swift  localhost = /usr/bin/emerge, /usr/bin/ebuild, /usr/sbin/emerge-webrsync</pre>

	<p>You can also specify a precise command and not only the tool itself. This 
	is useful to restrict the use of a certain tool to a specified set of command 
	options. The sudo tool allows shell-style wildcards (AKA meta or glob characters) 
	to be used in pathnames as well as command line arguments in the sudoers file. 
	Note that these are not regular expressions. </p>

	<p>Let us put this to the test: </p>

	<pre>$ sudo emerge -uDN world

We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

Password: (Enter the user password, not root!)
</pre>

	<p>The password that sudo requires is the user&#39;s own password. This is to make 
	sure that no terminal that you accidentally left open to others is abused for 
	malicious purposes. </p>

	<p>You should know that sudo does not alter the ${PATH} variable: any command 
	you place after sudo is treated from your environment. If you want the user 
	to run a tool in for instance /sbin he should provide the full path to sudo, 
	like so: </p>

	<pre>$ sudo /usr/sbin/emerge-webrsync
</pre>

	<p><b><a name="doc_chap2_sect2">Using Aliases</a></b></p>

	<p>In larger environments having to enter all users over and over again (or 
	hosts, or commands) can be a daunting task. To ease the administration of /etc/sudoers 
	you can define aliases. The format to declare aliases is quite simple: </p>

	<pre>Host_Alias hostalias = hostname1, hostname2, ...
User_Alias useralias = user1, user2, ...
Cmnd_Alias cmndalias = command1, command2, ...
</pre>

	<p>One alias that always works, for any position, is the ALL alias (to make 
	a good distinction between aliases and non-aliases it is recommended to use 
	capital letters for aliases). As you might undoubtedly have guessed, the ALL 
	alias is an alias to all possible settings. </p>

	<p>A sample use of the ALL alias to allow any user to execute the shutdown command 
	if he is logged on locally is: </p>

	<pre>ALL  localhost = /sbin/shutdown
</pre>

	<p>Another example is to allow the user swift to execute the emerge command 
	as root, regardless of where he is logged in from: </p>

	<pre>swift   ALL = /usr/bin/emerge
</pre>

	<p>More interesting is to define a set of users who can run software administrative 
	applications (such as emerge and ebuild) on the system and a group of administrators 
	who can change the password of any user, except root! </p>

	<pre>User_Alias  SOFTWAREMAINTAINERS = swift, john, danny
User_Alias  PASSWORDMAINTAINERS = swift, sysop
Cmnd_Alias  SOFTWARECOMMANDS    = /usr/bin/emerge, /usr/bin/ebuild
Cmnd_Alias  PASSWORDCOMMANDS    = /usr/bin/passwd [a-zA-Z0-9_-]*, !/usr/bin/passwd root

SOFTWAREMAINTAINERS  localhost = SOFTWARECOMMANDS
PASSWORDMAINTAINERS  localhost = PASSWORDCOMMANDS
</pre>

	<p><b><a name="doc_chap2_sect3">Non-Root Execution</a></b></p>

	<p>It is also possible to have a user run an application as a different, non-root 
	user. This can be very interesting if you run applications as a different user 
	(for instance apache for the web server) and want to allow certain users to 
	perform administrative steps as that user (like killing zombie processes).
	</p>

	<p>Inside /etc/sudoers you list the user(s) in between ( and ) before the command 
	listing: </p>

	<pre>users  hosts = (run-as) commands</pre>

	<p>For instance, to allow swift to run the kill tool as the apache or gorg user:
	</p>

	<pre>Cmnd_Alias KILL = /bin/kill, /usr/bin/pkill

swift   ALL = (apache, gorg) KILL</pre>

	<p>With this set, the user can run sudo -u to select the user he wants to run 
	the application as: </p>

	<pre>$ sudo -u apache pkill apache</pre>

	<p>You can set an alias for the user to run an application as using the Runas_Alias 
	directive. Its use is identical to the other _Alias directives we have seen 
	before. </p>

	<p><a name="doc_chap2_sect4">Passwords and Default Settings</a></p>

	<p>By default, sudo asks the user to identify himself using his own password. 
	Once a password is entered, sudo remembers it for 5 minutes, allowing the user 
	to focus on his tasks and not repeatedly re-entering his password. </p>

	<p>Of course, this behavior can be changed: you can set the Defaults: directive 
	in /etc/sudoers to change the default behavior for a user. </p>

	<p>For instance, to change the default 5 minutes to 0 (never remember): </p>

	<pre>Defaults:swift  timestamp_timeout=0
</pre>

	<p>A setting of -1 would remember the password indefinitely (until the system 
	reboots). </p>

	<p>A different setting would be to require the password of the user that the 
	command should be run as and not the users&#39; personal password. This is accomplished 
	using runaspw. In the following example we also set the number of retries (how 
	many times the user can re-enter a password before sudo fails) to 2 instead 
	of the default 3: </p>

	<pre>Defaults:john   runaspw, passwd_tries=2</pre>

	<p>Another interesting feature is to keep the DISPLAY variable set so that you 
	can execute graphical tools: </p>

	<pre>Defaults:john env_keep=DISPLAY</pre>

	<p>You can change dozens of default settings using the Defaults: directive. 
	Fire up the sudo manual page and search for Defaults. </p>

	<p>If you however want to allow a user to run a certain set of commands without 
	providing any password whatsoever, you need to start the commands with NOPASSWD:, 
	like so: </p>

	<pre>swift     localhost = NOPASSWD: /usr/bin/emerge</pre>

	<p><b>3. Using Sudo</b></p>

	<p><a name="doc_chap3_sect1">Listing Privileges</a></p>

	<p>To inform yourself what your capabilities are, run sudo -l: </p>

	<pre>$ sudo -l
User swift may run the following commands on this host:
    (root)   /usr/libexec/xfsm-shutdown-helper
    (root)   /usr/bin/emerge
    (root)   /usr/bin/passwd [a-zA-Z0-9_-]*
    (root)   !/usr/bin/passwd root
    (apache) /usr/bin/pkill
    (apache) /bin/kill
</pre>

	<p>If you have any command in /etc/sudoers that does not require you to enter 
	a password, it will not require a password to list the entries either. Otherwise 
	you might be asked for your password if it isn&#39;t remembered. </p>

	<p><a name="doc_chap3_sect2">Prolonging the Password Timeout</a></p>

	<p>By default, if a user has entered his password to authenticate himself to 
	sudo, it is remembered for 5 minutes. If the user wants to prolong this period, 
	he can run sudo -v to reset the time stamp so that it will take another 5 minutes 
	before sudo asks for the password again. </p>

	<pre>$ sudo -v
</pre>

	<p>The inverse is to kill the time stamp using sudo -k. </p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20080918X_gentoo_sudo_ers_guide_gentoo_linux_documentation"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20080219X_linux_com_sudo_or_not_sudo_that_is_the_question" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20080130X_sudo_faq"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Feb 19, 2008] <a target="_blank" href="http://www.linux.com/feature/125895">
Linux.com sudo, or not sudo that is the question</a></h4>

<blockquote>
	The format of the sudoers file is simple: it starts with four optional sections, 
	and it ends with the specific rights assignments. It can include empty lines, 
	or comment lines that start with the <code>#</code> sign. The optional sections 
	are:<ul>

		<li><b>User Alias</b>: Specifies an alias for a single user (not very useful) 
		or a set of users. A user can appear in several aliases. </li>

		<li><b>&quot;Run as&quot; Alias</b>: Specifies which other user(s) the sudo user will 
		be able to work as. By default, sudo implies root, but you might want to 
		run as another user. </li>

		<li><b>Host Alias</b>: Specifies the hosts that the rights apply to. You 
		won&#39;t be using this unless you&#39;re doing sysadmin jobs for a group of several 
		Linux boxes. You would have to rsync the file to the other hosts, or use 
		something like Network Information Service (NIS) to provide access to the 
		file. </li>

		<li><b>Command Alias</b>: Specifies a synonym for a specific command. For 
		instance, it&#39;s easier to type <code>APT</code> than a fully qualified absolute 
		path such as /usr/sbin/apt-get. </li>
	</ul>

	<p>You don&#39;t need to use aliases, but they do make future editing easier. For 
	example, if you have to assign donald_duck the same rights that mickey_mouse 
	has, just add the former to the latter&#39;s group, and you won&#39;t have to spend 
	lots of time duplicating lines everywhere. A special alias called ALL exists, 
	and you can use it anywhere; it can mean ALL users, ALL hosts, and so on.</p>

	<p>After these sections, you must have a section for specific rights, which 
	looks like &quot;who where = (whoelse) what,&quot; meaning <i>who</i> (a user, a group, 
	or a user alias) on the host <i>where</i> can run a command <i>what</i> as a 
	user <i>whoelse</i>. (If this is too cryptic, look at the following example.) 
	You can also include several specific options, such as NOPASSWD to allow a user 
	to sudo without entering his password; check the manual for the other options.</p>

	<p>This sample doesn&#39;t show every configuration possible (for that, you should 
	do <code>man sudoers</code>), but here&#39;s what a sample file with some of these 
	options might look like:</p>

	<pre>
#
# Sample /etc/sudoers file, with apologies to the Disney company!
#

# User aliases
# The first line creates an alias for three specific users.
# The second one includes everybody in the &quot;ducks&quot; user group, but excludes &quot;donald&quot;
# The third one creates an alias for just one user; it can be useful in the future!
#
User_Alias	NEPHEWS = huey, dewey, louie
User_Alias	ALL_DUCKS_BUT_DONALD = %ducks, !donald
User_Alias	MICKEY = mickey_mouse

# Command aliases

Cmnd_Alias      HALT_OR_REBOOT = /sbin/halt
Cmnd_Alias      KILL = /usr/bin/killall
Cmnd_Alias      SHUTDOWN = /sbin/shutdown
Cmnd_Alias      SU = /bin/su

# The rights: who gets to run what

# A standard rule: root, and users in group &quot;wheel&quot;, have full rights
root            ALL = (ALL) ALL
%wheel          ALL = (ALL) ALL

# Suppose mickey is an sysadmin; let him run anything without a password
MICKEY		ALL = NOPASSWD: ALL

# NEPHEWS can stop the box if they want
NEPHEWS		HALT_OR_REBOOT, SHUTDOWN
																					</pre>

	<p>You can also add some
	<a target="_blank" href="http://www.sudo.ws/sudo/man/sudoers.html#sudoers_options">
	extra configuration lines</a> at the end of the configuration file. You can 
	specify, for example:</p>

	<ul>

		<li>Whether emails should be sent for wrong passwords or unallowed attempts 
		to use sudo </li>

		<li>How many login attempts to allow before exiting </li>

		<li>Whether the user should get a short lecture about the risks involved 
		in using sudo </li>

		<li>A log file specific to sudo, where all commands will be logged </li>
	</ul>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20080219X_linux_com_sudo_or_not_sudo_that_is_the_question"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20080130X_sudo_faq" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20080130X_linux_tips_password_usage_in_sudo_passwd_nopasswd_mdlog_sysadmin"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jan 30, 2008]
<a target="_blank" href="http://polishlinux.org/first-steps/root-account/sudo-faq/">
Sudo FAQ</a></h4>

<blockquote>
	<h6>
	<a target="_blank" href="http://polishlinux.org/first-steps/root-account/sudo-faq/">
	polishlinux.org</a></h6>

	<p><b>The syntax of <code>/etc/sudoers</code>.</b><br>
	The basic syntax of <code>/etc/sudoers</code> file looks like this: </p>

	<p><code>user computer = command</code></p>

	<p>In short, it means that the <code>user</code> logged into <code>computer</code> 
	can run the <code>command</code> with administrative privileges. Here is an 
	example: </p>

	<p><code>johnny localhost = /usr/bin/du</code></p>

	<p>This means that <code>johnny</code> will be able to use <code>du</code> (disk 
	usage) command on <code>localhost</code> (the current computer).<br>
	Warning: if the computer name has been change, a real name (not localhost) needs 
	to be entered.. </p>

	<p><b>2.b. Granting users of group <code>XXX</code> the right to execute the 
	command <code>YYY</code>: </b><br>
	<code>% XXX localhost = /the/path/to/command/YYY</code></p>

	<p><b>2.c. Allow to execute many command in one rule:</b><br>
	<code>johnny localhost = /usr/bin/du, /usr/bin/nail, /usr/bin/sane</code></p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20080130X_sudo_faq"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20080130X_linux_tips_password_usage_in_sudo_passwd_nopasswd_mdlog_sysadmin" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#n20071027X_sudo_tools_sudolog_usage_and_sudoers_lint"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Jan 30, 2008]
<a target="_blank" href="http://www.ducea.com/2006/06/18/linux-tips-password-usage-in-sudo-passwd-nopasswd/">
Linux Tips Password usage in sudo (PASSWD - NOPASSWD) MDLog-sysadmin</a></h4>
<h5>NOPASSWD option is useful for temporary granting a specific user access to root: 
you enroll him to the wheel group and submit at command that deletes him from this 
group at the end of the specified period. This way you do not need to communicate 
the password to the user at all and thus do not need change it back after the period 
for which the user was granted tem root access expire... </h5>

<blockquote>

	<p>You have an entry in your <b>sudoers </b>file that contains something like 
	this:</p>

	<pre><code>admin    ALL=(ALL) ALL</code></pre>

	<p>then sudo will require you to enter a password when running a command with 
	sudo. This is the <b>user password</b> (<i>and not the root password</i>), in 
	this case the password of the user "admin".</p>

	<p><b>targetpw</b></p>

	<p>If for some reason you want to change this behavior, then you can use the 
	sudo global flag <b>targetpw</b>. This is by default <b>OFF</b>, and if you 
	set it like show bellow then the password you will be asked while running sudo 
	will be the password of the <b>target user</b> (in our case the root password).</p>

	<pre><code>Defaults    targetpw</code></pre>

	<p>Personally, I don't see the use of this parameter and never used it myself… 
	But maybe someone else will find it useful.</p>

	<p><b>NOPASSWD</b></p>

	<p>If you don't want to be prompted for any password while running sudo then 
	we can use the <b>NOPASSWD </b>parameter on a <i>particular entry</i>:</p>

	<pre><code>admin    ALL = NOPASSWD: ALL</code></pre>

	<p>this parameter is the opposite of the default <b>PASSWD </b>and will <i>no 
	longer require any password</i> for the user "admin" while running sudo. This 
	can be of useful while running scripts that will launch sudo (<i>in this case 
	I would recommend to enable NOPASSWD only for the needed commands</i>), or just 
	if you don't want to keep typing the password. Obviously with this commodity, 
	you will reduce the security of sudo: if someone hacks the "admin" account then 
	this can be easily used to gain root privileges.</p>

	<p><b>authenticate</b></p>

	<p>Another sudo option that can be used to control the prompt for a password 
	is the global flag: <b>authenticate</b>. This is by default <b>ON</b> and this 
	means that it will ask the user to authenticate with a password. This can be 
	overwritten as seen above with the <b>NOPASSWD </b>on a particular entry. If 
	we want to disable it globally, this can be done with:</p>

	<pre><code>Defaults    !authenticate</code></pre>

	<p>Once set, this will disable <i>authentication for all users</i> that use 
	the defaults like our "admin" sample from above. It can be overwritten on particular 
	definition by setting the <b>PASSWD </b>parameter:</p>

	<pre><code>admin    ALL=(ALL) PASSWD: ALL</code></pre>

	<p><b>Note</b>: this post doesn't recommend you to disable the passwords usage 
	in sudo (this is not a good idea, by the way), but just to show you what options 
	are available and how you can use them. Knowing the security implications of 
	disabling password usage in sudo, use them wisely based on your particular needs.</p>
</blockquote>

</em></b></i><center><table border="0" width="100"><tr>
<td align="center"><a href="#n20080130X_linux_tips_password_usage_in_sudo_passwd_nopasswd_mdlog_sysadmin"><img border="0" src="/Images/up.png" width="16" height="16"></a></td>
<td align="center"><a name="n20071027X_sudo_tools_sudolog_usage_and_sudoers_lint" href="#NEWS_TOC"><img border="0" src="/Images/home.gif" width="16" height="18"></a></td>
<td align="center"><a href="#NEWS_TOC"><img border="0" src="/Images/down.png" width="16" height="16"></a></td>
</tr></table></center>

<h4>[Oct 27, 2007]
<a target="_blank" href="http://www.komar.org/pres/sudo-tools/">sudo-tools sudolog-usage 
and sudoers-lint</a></h4>

<blockquote>

	<ul>

		<li>sudolog-usage: Slices/dices the sudolog (syslog output from sudo) better 
		than a Ron-ko-Matic from K-tel and summarizes who used sudo on what hosts.
		</li>

		<li>sudoers-lint: Slices/dices the sudoers files in various ways so you 
		can see if any &quot;cruff&quot; has accumulated in there and/or &quot;orphaned&quot; entries.
		</li>
	</ul>
	Here&#39;s the
	<a target="_blank" href="http://www.komar.org/pres/sudo-tools/sudo-tools-1.2.tar">
	tarball for sudo-tools-1.2 (2003_12_15)</a> ... basically just two Perl scripts 
	... VERY simple to install/configure/run ...
</blockquote>

<hr>
</em></b></i><h2 align="center"><a name="Recommended_Links">Recommended Links</a></h2>

<table border="0" width="100%" height="220">
<tr>
<td width="100%" align="center">	

<h3>Google matched content</h3>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4031247137266443"
     data-ad-slot="1626659014"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</td>
</table>
<h3>Softpanorama Recommended</h3>

<h3><a name="Top_articles">Top articles</a></h3><h3><a name="Sites">Sites</a></h3>


<p><b><a target="_blank" href="https://blather.michaelwlucas.com/archives/2266">Sudo talk now on YouTube </a></b>Sudo: You're Doing It Wrong.<b>
<a target="_blank" href="https://blather.michaelwlucas.com/archives/2266">" blather.michaelwlucas.com</a></b></p>

<p><b><a target="_blank" href="https://annvix.com/using_sudo_to_limit_access">Using Sudo to Limit Access</a> by Vincent Danen March 25, 2008</b></p>
<ul>

   <li>Compare to: <a target="_blank" href="https://www.linux.com/blog/configuring-sudo-explaination-example">Configuring sudo Explaination with an 
   example Linux.com </a> Ankit Mehta, May 14, 2009 </li>
</ul>

<p><a target="_blank" href="https://www.tecmint.com/sudoers-configurations-for-setting-sudo-in-linux/">10 Useful Sudoers Configurations for Setting 
'sudo' in Linux</a></p>

<p><b><a target="_blank" href="http://www.sudo.ws/sudo/sample.sudoers">Sample /etc/sudoers file from sudo official website www.sudo.ws
</a></b></p>

<h4 align="left"><a target="_blank" href="http://www.komar.org/pres/sudo/">Sudo</a> 
at a VERY LARGE site by Alek Komarnitsky</h4>

<ul>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/site.html">Some 
	notes about the UNIX Environment</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/why03.html">Why 
	do you need something like sudo?</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/soft04.html">Getting/Configuring 
	sudo</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/soft14.html">Misc. 
	&quot;Tricks&quot; for Large Heterogeneous Networks</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/sudoer05.html">Controlling 
	Access</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/view06.html">Using 
	Sudo</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/syslog07.html">Logging/Audit 
	Trail</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/work09.html">How 
	well does Sudo actually work?</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/other.html">Other 
	sudo-like Utilities</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/issues.html">Misc. 
	issues/concerns</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/future10.html">Future 
	needs/work with Sudo</a> </li>

	<li><a target="_blank" href="http://www.komar.org/pres/sudo/summ11.html">Summary</a>
	</li>
</ul>

<h4><a target="_blank" href="http://www.aplawrence.com/Basics/sudo.html">Using Sudo</a><u>
</u>-- article by A.P. Lawrence </h4>

<h4>
<a target="_blank" href="http://unix.about.com/library/weekly/aa102500a.htm">Managing 
Root Access with Sudo</a>. About.com</h4>

<p>Links from <a target="_blank" href="https://www.sudo.ws/doc_other.html">Other Sudo Documentation</a></p>
<blockquote>

   <p>I gave a talk at <a target="_blank" href="http://www.socallinuxexpo.org/scale9x/">SCALE 9x</a> on plugin support in sudo 1.8. The
   <a target="_blank" href="https://www.sudo.ws/slides/Sudo_SCALE9x.pdf">slides from the presentation</a> are available. </p>

   <p><a target="_blank" href="http://www.komar.org/">Alek Komarnitsky</a> has a nice <a target="_blank" href="http://www.komar.org/pres/sudo/">slide show</a> on 
   how to use <em>sudo</em> in a large, heterogeneous environment. </p>

   <p><a target="_blank" href="http://www.aplawrence.com/">A.P. Lawrence</a> has a nice article that covers the <em>sudo</em> basics entitled
   <a target="_blank" href="http://www.aplawrence.com/Basics/sudo.html">Using Sudo</a>. </p>

   <p><a target="_blank" href="http://polishlinux.org/">polishlinux.com</a> has a short
   <a target="_blank" href="http://polishlinux.org/first-steps/root-account/sudo-faq/">Sudo FAQ</a> in the
   <a target="_blank" href="http://polishlinux.org/first-steps/root-account/">Root account</a> section of their
   <a target="_blank" href="http://polishlinux.org/first-steps/installing-software/">Installing software in GNU/Linux</a> document. </p>

   <p><a target="_blank" href="https://www.linkedin.com/pub/peter-allan/44/a0/58b">Peter M. Allan</a> has written a short article on
   <a target="_blank" href="http://www.zen19351.zen.co.uk/article_series/sudo_policy_basics.html">sudo policy basics</a>. </p>

   <p><a target="_blank" href="https://www.michaelwlucas.com/">Michael W. Lucas</a> has a made his video
   <a target="_blank" href="http://blather.michaelwlucas.com/archives/2266">Sudo: Your're Doing It Wrong</a> available online. </p>

   <p><a target="_blank" href="https://www.michaelwlucas.com/">Michael W. Lucas</a> has written a book about Sudo called
   <a target="_blank" href="https://www.michaelwlucas.com/nonfiction/sudo-mastery">Sudo Mastery</a>. </p>

   <p> </p>
</blockquote>
<hr>
<hr noshade color="#FF0000" size="5">

<h2><a name="Etc">Etc</a></h2>

<p align="left"><b><a href="/Bulletin/Humor/last_but_not_least.shtml">The Last but not Least</a> <em></b>Technology is dominated by 
two types of people: those who understand what they do not manage and those who manage what they do not understand ~Archibald Putt. 
Ph.D</em></p>
<hr size="5" noshade color="#FF0000"><font face="Verdana" size="1">

<p><i><b>Copyright © 1996-2018 by Dr. Nikolai Bezroukov</b></i>. <a target="_blank" href>www.softpanorama.org</a> 
was initially created as a service to the (now defunct) UN Sustainable Development Networking Programme (<a target="_blank" href="http://www.un.org/Depts/dhl/sflib/">SDNP</a>) 
in the author free time and without any remuneration. This document is an industrial compilation designed and <b>created exclusively 
for educational use</b> and is distributed under the <a href="/license.shtml">Softpanorama Content License</a>. 
Original materials copyright belong 
to respective owners. <i><b>Quotes are made<font color="#FF0000"> for educational purposes only</font> 
in compliance with the fair use doctrine. </b></i> 
</p>

<p><em><b>FAIR USE NOTICE</b> </em>This site contains 
		copyrighted material the use of which has not always been specifically 
		authorized by the copyright owner. We are making such material available 
		to advance understanding of computer science, IT technology, economic, scientific, and social  
		issues. We believe this constitutes a 'fair use' of any such 
		copyrighted material as provided by section 107 of the US Copyright Law according to which 
such material can be distributed without profit exclusively for research and educational purposes.</p>

<p><b>This is a Spartan WHYFF (We Help You For Free) 
site written by people for whom English is not a native language.</b> Grammar and spelling errors should 
be expected. <b>The site contain some broken links as it develops like a living tree...</b></p>

<table border="0" width="100%">
<tr>
<td><font face="Verdana" size="1">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</font></td>
<td><font face="Verdana" size="1">You can use PayPal to make a contribution, supporting development 
of this site and speed up access. In case softpanorama.org is down you can use the at softpanorama.info </font></td>
</tr>
</table>

<p><b>Disclaimer:</b> </p>

<p><i>The statements, views and opinions presented on this web page are those of the author (or 
referenced source) and are 
not endorsed by, nor do they necessarily reflect, the opinions of the author present and former employers, SDNP or any other organization the author may be associated with.</i> <i>We do not warrant the correctness 
of the information provided or its fitness for any purpose.</i></p>
</font>

<p><font face="Verdana" size="1">

The site uses AdSense so you need to be aware of Google privacy policy. You you do not want to be 
tracked by Google please disable Javascript for this site. <em>This site is perfectly usable without 
Javascript.</em> 
</font></p>

<p><i>Last modified:
<!--webbot bot="Timestamp" s-type="EDITED" s-format="%B, %d, %Y" startspan -->November, 09, 2019<!--webbot bot="Timestamp" i-checksum="39507" endspan -->

</body>

</html>